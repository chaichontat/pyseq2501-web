import{S as ut,i as ft,s as pt,F as ps,e as u,k as P,c as f,a as d,m as N,d as o,b as n,g as L,H as l,I as _s,J as ds,K as cs,q as ue,o as _e,ao as Ns,ap as Os,M as Ts,aq as Ss,t as E,w as We,P as rt,h as y,x as Ge,Q as it,W as V,a9 as Z,y as Re,X as R,T as ge,aa as Y,B as Ye,Y as Gt,N as Se,al as Cs,O as we,aj as yl,j as de,V as at,Z as nt,f as Ds,n as As,p as Vs,_ as ot}from"./vendor-79b73b07.js";import{G as Vl,r as Ms}from"./go-176230ad.js";import{a as Je,s as Al,u as nl,c as ol,b as js}from"./utils-e684163d.js";import{t as Wt}from"./tooltip-ab038c1a.js";const Us=e=>({}),ms=e=>({});function Bs(e){let s,a,i,b,I,_,t;const v=e[3].buttons,c=ps(v,e,e[2],ms),j=e[3].default,m=ps(j,e,e[2],null);return{c(){s=u("span"),c&&c.c(),a=P(),i=u("content"),m&&m.c(),b=P(),I=u("div"),_=u("progress"),this.h()},l(h){s=f(h,"SPAN",{class:!0});var w=d(s);c&&c.l(w),a=N(w),i=f(w,"CONTENT",{class:!0});var T=d(i);m&&m.l(T),b=N(T),I=f(T,"DIV",{class:!0});var k=d(I);_=f(k,"PROGRESS",{class:!0}),d(_).forEach(o),k.forEach(o),T.forEach(o),w.forEach(o),this.h()},h(){n(_,"class","relative w-full h-2 overflow-hidden rounded-lg shadow appearance-none svelte-ica9vh"),_.value=e[1],n(I,"class","mt-1"),n(i,"class","flex-grow px-4 py-2 border rounded-lg border-base-300 bg-white/60"),n(s,"class","z-40 flex w-full space-x-2")},m(h,w){L(h,s,w),c&&c.m(s,null),l(s,a),l(s,i),m&&m.m(i,null),l(i,b),l(i,I),l(I,_),t=!0},p(h,[w]){c&&c.p&&(!t||w&4)&&_s(c,v,h,h[2],t?cs(v,h[2],w,Us):ds(h[2]),ms),m&&m.p&&(!t||w&4)&&_s(m,j,h,h[2],t?cs(j,h[2],w,null):ds(h[2]),null),(!t||w&2)&&(_.value=h[1])},i(h){t||(ue(c,h),ue(m,h),t=!0)},o(h){_e(c,h),_e(m,h),t=!1},d(h){h&&o(s),c&&c.d(h),m&&m.d(h)}}}function Ls(e,s,a){let i,b=Ts,I=()=>(b(),b=Os(v,c=>a(1,i=c)),v);e.$$.on_destroy.push(()=>b());let{$$slots:_={},$$scope:t}=s;const v=Ns(0,{duration:400,easing:Ss});return I(),e.$$set=c=>{"$$scope"in c&&a(2,t=c.$$scope)},[v,i,t,_]}class la extends ut{constructor(s){super();ft(this,s,Ls,Bs,pt,{progress:0})}get progress(){return this.$$.ctx[0]}}function Fs(e){let s,a,i,b,I,_,t,v,c,j,m,h,w,T,k,A,r,g,S,F,H;return w=new Vl({props:{disabled:e[3]}}),w.$on("click",e[11]),{c(){s=u("div"),a=u("div"),i=u("span"),b=E("X"),I=P(),_=u("input"),t=P(),v=u("span"),c=E("Y"),j=P(),m=u("input"),h=P(),We(w.$$.fragment),T=P(),k=u("button"),A=rt("svg"),r=rt("path"),g=E(`
    Current`),this.h()},l(D){s=f(D,"DIV",{class:!0});var U=d(s);a=f(U,"DIV",{class:!0});var B=d(a);i=f(B,"SPAN",{class:!0});var q=d(i);b=y(q,"X"),q.forEach(o),I=N(B),_=f(B,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),t=N(B),v=f(B,"SPAN",{class:!0});var X=d(v);c=y(X,"Y"),X.forEach(o),j=N(B),m=f(B,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),B.forEach(o),h=N(U),Ge(w.$$.fragment,U),T=N(U),k=f(U,"BUTTON",{type:!0,class:!0});var J=d(k);A=it(J,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var C=d(A);r=it(C,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),d(r).forEach(o),C.forEach(o),g=y(J,`
    Current`),J.forEach(o),U.forEach(o),this.h()},h(){n(i,"class","flex items-center border-l rounded-l-lg color-group svelte-awp8a4"),V(i,"span-disabled",e[2].block),n(_,"type","number"),n(_,"min","-5"),n(_,"max","30"),n(_,"step","0.01"),n(_,"class","z-10 h-10 text-center rounded-none pretty w-28"),_.disabled=e[3],n(v,"class","flex items-center color-group svelte-awp8a4"),V(v,"span-disabled",e[2].block),n(m,"type","number"),n(m,"min","-5"),n(m,"max","80"),n(m,"step","0.01"),n(m,"class","z-10 h-10 text-center rounded-l-none rounded-r-lg pretty w-28"),m.disabled=e[3],n(a,"class","flex font-medium"),n(r,"stroke-linecap","round"),n(r,"stroke-linejoin","round"),n(r,"stroke-width","2"),n(r,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),n(A,"xmlns","http://www.w3.org/2000/svg"),n(A,"class","w-5 h-5 mr-1"),n(A,"fill","none"),n(A,"viewBox","0 0 24 24"),n(A,"stroke","currentColor"),n(k,"type","button"),n(k,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),k.disabled=e[3],n(s,"class","flex gap-x-2")},m(D,U){L(D,s,U),l(s,a),l(a,i),l(i,b),l(a,I),l(a,_),Z(_,e[0][0]),l(a,t),l(a,v),l(v,c),l(a,j),l(a,m),Z(m,e[0][1]),l(s,h),Re(w,s,null),l(s,T),l(s,k),l(k,A),l(A,r),l(k,g),S=!0,F||(H=[R(_,"input",e[7]),R(_,"change",e[8]),ge(Je.call(null,_,[-5,30])),R(m,"input",e[9]),R(m,"change",e[10]),ge(Je.call(null,m,[-5,80])),R(k,"click",e[6])],F=!0)},p(D,[U]){U&4&&V(i,"span-disabled",D[2].block),(!S||U&8)&&(_.disabled=D[3]),U&1&&Y(_.value)!==D[0][0]&&Z(_,D[0][0]),U&4&&V(v,"span-disabled",D[2].block),(!S||U&8)&&(m.disabled=D[3]),U&1&&Y(m.value)!==D[0][1]&&Z(m,D[0][1]);const B={};U&8&&(B.disabled=D[3]),w.$set(B),(!S||U&8)&&(k.disabled=D[3])},i(D){S||(ue(w.$$.fragment,D),S=!0)},o(D){_e(w.$$.fragment,D),S=!1},d(D){D&&o(s),Ye(w),F=!1,Gt(H)}}}function qs(e,s,a){let i,b,I,_;Se(e,Al,r=>a(2,i=r)),Se(e,Al,r=>a(12,b=r)),Se(e,nl,r=>a(13,I=r)),Se(e,ol,r=>a(4,_=r));const t=Cs();let{i:v}=s,{xy:c=[-1,-1]}=s;function j(){const{x:r,y:g}=Ms(I.image_params.fc,b.x,b.y);a(0,c[0]=Math.round((r+Number.EPSILON)*100)/100,c),a(0,c[1]=Math.round((g+Number.EPSILON)*100)/100,c)}let m=!1;function h(){c[0]=Y(this.value),a(0,c)}const w=()=>t("change");function T(){c[1]=Y(this.value),a(0,c)}const k=()=>t("change"),A=()=>{we(Al,i.block="moving",i),we(ol,_={move:v===0?{xy0:c}:{xy1:c}},_)};return e.$$set=r=>{"i"in r&&a(1,v=r.i),"xy"in r&&a(0,c=r.xy)},e.$$.update=()=>{e.$$.dirty&4&&a(3,m=Boolean(i.block))},[c,v,i,m,_,t,j,h,w,T,k,A]}class hs extends ut{constructor(s){super();ft(this,s,qs,Fs,pt,{i:1,xy:0})}}function Zs(e){let s;return{c(){s=E("Set")},l(a){s=y(a,"Set")},m(a,i){L(a,s,i)},d(a){a&&o(s)}}}function Hs(e){let s,a,i,b,I,_,t,v,c,j,m,h,w,T,k,A;return{c(){s=u("option"),a=E("Open"),i=u("option"),b=E("0.2"),I=u("option"),_=E("0.5"),t=u("option"),v=E("0.6"),c=u("option"),j=E("1.0"),m=u("option"),h=E("2.4"),w=u("option"),T=E("4.0"),k=u("option"),A=E("Closed"),this.h()},l(r){s=f(r,"OPTION",{});var g=d(s);a=y(g,"Open"),g.forEach(o),i=f(r,"OPTION",{});var S=d(i);b=y(S,"0.2"),S.forEach(o),I=f(r,"OPTION",{});var F=d(I);_=y(F,"0.5"),F.forEach(o),t=f(r,"OPTION",{});var H=d(t);v=y(H,"0.6"),H.forEach(o),c=f(r,"OPTION",{});var D=d(c);j=y(D,"1.0"),D.forEach(o),m=f(r,"OPTION",{});var U=d(m);h=y(U,"2.4"),U.forEach(o),w=f(r,"OPTION",{});var B=d(w);T=y(B,"4.0"),B.forEach(o),k=f(r,"OPTION",{});var q=d(k);A=y(q,"Closed"),q.forEach(o),this.h()},h(){s.__value="Open",s.value=s.__value,i.__value="0.2",i.value=i.__value,I.__value="0.5",I.value=I.__value,t.__value="0.6",t.value=t.__value,c.__value="1.0",c.value=c.__value,m.__value="2.4",m.value=m.__value,w.__value="4.0",w.value=w.__value,k.__value="Closed",k.value=k.__value},m(r,g){L(r,s,g),l(s,a),L(r,i,g),l(i,b),L(r,I,g),l(I,_),L(r,t,g),l(t,v),L(r,c,g),l(c,j),L(r,m,g),l(m,h),L(r,w,g),l(w,T),L(r,k,g),l(k,A)},d(r){r&&o(s),r&&o(i),r&&o(I),r&&o(t),r&&o(c),r&&o(m),r&&o(w),r&&o(k)}}}function Xs(e){let s,a,i,b,I,_,t,v,c,j,m,h,w,T,k,A;return{c(){s=u("option"),a=E("Open"),i=u("option"),b=E("1.0"),I=u("option"),_=E("2.0"),t=u("option"),v=E("3.5"),c=u("option"),j=E("3.8"),m=u("option"),h=E("4.0"),w=u("option"),T=E("4.5"),k=u("option"),A=E("Closed"),this.h()},l(r){s=f(r,"OPTION",{});var g=d(s);a=y(g,"Open"),g.forEach(o),i=f(r,"OPTION",{});var S=d(i);b=y(S,"1.0"),S.forEach(o),I=f(r,"OPTION",{});var F=d(I);_=y(F,"2.0"),F.forEach(o),t=f(r,"OPTION",{});var H=d(t);v=y(H,"3.5"),H.forEach(o),c=f(r,"OPTION",{});var D=d(c);j=y(D,"3.8"),D.forEach(o),m=f(r,"OPTION",{});var U=d(m);h=y(U,"4.0"),U.forEach(o),w=f(r,"OPTION",{});var B=d(w);T=y(B,"4.5"),B.forEach(o),k=f(r,"OPTION",{});var q=d(k);A=y(q,"Closed"),q.forEach(o),this.h()},h(){s.__value="Open",s.value=s.__value,i.__value="1.0",i.value=i.__value,I.__value="2.0",I.value=I.__value,t.__value="3.5",t.value=t.__value,c.__value="3.8",c.value=c.__value,m.__value="4.0",m.value=m.__value,w.__value="4.5",w.value=w.__value,k.__value="Closed",k.value=k.__value},m(r,g){L(r,s,g),l(s,a),L(r,i,g),l(i,b),L(r,I,g),l(I,_),L(r,t,g),l(t,v),L(r,c,g),l(c,j),L(r,m,g),l(m,h),L(r,w,g),l(w,T),L(r,k,g),l(k,A)},d(r){r&&o(s),r&&o(i),r&&o(I),r&&o(t),r&&o(c),r&&o(m),r&&o(w),r&&o(k)}}}function Ws(e){let s,a,i,b,I,_,t,v=(Boolean(e[1])?660:532)+"",c,j,m,h,w,T,k,A,r,g,S,F,H=2*e[1]+"",D,U,B,q,X,J,C=2*e[1]+1+"",Pe,ke,W,rl,ce,Ee,se,il,Ce=(Number(e[0].od[e[1]]!=-1)*e[0].lasers[e[1]]*Math.pow(10,-e[0].od[e[1]])).toFixed(4)+"",ae,ul,ee,me,ye;k=new Vl({props:{disabled:e[4].block,$$slots:{default:[Zs]},$$scope:{ctx:e}}}),k.$on("click",e[8]);function De(z,M){return z[1]==0?Xs:Hs}let Ke=De(e),fe=Ke(e);return{c(){s=u("p"),a=u("span"),i=u("label"),b=u("input"),_=P(),t=u("div"),c=E(v),j=E(" nm"),m=P(),h=u("input"),T=E(`
    mW
    `),We(k.$$.fragment),A=P(),r=u("label"),g=u("input"),F=E(`
    Channel `),D=E(H),U=P(),B=u("label"),q=u("input"),J=E(`
    Channel `),Pe=E(C),ke=P(),W=u("span"),rl=E(`Filter OD
    `),ce=u("select"),fe.c(),Ee=P(),se=u("p"),il=E("Effective: "),ae=E(Ce),ul=E(" mW"),this.h()},l(z){s=f(z,"P",{class:!0});var M=d(s);a=f(M,"SPAN",{class:!0});var re=d(a);i=f(re,"LABEL",{});var ne=d(i);b=f(ne,"INPUT",{type:!0,class:!0}),_=N(ne),t=f(ne,"DIV",{class:!0});var pe=d(t);c=y(pe,v),j=y(pe," nm"),pe.forEach(o),ne.forEach(o),m=N(re),h=f(re,"INPUT",{type:!0,class:!0,min:!0,max:!0}),T=y(re,`
    mW
    `),Ge(k.$$.fragment,re),re.forEach(o),A=N(M),r=f(M,"LABEL",{class:!0});var Ne=d(r);g=f(Ne,"INPUT",{type:!0,class:!0}),F=y(Ne,`
    Channel `),D=y(Ne,H),Ne.forEach(o),U=N(M),B=f(M,"LABEL",{class:!0});var Ae=d(B);q=f(Ae,"INPUT",{type:!0,class:!0}),J=y(Ae,`
    Channel `),Pe=y(Ae,C),Ae.forEach(o),ke=N(M),W=f(M,"SPAN",{class:!0});var Ve=d(W);rl=y(Ve,`Filter OD
    `),ce=f(Ve,"SELECT",{class:!0});var Qe=d(ce);fe.l(Qe),Qe.forEach(o),Ee=N(Ve),se=f(Ve,"P",{class:!0});var Me=d(se);il=y(Me,"Effective: "),ae=y(Me,Ce),ul=y(Me," mW"),Me.forEach(o),Ve.forEach(o),M.forEach(o),this.h()},h(){n(b,"type","checkbox"),n(b,"class",I=yl(`rounded mr-1 ${e[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"),n(t,"class","inline font-semibold"),V(t,"text-green-800",e[0].laser_onoff[e[1]]&&!e[1]),V(t,"text-red-800",e[0].laser_onoff[e[1]]&&e[1]),n(h,"type","number"),n(h,"class","w-[4.5rem] h-8 pr-2 pretty"),n(h,"min","0"),n(h,"max","500"),h.disabled=w=!e[0].laser_onoff[e[1]],V(h,"pretty-disabled",!e[0].laser_onoff[0]),n(a,"class","flex items-center gap-x-2"),V(a,"text-gray-400",!e[0].laser_onoff[e[1]]),n(g,"type","checkbox"),n(g,"class",S=yl(`mr-1 rounded ${e[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"),n(r,"class","rounded-lg channel ring-red-500 svelte-6ipz4o"),V(r,"text-gray-400",!e[0].channels[2*e[1]]),n(q,"type","checkbox"),n(q,"class",X=yl(`mr-1 rounded ${e[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"),n(B,"class","channel svelte-6ipz4o"),V(B,"text-gray-400",!e[0].channels[2*e[1]+1]),n(ce,"class","py-1 text-sm border-gray-400 rounded-lg disabled:border-gray-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"),n(se,"class","ml-3 text-sm font-medium"),n(W,"class","ml-8 font-normal opacity-85"),n(s,"class","flex flex-col")},m(z,M){L(z,s,M),l(s,a),l(a,i),l(i,b),b.checked=e[0].laser_onoff[e[1]],l(i,_),l(i,t),l(t,c),l(t,j),l(a,m),l(a,h),Z(h,e[0].lasers[e[1]]),l(a,T),Re(k,a,null),l(s,A),l(s,r),l(r,g),g.checked=e[0].channels[2*e[1]],l(r,F),l(r,D),l(s,U),l(s,B),l(B,q),q.checked=e[0].channels[2*e[1]+1],l(B,J),l(B,Pe),l(s,ke),l(s,W),l(W,rl),l(W,ce),fe.m(ce,null),l(W,Ee),l(W,se),l(se,il),l(se,ae),l(se,ul),ee=!0,me||(ye=[R(b,"change",e[6]),R(h,"input",e[7]),ge(Je.call(null,h,[0,500])),R(g,"change",e[9]),R(q,"change",e[10]),R(ce,"change",e[5])],me=!0)},p(z,[M]){(!ee||M&2&&I!==(I=yl(`rounded mr-1 ${z[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"))&&n(b,"class",I),M&3&&(b.checked=z[0].laser_onoff[z[1]]),(!ee||M&2)&&v!==(v=(Boolean(z[1])?660:532)+"")&&de(c,v),M&3&&V(t,"text-green-800",z[0].laser_onoff[z[1]]&&!z[1]),M&3&&V(t,"text-red-800",z[0].laser_onoff[z[1]]&&z[1]),(!ee||M&3&&w!==(w=!z[0].laser_onoff[z[1]]))&&(h.disabled=w),M&3&&Y(h.value)!==z[0].lasers[z[1]]&&Z(h,z[0].lasers[z[1]]),M&1&&V(h,"pretty-disabled",!z[0].laser_onoff[0]);const re={};M&16&&(re.disabled=z[4].block),M&2048&&(re.$$scope={dirty:M,ctx:z}),k.$set(re),M&3&&V(a,"text-gray-400",!z[0].laser_onoff[z[1]]),(!ee||M&2&&S!==(S=yl(`mr-1 rounded ${z[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"))&&n(g,"class",S),M&3&&(g.checked=z[0].channels[2*z[1]]),(!ee||M&2)&&H!==(H=2*z[1]+"")&&de(D,H),M&3&&V(r,"text-gray-400",!z[0].channels[2*z[1]]),(!ee||M&2&&X!==(X=yl(`mr-1 rounded ${z[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"))&&n(q,"class",X),M&3&&(q.checked=z[0].channels[2*z[1]+1]),(!ee||M&2)&&C!==(C=2*z[1]+1+"")&&de(Pe,C),M&3&&V(B,"text-gray-400",!z[0].channels[2*z[1]+1]),Ke!==(Ke=De(z))&&(fe.d(1),fe=Ke(z),fe&&(fe.c(),fe.m(ce,null))),(!ee||M&3)&&Ce!==(Ce=(Number(z[0].od[z[1]]!=-1)*z[0].lasers[z[1]]*Math.pow(10,-z[0].od[z[1]])).toFixed(4)+"")&&de(ae,Ce)},i(z){ee||(ue(k.$$.fragment,z),ee=!0)},o(z){_e(k.$$.fragment,z),ee=!1},d(z){z&&o(s),Ye(k),fe.d(),me=!1,Gt(ye)}}}function Gs(e,s,a){let i,b,I;Se(e,ol,T=>a(2,i=T)),Se(e,nl,T=>a(3,b=T)),Se(e,Al,T=>a(4,I=T));let{params:_}=s,{i:t}=s;function v(T){let k;switch(T.currentTarget.value){case"Open":k=0;break;case"Closed":k=-1;break;default:k=Number(T.currentTarget.value)}a(0,_.od[t]=k,_),we(nl,b.image_params.od[t]=_.od[t],b),we(ol,i={move:{od:t===0?[_.od[t],void 0]:[void 0,_.od[t]]}},i)}function c(){_.laser_onoff[t]=this.checked,a(0,_)}function j(){_.lasers[t]=Y(this.value),a(0,_)}const m=()=>{we(nl,b.image_params.laser_onoff[t]=_.laser_onoff[t],b),we(nl,b.image_params.lasers[t]=_.lasers[t],b),we(ol,i={move:{lasers:t===0?[_.lasers[t],void 0]:[void 0,_.lasers[t]],laser_onoff:t===0?[_.laser_onoff[t],void 0]:[void 0,_.laser_onoff[t]]}},i)};function h(){_.channels[2*t]=this.checked,a(0,_)}function w(){_.channels[2*t+1]=this.checked,a(0,_)}return e.$$set=T=>{"params"in T&&a(0,_=T.params),"i"in T&&a(1,t=T.i)},[_,t,i,b,I,v,c,j,m,h,w]}class vs extends ut{constructor(s){super();ft(this,s,Gs,Ws,pt,{params:0,i:1})}}function bs(e){let s,a;return s=new Vl({props:{color:"sky",cl:"text-lg font-semibold shadow-md shadow-sky-700/10 h-12",$$slots:{default:[Rs]},$$scope:{ctx:e}}}),{c(){We(s.$$.fragment)},l(i){Ge(s.$$.fragment,i)},m(i,b){Re(s,i,b),a=!0},i(i){a||(ue(s.$$.fragment,i),a=!0)},o(i){_e(s.$$.fragment,i),a=!1},d(i){Ye(s,i)}}}function Rs(e){let s;return{c(){s=E("Preview")},l(a){s=y(a,"Preview")},m(a,i){L(a,s,i)},d(a){a&&o(s)}}}function gs(e){let s,a,i,b,I,_;return{c(){s=u("p"),a=E("Image Path"),i=P(),b=u("input"),this.h()},l(t){s=f(t,"P",{class:!0});var v=d(s);a=y(v,"Image Path"),v.forEach(o),i=N(t),b=f(t,"INPUT",{type:!0,class:!0}),this.h()},h(){n(s,"class","text-lg svelte-1m4l8fo"),n(b,"type","text"),n(b,"class","max-w-md mb-4 pretty"),V(b,"invalid",!e[0].path)},m(t,v){L(t,s,v),l(s,a),L(t,i,v),L(t,b,v),Z(b,e[0].path),I||(_=R(b,"input",e[10]),I=!0)},p(t,v){v&1&&b.value!==t[0].path&&Z(b,t[0].path),v&1&&V(b,"invalid",!t[0].path)},d(t){t&&o(s),t&&o(i),t&&o(b),I=!1,_()}}}function ks(e){let s;return{c(){s=E("per z-stack.")},l(a){s=y(a,"per z-stack.")},m(a,i){L(a,s,i)},d(a){a&&o(s)}}}function Es(e){let s,a=e[1].n_z+"",i,b,I,_=e[0].z_obj+e[0].z_from*e[0].z_spacing+"",t,v,c=e[0].z_obj+e[0].z_to*e[0].z_spacing+"",j,m,h,w,T=(e[1].n_z?zl(e[1].n_z*e[1].time):zl(e[1].time))+"",k,A,r=e[1].n_z>1&&ys();return{c(){s=u("div"),i=E(a),b=E(" Z step"),r&&r.c(),I=E(" from "),t=E(_),v=E(" to "),j=E(c),m=P(),h=u("div"),w=E("Total time: "),k=E(T),A=E("."),this.h()},l(g){s=f(g,"DIV",{class:!0});var S=d(s);i=y(S,a),b=y(S," Z step"),r&&r.l(S),I=y(S," from "),t=y(S,_),v=y(S," to "),j=y(S,c),S.forEach(o),m=N(g),h=f(g,"DIV",{class:!0});var F=d(h);w=y(F,"Total time: "),k=y(F,T),A=y(F,"."),F.forEach(o),this.h()},h(){n(s,"class","px-2 font-base"),n(h,"class","px-2 font-semibold")},m(g,S){L(g,s,S),l(s,i),l(s,b),r&&r.m(s,null),l(s,I),l(s,t),l(s,v),l(s,j),L(g,m,S),L(g,h,S),l(h,w),l(h,k),l(h,A)},p(g,S){S&2&&a!==(a=g[1].n_z+"")&&de(i,a),g[1].n_z>1?r||(r=ys(),r.c(),r.m(s,I)):r&&(r.d(1),r=null),S&1&&_!==(_=g[0].z_obj+g[0].z_from*g[0].z_spacing+"")&&de(t,_),S&1&&c!==(c=g[0].z_obj+g[0].z_to*g[0].z_spacing+"")&&de(j,c),S&2&&T!==(T=(g[1].n_z?zl(g[1].n_z*g[1].time):zl(g[1].time))+"")&&de(k,T)},d(g){g&&o(s),r&&r.d(),g&&o(m),g&&o(h)}}}function ys(e){let s;return{c(){s=E("s")},l(a){s=y(a,"s")},m(a,i){L(a,s,i)},d(a){a&&o(s)}}}function Ys(e){let s,a,i,b,I,_,t,v,c,j,m,h,w,T,k,A,r,g,S,F,H,D,U,B,q,X,J,C,Pe,ke,W,rl,ce,Ee,se,il,Ce,ae,ul,ee,me,ye,De,Ke,fe,z,M,re,ne,pe,Ne=e[1].width.toFixed(2)+"",Ae,Ve,Qe=e[1].height.toFixed(2)+"",Me,_t,dt,je,Il=e[1].n_cols+"",Ml,ct,wl=e[1].n_bundles+"",jl,mt,ht,ze,Pl=zl(e[1].time)+"",Ul,vt,bt,$e,hl,gt,kt,xe,el,fl,vl,Et,yt,ll,he,zt,Ue,It,pl,bl,wt,Pt,Oe,ve,Nt,Be,Ot,Ie,Le,_l,Tt,Nl,St,Bl,Ct,tl,sl,Te,Ll,Dt,Fe,al,At,Vt,Mt,K,qe,jt,Ut,Q,Fl,Bt,Ze,Lt,Ft,$,ql,qt,He,Zt,Ht,x,Zl,ie,Xt,Rt,G=e[3]&&bs(e),le=!e[3]&&gs(e);function zs(p){e[11](p)}let Yt={i:0};e[0]!==void 0&&(Yt.params=e[0]),A=new vs({props:Yt}),at.push(()=>nt(A,"params",zs));function Is(p){e[12](p)}let Jt={i:1};e[0]!==void 0&&(Jt.params=e[0]),S=new vs({props:Jt}),at.push(()=>nt(S,"params",Is));function ws(p){e[13](p)}let Kt={i:0};e[0].xy0!==void 0&&(Kt.xy=e[0].xy0),W=new hs({props:Kt}),at.push(()=>nt(W,"xy",ws)),W.$on("change",e[6]);function Ps(p){e[14](p)}let Qt={i:1};e[0].xy1!==void 0&&(Qt.xy=e[0].xy1),ae=new hs({props:Qt}),at.push(()=>nt(ae,"xy",Ps)),ae.$on("change",e[6]);let oe=e[2]&&ks();Ue=new Vl({props:{disabled:e[4].block}}),Ue.$on("click",e[17]),Be=new Vl({props:{disabled:e[4].block}}),Be.$on("click",e[19]);let te=e[2]&&Es(e);return{c(){s=u("div"),a=u("section"),i=u("p"),b=E("Name"),I=P(),_=u("div"),t=u("input"),v=P(),G&&G.c(),c=P(),le&&le.c(),j=P(),m=u("section"),h=u("h2"),w=E("Laser and Channels"),T=P(),k=u("div"),We(A.$$.fragment),g=P(),We(S.$$.fragment),H=P(),D=u("section"),U=u("h2"),B=E("Positions"),q=P(),X=u("div"),J=u("div"),C=u("p"),Pe=E("\u{1F4CC} Corner 1"),ke=P(),We(W.$$.fragment),ce=P(),Ee=u("div"),se=u("p"),il=E("\u{1F4CD} Corner 2"),Ce=P(),We(ae.$$.fragment),ee=P(),me=u("div"),ye=u("div"),De=u("p"),Ke=E("X-Overlap"),fe=P(),z=u("input"),M=E(`
          (0-1)`),re=P(),ne=u("div"),pe=u("span"),Ae=E(Ne),Ve=E(" \xD7 "),Me=E(Qe),_t=E(" mm."),dt=P(),je=u("span"),Ml=E(Il),ct=E(" columns of "),jl=E(wl),mt=E(" bundles."),ht=P(),ze=u("span"),Ul=E(Pl),vt=P(),oe&&oe.c(),bt=P(),$e=u("section"),hl=u("h2"),gt=E("Focus"),kt=P(),xe=u("div"),el=u("div"),fl=u("div"),vl=u("p"),Et=E("Z Tilt"),yt=P(),ll=u("div"),he=u("input"),zt=P(),We(Ue.$$.fragment),It=P(),pl=u("div"),bl=u("p"),wt=E("Z Objective"),Pt=P(),Oe=u("span"),ve=u("input"),Nt=P(),We(Be.$$.fragment),Ot=P(),Ie=u("button"),Le=rt("svg"),_l=rt("path"),Tt=P(),Nl=u("span"),St=E("Autofocus"),Ct=P(),tl=u("div"),sl=u("label"),Te=u("input"),Dt=P(),Fe=u("div"),al=u("div"),At=E("Z-Stack"),Vt=P(),te&&te.c(),Mt=P(),K=u("div"),qe=u("span"),jt=E("Spacing"),Ut=P(),Q=u("input"),Bt=P(),Ze=u("span"),Lt=E("From"),Ft=P(),$=u("input"),qt=P(),He=u("span"),Zt=E("To"),Ht=P(),x=u("input"),this.h()},l(p){s=f(p,"DIV",{id:!0,class:!0,style:!0});var O=d(s);a=f(O,"SECTION",{class:!0});var Xe=d(a);i=f(Xe,"P",{class:!0});var Ol=d(i);b=y(Ol,"Name"),Ol.forEach(o),I=N(Xe),_=f(Xe,"DIV",{class:!0});var dl=d(_);t=f(dl,"INPUT",{type:!0,class:!0}),v=N(dl),G&&G.l(dl),dl.forEach(o),c=N(Xe),le&&le.l(Xe),Xe.forEach(o),j=N(O),m=f(O,"SECTION",{class:!0});var cl=d(m);h=f(cl,"H2",{class:!0});var Tl=d(h);w=y(Tl,"Laser and Channels"),Tl.forEach(o),T=N(cl),k=f(cl,"DIV",{class:!0});var ml=d(k);Ge(A.$$.fragment,ml),g=N(ml),Ge(S.$$.fragment,ml),ml.forEach(o),cl.forEach(o),H=N(O),D=f(O,"SECTION",{class:!0});var Hl=d(D);U=f(Hl,"H2",{class:!0});var $t=d(U);B=y($t,"Positions"),$t.forEach(o),q=N(Hl),X=f(Hl,"DIV",{class:!0});var gl=d(X);J=f(gl,"DIV",{});var Xl=d(J);C=f(Xl,"P",{class:!0});var xt=d(C);Pe=y(xt,"\u{1F4CC} Corner 1"),xt.forEach(o),ke=N(Xl),Ge(W.$$.fragment,Xl),Xl.forEach(o),ce=N(gl),Ee=f(gl,"DIV",{});var Wl=d(Ee);se=f(Wl,"P",{class:!0});var es=d(se);il=y(es,"\u{1F4CD} Corner 2"),es.forEach(o),Ce=N(Wl),Ge(ae.$$.fragment,Wl),Wl.forEach(o),ee=N(gl),me=f(gl,"DIV",{class:!0});var Gl=d(me);ye=f(Gl,"DIV",{});var Sl=d(ye);De=f(Sl,"P",{class:!0});var ls=d(De);Ke=y(ls,"X-Overlap"),ls.forEach(o),fe=N(Sl),z=f(Sl,"INPUT",{type:!0,class:!0,step:!0,min:!0,max:!0}),M=y(Sl,`
          (0-1)`),Sl.forEach(o),re=N(Gl),ne=f(Gl,"DIV",{class:!0});var kl=d(ne);pe=f(kl,"SPAN",{class:!0});var Cl=d(pe);Ae=y(Cl,Ne),Ve=y(Cl," \xD7 "),Me=y(Cl,Qe),_t=y(Cl," mm."),Cl.forEach(o),dt=N(kl),je=f(kl,"SPAN",{class:!0});var Dl=d(je);Ml=y(Dl,Il),ct=y(Dl," columns of "),jl=y(Dl,wl),mt=y(Dl," bundles."),Dl.forEach(o),ht=N(kl),ze=f(kl,"SPAN",{class:!0});var Rl=d(ze);Ul=y(Rl,Pl),vt=N(Rl),oe&&oe.l(Rl),Rl.forEach(o),kl.forEach(o),Gl.forEach(o),gl.forEach(o),Hl.forEach(o),bt=N(O),$e=f(O,"SECTION",{class:!0});var Yl=d($e);hl=f(Yl,"H2",{class:!0});var ts=d(hl);gt=y(ts,"Focus"),ts.forEach(o),kt=N(Yl),xe=f(Yl,"DIV",{class:!0});var Jl=d(xe);el=f(Jl,"DIV",{class:!0});var Kl=d(el);fl=f(Kl,"DIV",{});var Ql=d(fl);vl=f(Ql,"P",{class:!0});var ss=d(vl);Et=y(ss,"Z Tilt"),ss.forEach(o),yt=N(Ql),ll=f(Ql,"DIV",{class:!0});var $l=d(ll);he=f($l,"INPUT",{type:!0,class:!0,min:!0,max:!0}),zt=N($l),Ge(Ue.$$.fragment,$l),$l.forEach(o),Ql.forEach(o),It=N(Kl),pl=f(Kl,"DIV",{});var xl=d(pl);bl=f(xl,"P",{class:!0});var as=d(bl);wt=y(as,"Z Objective"),as.forEach(o),Pt=N(xl),Oe=f(xl,"SPAN",{class:!0});var El=d(Oe);ve=f(El,"INPUT",{type:!0,class:!0,min:!0,max:!0}),Nt=N(El),Ge(Be.$$.fragment,El),Ot=N(El),Ie=f(El,"BUTTON",{type:!0,class:!0});var et=d(Ie);Le=it(et,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var ns=d(Le);_l=it(ns,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),d(_l).forEach(o),ns.forEach(o),Tt=N(et),Nl=f(et,"SPAN",{});var os=d(Nl);St=y(os,"Autofocus"),os.forEach(o),et.forEach(o),El.forEach(o),xl.forEach(o),Kl.forEach(o),Ct=N(Jl),tl=f(Jl,"DIV",{class:!0});var lt=d(tl);sl=f(lt,"LABEL",{class:!0});var tt=d(sl);Te=f(tt,"INPUT",{type:!0,class:!0}),Dt=N(tt),Fe=f(tt,"DIV",{class:!0});var st=d(Fe);al=f(st,"DIV",{class:!0});var rs=d(al);At=y(rs,"Z-Stack"),rs.forEach(o),Vt=N(st),te&&te.l(st),st.forEach(o),tt.forEach(o),Mt=N(lt),K=f(lt,"DIV",{class:!0,id:!0});var be=d(K);qe=f(be,"SPAN",{class:!0});var is=d(qe);jt=y(is,"Spacing"),is.forEach(o),Ut=N(be),Q=f(be,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Bt=N(be),Ze=f(be,"SPAN",{class:!0});var us=d(Ze);Lt=y(us,"From"),us.forEach(o),Ft=N(be),$=f(be,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),qt=N(be),He=f(be,"SPAN",{class:!0});var fs=d(He);Zt=y(fs,"To"),fs.forEach(o),Ht=N(be),x=f(be,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),be.forEach(o),lt.forEach(o),Jl.forEach(o),Yl.forEach(o),O.forEach(o),this.h()},h(){n(i,"class","mt-1 text-lg svelte-1m4l8fo"),n(t,"type","text"),n(t,"class","flex-grow h-12 max-w-md mb-4 text-lg pretty"),V(t,"invalid",e[7](e[0].name)),n(_,"class","flex gap-x-2"),n(a,"class","flex flex-col text-lg font-medium"),n(h,"class","svelte-1m4l8fo"),n(k,"class","grid grid-cols-2 min-w-[600px]"),V(k,"opacity-70",e[4].block),n(m,"class","font-medium leading-10 "),n(U,"class","svelte-1m4l8fo"),n(C,"class","svelte-1m4l8fo"),n(se,"class","svelte-1m4l8fo"),n(De,"class","svelte-1m4l8fo"),n(z,"type","number"),n(z,"class","w-20 pr-2 pretty"),n(z,"step","0.01"),n(z,"min","0"),n(z,"max","0.99"),n(pe,"class","tabular-nums"),n(je,"class","tabular-nums"),n(ze,"class","tabular-nums"),V(ze,"font-semibold",!e[2]),n(ne,"class","flex flex-col justify-center font-normal"),n(me,"class","flex gap-8"),n(X,"class","-mt-1 space-y-4"),n(D,"class","flex flex-col gap-2"),V(D,"-mt-20",e[3]),n(hl,"class","svelte-1m4l8fo"),n(vl,"class","svelte-1m4l8fo"),n(he,"type","number"),n(he,"class","w-28 pretty"),n(he,"min","0"),n(he,"max","25000"),n(ll,"class","flex gap-2"),n(bl,"class","svelte-1m4l8fo"),n(ve,"type","number"),n(ve,"class","w-28 pretty"),n(ve,"min","0"),n(ve,"max","60000"),n(_l,"fill-rule","evenodd"),n(_l,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),n(_l,"clip-rule","evenodd"),n(Le,"xmlns","http://www.w3.org/2000/svg"),n(Le,"class","w-5 h-5 mr-1"),n(Le,"viewBox","0 0 20 20"),n(Le,"fill","currentColor"),n(Ie,"type","button"),Ie.disabled=Bl=e[4].block,n(Ie,"class","px-4 py-1 font-medium text-gray-900 rounded-lg w-36 white-button"),n(Oe,"class","flex gap-2"),n(el,"class","flex space-x-8"),n(Te,"type","checkbox"),n(Te,"class","mr-1 rounded focus:ring-blue-600"),Te.disabled=Ll=e[4].block==="capturing",n(al,"class","pr-2"),V(al,"font-medium",e[2]),n(Fe,"class","flex divide-x-2"),n(sl,"class","flex items-center gap-x-1"),n(qe,"class","flex items-center border-l rounded-l-lg color-group svelte-1m4l8fo"),V(qe,"span-disabled",e[4].block||!e[2]),n(Q,"type","number"),n(Q,"min","1"),n(Q,"max","60000"),n(Q,"step","1"),n(Q,"class","z-10 h-10 text-center rounded-none pretty w-28"),Q.disabled=Fl=e[4].block||!e[2],V(Q,"disabled",e[4].block||!e[2]),n(Ze,"class","flex items-center color-group svelte-1m4l8fo"),V(Ze,"span-disabled",e[4].block||!e[2]),n($,"type","number"),n($,"min","-100"),n($,"max","100"),n($,"step","1"),n($,"class","z-10 w-16 h-10 text-center rounded-none pretty"),$.disabled=ql=e[4].block||!e[2],V($,"disabled",e[4].block||!e[2]),n(He,"class","flex items-center color-group svelte-1m4l8fo"),V(He,"span-disabled",e[4].block||!e[2]),n(x,"type","number"),n(x,"min","-100"),n(x,"max","100"),n(x,"step","1"),n(x,"class","z-10 w-16 h-10 text-center rounded-l-none rounded-r-lg pretty"),x.disabled=Zl=e[4].block||!e[2],V(x,"disabled",e[4].block||!e[2]),n(K,"class","flex font-medium"),n(K,"id","zBox"),n(tl,"class","space-y-2"),n(xe,"class","-mt-1 space-y-4"),n($e,"class","flex flex-col gap-2"),n(s,"id","control"),n(s,"class","grid gap-y-6"),Ds(s,"grid-template-columns","minmax(500px, 1fr) 1fr")},m(p,O){L(p,s,O),l(s,a),l(a,i),l(i,b),l(a,I),l(a,_),l(_,t),Z(t,e[0].name),l(_,v),G&&G.m(_,null),l(a,c),le&&le.m(a,null),l(s,j),l(s,m),l(m,h),l(h,w),l(m,T),l(m,k),Re(A,k,null),l(k,g),Re(S,k,null),l(s,H),l(s,D),l(D,U),l(U,B),l(D,q),l(D,X),l(X,J),l(J,C),l(C,Pe),l(J,ke),Re(W,J,null),l(X,ce),l(X,Ee),l(Ee,se),l(se,il),l(Ee,Ce),Re(ae,Ee,null),l(X,ee),l(X,me),l(me,ye),l(ye,De),l(De,Ke),l(ye,fe),l(ye,z),Z(z,e[0].overlap),l(ye,M),l(me,re),l(me,ne),l(ne,pe),l(pe,Ae),l(pe,Ve),l(pe,Me),l(pe,_t),l(ne,dt),l(ne,je),l(je,Ml),l(je,ct),l(je,jl),l(je,mt),l(ne,ht),l(ne,ze),l(ze,Ul),l(ze,vt),oe&&oe.m(ze,null),l(s,bt),l(s,$e),l($e,hl),l(hl,gt),l($e,kt),l($e,xe),l(xe,el),l(el,fl),l(fl,vl),l(vl,Et),l(fl,yt),l(fl,ll),l(ll,he),Z(he,e[0].z_tilt),l(ll,zt),Re(Ue,ll,null),l(el,It),l(el,pl),l(pl,bl),l(bl,wt),l(pl,Pt),l(pl,Oe),l(Oe,ve),Z(ve,e[0].z_obj),l(Oe,Nt),Re(Be,Oe,null),l(Oe,Ot),l(Oe,Ie),l(Ie,Le),l(Le,_l),l(Ie,Tt),l(Ie,Nl),l(Nl,St),l(xe,Ct),l(xe,tl),l(tl,sl),l(sl,Te),Te.checked=e[2],l(sl,Dt),l(sl,Fe),l(Fe,al),l(al,At),l(Fe,Vt),te&&te.m(Fe,null),l(tl,Mt),l(tl,K),l(K,qe),l(qe,jt),l(K,Ut),l(K,Q),Z(Q,e[0].z_spacing),l(K,Bt),l(K,Ze),l(Ze,Lt),l(K,Ft),l(K,$),Z($,e[0].z_from),l(K,qt),l(K,He),l(He,Zt),l(K,Ht),l(K,x),Z(x,e[0].z_to),ie=!0,Xt||(Rt=[R(t,"input",e[9]),R(z,"input",e[15]),ge(Je.call(null,z,[.01,.99])),R(he,"input",e[16]),ge(Je.call(null,he,[0,25e3])),R(ve,"input",e[18]),ge(Je.call(null,ve,[0,6e4])),R(Te,"change",e[20]),ge(Wt.call(null,qe,"Nyquist is 232.")),R(Q,"input",e[21]),ge(Je.call(null,Q,[1,6e4])),ge(Wt.call(null,Ze,"Multiple of Spacing")),R($,"input",e[22]),ge(Je.call(null,$,[-100,100])),ge(Wt.call(null,He,"Multiple of Spacing")),R(x,"input",e[23]),ge(Je.call(null,x,[-100,100]))],Xt=!0)},p(p,[O]){O&1&&t.value!==p[0].name&&Z(t,p[0].name),O&129&&V(t,"invalid",p[7](p[0].name)),p[3]?G?O&8&&ue(G,1):(G=bs(p),G.c(),ue(G,1),G.m(_,null)):G&&(As(),_e(G,1,1,()=>{G=null}),Vs()),p[3]?le&&(le.d(1),le=null):le?le.p(p,O):(le=gs(p),le.c(),le.m(a,null));const Xe={};!r&&O&1&&(r=!0,Xe.params=p[0],ot(()=>r=!1)),A.$set(Xe);const Ol={};!F&&O&1&&(F=!0,Ol.params=p[0],ot(()=>F=!1)),S.$set(Ol),O&16&&V(k,"opacity-70",p[4].block);const dl={};!rl&&O&1&&(rl=!0,dl.xy=p[0].xy0,ot(()=>rl=!1)),W.$set(dl);const cl={};!ul&&O&1&&(ul=!0,cl.xy=p[0].xy1,ot(()=>ul=!1)),ae.$set(cl),O&1&&Y(z.value)!==p[0].overlap&&Z(z,p[0].overlap),(!ie||O&2)&&Ne!==(Ne=p[1].width.toFixed(2)+"")&&de(Ae,Ne),(!ie||O&2)&&Qe!==(Qe=p[1].height.toFixed(2)+"")&&de(Me,Qe),(!ie||O&2)&&Il!==(Il=p[1].n_cols+"")&&de(Ml,Il),(!ie||O&2)&&wl!==(wl=p[1].n_bundles+"")&&de(jl,wl),(!ie||O&2)&&Pl!==(Pl=zl(p[1].time)+"")&&de(Ul,Pl),p[2]?oe||(oe=ks(),oe.c(),oe.m(ze,null)):oe&&(oe.d(1),oe=null),O&4&&V(ze,"font-semibold",!p[2]),O&8&&V(D,"-mt-20",p[3]),O&1&&Y(he.value)!==p[0].z_tilt&&Z(he,p[0].z_tilt);const Tl={};O&16&&(Tl.disabled=p[4].block),Ue.$set(Tl),O&1&&Y(ve.value)!==p[0].z_obj&&Z(ve,p[0].z_obj);const ml={};O&16&&(ml.disabled=p[4].block),Be.$set(ml),(!ie||O&16&&Bl!==(Bl=p[4].block))&&(Ie.disabled=Bl),(!ie||O&16&&Ll!==(Ll=p[4].block==="capturing"))&&(Te.disabled=Ll),O&4&&(Te.checked=p[2]),O&4&&V(al,"font-medium",p[2]),p[2]?te?te.p(p,O):(te=Es(p),te.c(),te.m(Fe,null)):te&&(te.d(1),te=null),O&20&&V(qe,"span-disabled",p[4].block||!p[2]),(!ie||O&20&&Fl!==(Fl=p[4].block||!p[2]))&&(Q.disabled=Fl),O&1&&Y(Q.value)!==p[0].z_spacing&&Z(Q,p[0].z_spacing),O&20&&V(Q,"disabled",p[4].block||!p[2]),O&20&&V(Ze,"span-disabled",p[4].block||!p[2]),(!ie||O&20&&ql!==(ql=p[4].block||!p[2]))&&($.disabled=ql),O&1&&Y($.value)!==p[0].z_from&&Z($,p[0].z_from),O&20&&V($,"disabled",p[4].block||!p[2]),O&20&&V(He,"span-disabled",p[4].block||!p[2]),(!ie||O&20&&Zl!==(Zl=p[4].block||!p[2]))&&(x.disabled=Zl),O&1&&Y(x.value)!==p[0].z_to&&Z(x,p[0].z_to),O&20&&V(x,"disabled",p[4].block||!p[2])},i(p){ie||(ue(G),ue(A.$$.fragment,p),ue(S.$$.fragment,p),ue(W.$$.fragment,p),ue(ae.$$.fragment,p),ue(Ue.$$.fragment,p),ue(Be.$$.fragment,p),ie=!0)},o(p){_e(G),_e(A.$$.fragment,p),_e(S.$$.fragment,p),_e(W.$$.fragment,p),_e(ae.$$.fragment,p),_e(Ue.$$.fragment,p),_e(Be.$$.fragment,p),ie=!1},d(p){p&&o(s),G&&G.d(),le&&le.d(),Ye(A),Ye(S),Ye(W),Ye(ae),oe&&oe.d(),Ye(Ue),Ye(Be),te&&te.d(),Xt=!1,Gt(Rt)}}}function Js(e,s){e&&(e.querySelectorAll("input").forEach(a=>a.disabled=s),e.querySelectorAll("select").forEach(a=>a.disabled=s),e.querySelectorAll("button").forEach(a=>a.disabled=s))}function zl(e){const s=new Date(e*1e3).toISOString();return e>3600?`${s.substring(11,19)} hrs`:`${s.substring(14,19)} mins`}function Ks(e,s,a){let i,b,I;Se(e,Al,C=>a(4,i=C)),Se(e,nl,C=>a(24,b=C)),Se(e,ol,C=>a(5,I=C));let{inAuto:_=!0}=s,{params:t}=s,{stats:v={height:0,width:0,n_cols:0,n_bundles:0,n_z:1,time:0}}=s,{z_stack:c=!1}=s,{fc_:j=0}=s;function m(){we(nl,b.image_params.xy0=t.xy0,b),we(nl,b.image_params.xy1=t.xy1,b)}function h(C){if(!C)return!0;if(!_)return!1;const Pe=b.exps[j].cmds.filter(ke=>ke.cmd.op==="takeimage").map(ke=>ke.cmd.name);return js(Pe)[C]>1}function w(){t.name=this.value,a(0,t)}function T(){t.path=this.value,a(0,t)}function k(C){t=C,a(0,t)}function A(C){t=C,a(0,t)}function r(C){e.$$.not_equal(t.xy0,C)&&(t.xy0=C,a(0,t))}function g(C){e.$$.not_equal(t.xy1,C)&&(t.xy1=C,a(0,t))}function S(){t.overlap=Y(this.value),a(0,t)}function F(){t.z_tilt=Y(this.value),a(0,t)}const H=()=>we(ol,I={move:{z_tilt:t.z_tilt}},I);function D(){t.z_obj=Y(this.value),a(0,t)}const U=()=>we(ol,I={move:{z_obj:t.z_obj}},I);function B(){c=this.checked,a(2,c)}function q(){t.z_spacing=Y(this.value),a(0,t)}function X(){t.z_from=Y(this.value),a(0,t)}function J(){t.z_to=Y(this.value),a(0,t)}return e.$$set=C=>{"inAuto"in C&&a(3,_=C.inAuto),"params"in C&&a(0,t=C.params),"stats"in C&&a(1,v=C.stats),"z_stack"in C&&a(2,c=C.z_stack),"fc_"in C&&a(8,j=C.fc_)},e.$$.update=()=>{e.$$.dirty&16&&Js(document.getElementById("control"),i.block),e.$$.dirty&1&&a(1,v.height=Math.max(t.xy1[1],t.xy0[1])-Math.min(t.xy1[1],t.xy0[1]),v),e.$$.dirty&1&&a(1,v.width=Math.max(t.xy1[0],t.xy0[0])-Math.min(t.xy1[0],t.xy0[0]),v),e.$$.dirty&3&&a(1,v.n_cols=v.width==0?1:Math.ceil(v.width/(.768*(1-t.overlap))),v),e.$$.dirty&2&&a(1,v.n_bundles=Math.ceil(v.height/.048),v),e.$$.dirty&2&&a(1,v.time=v.n_bundles*v.n_cols/20,v),e.$$.dirty&1&&a(1,v.n_z=Math.abs(t.z_to-t.z_from)+1,v)},[t,v,c,_,i,I,m,h,j,w,T,k,A,r,g,S,F,H,D,U,B,q,X,J]}class ta extends ut{constructor(s){super();ft(this,s,Ks,Ys,pt,{inAuto:3,params:0,stats:1,z_stack:2,fc_:8})}}export{la as P,ta as T};
