import{S as ot,i as rt,s as it,F as us,e as u,k as P,c as f,a as d,m as N,d as o,b as a,g as L,H as l,I as fs,J as ps,K as _s,q as re,o as pe,ao as ws,ap as Ps,M as Ns,aq as Os,t as k,w as qe,P as at,h as z,x as Ze,Q as nt,W as A,a9 as Z,y as He,X as R,T as ge,aa as Y,B as Xe,Y as Ht,N as Ge,al as Ts,O as Ie,aj as yl,j as _e,V as et,Z as lt,f as Ss,n as Cs,p as Ds,_ as tt}from"./vendor-79b73b07.js";import{G as Cl,r as As}from"./go-1acb77b4.js";import{a as We,s as st,u as nl,c as ol,b as Vs}from"./utils-43ce4b68.js";import{t as Zt}from"./tooltip-ab038c1a.js";const Ms=e=>({}),cs=e=>({});function js(e){let t,s,i,g,c,p,n;const b=e[3].buttons,m=us(b,e,e[2],cs),M=e[3].default,h=us(M,e,e[2],null);return{c(){t=u("span"),m&&m.c(),s=P(),i=u("content"),h&&h.c(),g=P(),c=u("div"),p=u("progress"),this.h()},l(v){t=f(v,"SPAN",{class:!0});var E=d(t);m&&m.l(E),s=N(E),i=f(E,"CONTENT",{class:!0});var V=d(i);h&&h.l(V),g=N(V),c=f(V,"DIV",{class:!0});var w=d(c);p=f(w,"PROGRESS",{class:!0}),d(p).forEach(o),w.forEach(o),V.forEach(o),E.forEach(o),this.h()},h(){a(p,"class","relative w-full h-2 overflow-hidden rounded-lg shadow appearance-none svelte-ica9vh"),p.value=e[1],a(c,"class","mt-1"),a(i,"class","flex-grow px-4 py-2 border rounded-lg border-base-300 bg-white/60"),a(t,"class","z-40 flex w-full space-x-2")},m(v,E){L(v,t,E),m&&m.m(t,null),l(t,s),l(t,i),h&&h.m(i,null),l(i,g),l(i,c),l(c,p),n=!0},p(v,[E]){m&&m.p&&(!n||E&4)&&fs(m,b,v,v[2],n?_s(b,v[2],E,Ms):ps(v[2]),cs),h&&h.p&&(!n||E&4)&&fs(h,M,v,v[2],n?_s(M,v[2],E,null):ps(v[2]),null),(!n||E&2)&&(p.value=v[1])},i(v){n||(re(m,v),re(h,v),n=!0)},o(v){pe(m,v),pe(h,v),n=!1},d(v){v&&o(t),m&&m.d(v),h&&h.d(v)}}}function Us(e,t,s){let i,g=Ns,c=()=>(g(),g=Ps(b,m=>s(1,i=m)),b);e.$$.on_destroy.push(()=>g());let{$$slots:p={},$$scope:n}=t;const b=ws(0,{duration:400,easing:Os});return c(),e.$$set=m=>{"$$scope"in m&&s(2,n=m.$$scope)},[b,i,n,p]}class xs extends ot{constructor(t){super();rt(this,t,Us,js,it,{progress:0})}get progress(){return this.$$.ctx[0]}}function Bs(e){let t,s,i,g,c,p,n,b,m,M,h,v,E,V,w,D,r,y,O,F,H;return E=new Cl({props:{disabled:e[3]}}),E.$on("click",e[11]),{c(){t=u("div"),s=u("div"),i=u("span"),g=k("X"),c=P(),p=u("input"),n=P(),b=u("span"),m=k("Y"),M=P(),h=u("input"),v=P(),qe(E.$$.fragment),V=P(),w=u("button"),D=at("svg"),r=at("path"),y=k(`
    Current`),this.h()},l(C){t=f(C,"DIV",{class:!0});var j=d(t);s=f(j,"DIV",{class:!0});var B=d(s);i=f(B,"SPAN",{class:!0});var q=d(i);g=z(q,"X"),q.forEach(o),c=N(B),p=f(B,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),n=N(B),b=f(B,"SPAN",{class:!0});var X=d(b);m=z(X,"Y"),X.forEach(o),M=N(B),h=f(B,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),B.forEach(o),v=N(j),Ze(E.$$.fragment,j),V=N(j),w=f(j,"BUTTON",{type:!0,class:!0});var J=d(w);D=nt(J,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var T=d(D);r=nt(T,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),d(r).forEach(o),T.forEach(o),y=z(J,`
    Current`),J.forEach(o),j.forEach(o),this.h()},h(){a(i,"class","flex items-center border-l rounded-l-lg color-group svelte-awp8a4"),A(i,"span-disabled",e[2].block),a(p,"type","number"),a(p,"min","-5"),a(p,"max","30"),a(p,"step","0.01"),a(p,"class","z-10 h-10 text-center rounded-none pretty w-28"),p.disabled=e[3],a(b,"class","flex items-center color-group svelte-awp8a4"),A(b,"span-disabled",e[2].block),a(h,"type","number"),a(h,"min","-5"),a(h,"max","80"),a(h,"step","0.01"),a(h,"class","z-10 h-10 text-center rounded-l-none rounded-r-lg pretty w-28"),h.disabled=e[3],a(s,"class","flex font-medium"),a(r,"stroke-linecap","round"),a(r,"stroke-linejoin","round"),a(r,"stroke-width","2"),a(r,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),a(D,"xmlns","http://www.w3.org/2000/svg"),a(D,"class","w-5 h-5 mr-1"),a(D,"fill","none"),a(D,"viewBox","0 0 24 24"),a(D,"stroke","currentColor"),a(w,"type","button"),a(w,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),w.disabled=e[3],a(t,"class","flex gap-x-2")},m(C,j){L(C,t,j),l(t,s),l(s,i),l(i,g),l(s,c),l(s,p),Z(p,e[0][0]),l(s,n),l(s,b),l(b,m),l(s,M),l(s,h),Z(h,e[0][1]),l(t,v),He(E,t,null),l(t,V),l(t,w),l(w,D),l(D,r),l(w,y),O=!0,F||(H=[R(p,"input",e[7]),R(p,"change",e[8]),ge(We.call(null,p,[-5,30])),R(h,"input",e[9]),R(h,"change",e[10]),ge(We.call(null,h,[-5,80])),R(w,"click",e[6])],F=!0)},p(C,[j]){j&4&&A(i,"span-disabled",C[2].block),(!O||j&8)&&(p.disabled=C[3]),j&1&&Y(p.value)!==C[0][0]&&Z(p,C[0][0]),j&4&&A(b,"span-disabled",C[2].block),(!O||j&8)&&(h.disabled=C[3]),j&1&&Y(h.value)!==C[0][1]&&Z(h,C[0][1]);const B={};j&8&&(B.disabled=C[3]),E.$set(B),(!O||j&8)&&(w.disabled=C[3])},i(C){O||(re(E.$$.fragment,C),O=!0)},o(C){pe(E.$$.fragment,C),O=!1},d(C){C&&o(t),Xe(E),F=!1,Ht(H)}}}function Ls(e,t,s){let i,g,c,p;Ge(e,st,r=>s(2,i=r)),Ge(e,st,r=>s(12,g=r)),Ge(e,nl,r=>s(13,c=r)),Ge(e,ol,r=>s(4,p=r));const n=Ts();let{i:b}=t,{xy:m=[-1,-1]}=t;function M(){const{x:r,y}=As(c.image_params.fc,g.x,g.y);s(0,m[0]=Math.round((r+Number.EPSILON)*100)/100,m),s(0,m[1]=Math.round((y+Number.EPSILON)*100)/100,m)}let h=!1;function v(){m[0]=Y(this.value),s(0,m)}const E=()=>n("change");function V(){m[1]=Y(this.value),s(0,m)}const w=()=>n("change"),D=()=>{Ie(st,i.block="moving",i),Ie(ol,p={move:b===0?{xy0:m}:{xy1:m}},p)};return e.$$set=r=>{"i"in r&&s(1,b=r.i),"xy"in r&&s(0,m=r.xy)},e.$$.update=()=>{e.$$.dirty&4&&s(3,h=Boolean(i.block))},[m,b,i,h,p,n,M,v,E,V,w,D]}class ds extends ot{constructor(t){super();rt(this,t,Ls,Bs,it,{i:1,xy:0})}}function Fs(e){let t;return{c(){t=k("Set")},l(s){t=z(s,"Set")},m(s,i){L(s,t,i)},d(s){s&&o(t)}}}function qs(e){let t,s,i,g,c,p,n,b,m,M,h,v,E,V,w,D;return{c(){t=u("option"),s=k("Open"),i=u("option"),g=k("0.2"),c=u("option"),p=k("0.5"),n=u("option"),b=k("0.6"),m=u("option"),M=k("1.0"),h=u("option"),v=k("2.4"),E=u("option"),V=k("4.0"),w=u("option"),D=k("Closed"),this.h()},l(r){t=f(r,"OPTION",{});var y=d(t);s=z(y,"Open"),y.forEach(o),i=f(r,"OPTION",{});var O=d(i);g=z(O,"0.2"),O.forEach(o),c=f(r,"OPTION",{});var F=d(c);p=z(F,"0.5"),F.forEach(o),n=f(r,"OPTION",{});var H=d(n);b=z(H,"0.6"),H.forEach(o),m=f(r,"OPTION",{});var C=d(m);M=z(C,"1.0"),C.forEach(o),h=f(r,"OPTION",{});var j=d(h);v=z(j,"2.4"),j.forEach(o),E=f(r,"OPTION",{});var B=d(E);V=z(B,"4.0"),B.forEach(o),w=f(r,"OPTION",{});var q=d(w);D=z(q,"Closed"),q.forEach(o),this.h()},h(){t.__value="Open",t.value=t.__value,i.__value="0.2",i.value=i.__value,c.__value="0.5",c.value=c.__value,n.__value="0.6",n.value=n.__value,m.__value="1.0",m.value=m.__value,h.__value="2.4",h.value=h.__value,E.__value="4.0",E.value=E.__value,w.__value="Closed",w.value=w.__value},m(r,y){L(r,t,y),l(t,s),L(r,i,y),l(i,g),L(r,c,y),l(c,p),L(r,n,y),l(n,b),L(r,m,y),l(m,M),L(r,h,y),l(h,v),L(r,E,y),l(E,V),L(r,w,y),l(w,D)},d(r){r&&o(t),r&&o(i),r&&o(c),r&&o(n),r&&o(m),r&&o(h),r&&o(E),r&&o(w)}}}function Zs(e){let t,s,i,g,c,p,n,b,m,M,h,v,E,V,w,D;return{c(){t=u("option"),s=k("Open"),i=u("option"),g=k("1.0"),c=u("option"),p=k("2.0"),n=u("option"),b=k("3.5"),m=u("option"),M=k("3.8"),h=u("option"),v=k("4.0"),E=u("option"),V=k("4.5"),w=u("option"),D=k("Closed"),this.h()},l(r){t=f(r,"OPTION",{});var y=d(t);s=z(y,"Open"),y.forEach(o),i=f(r,"OPTION",{});var O=d(i);g=z(O,"1.0"),O.forEach(o),c=f(r,"OPTION",{});var F=d(c);p=z(F,"2.0"),F.forEach(o),n=f(r,"OPTION",{});var H=d(n);b=z(H,"3.5"),H.forEach(o),m=f(r,"OPTION",{});var C=d(m);M=z(C,"3.8"),C.forEach(o),h=f(r,"OPTION",{});var j=d(h);v=z(j,"4.0"),j.forEach(o),E=f(r,"OPTION",{});var B=d(E);V=z(B,"4.5"),B.forEach(o),w=f(r,"OPTION",{});var q=d(w);D=z(q,"Closed"),q.forEach(o),this.h()},h(){t.__value="Open",t.value=t.__value,i.__value="1.0",i.value=i.__value,c.__value="2.0",c.value=c.__value,n.__value="3.5",n.value=n.__value,m.__value="3.8",m.value=m.__value,h.__value="4.0",h.value=h.__value,E.__value="4.5",E.value=E.__value,w.__value="Closed",w.value=w.__value},m(r,y){L(r,t,y),l(t,s),L(r,i,y),l(i,g),L(r,c,y),l(c,p),L(r,n,y),l(n,b),L(r,m,y),l(m,M),L(r,h,y),l(h,v),L(r,E,y),l(E,V),L(r,w,y),l(w,D)},d(r){r&&o(t),r&&o(i),r&&o(c),r&&o(n),r&&o(m),r&&o(h),r&&o(E),r&&o(w)}}}function Hs(e){let t,s,i,g,c,p,n,b=(Boolean(e[1])?660:532)+"",m,M,h,v,E,V,w,D,r,y,O,F,H=2*e[1]+"",C,j,B,q,X,J,T=2*e[1]+1+"",we,Ee,W,rl,ce,ye,se,il,Oe=(Number(e[0].od[e[1]]!=-1)*e[0].lasers[e[1]]*Math.pow(10,-e[0].od[e[1]])).toFixed(4)+"",ae,ul,ee,de,ke;w=new Cl({props:{$$slots:{default:[Fs]},$$scope:{ctx:e}}}),w.$on("click",e[7]);function Te(I,U){return I[1]==0?Zs:qs}let Re=Te(e),ie=Re(e);return{c(){t=u("p"),s=u("span"),i=u("label"),g=u("input"),p=P(),n=u("div"),m=k(b),M=k(" nm"),h=P(),v=u("input"),V=k(`
    mW
    `),qe(w.$$.fragment),D=P(),r=u("label"),y=u("input"),F=k(`
    Channel `),C=k(H),j=P(),B=u("label"),q=u("input"),J=k(`
    Channel `),we=k(T),Ee=P(),W=u("span"),rl=k(`Filter OD
    `),ce=u("select"),ie.c(),ye=P(),se=u("p"),il=k("Effective: "),ae=k(Oe),ul=k(" mW"),this.h()},l(I){t=f(I,"P",{class:!0});var U=d(t);s=f(U,"SPAN",{class:!0});var ue=d(s);i=f(ue,"LABEL",{});var ne=d(i);g=f(ne,"INPUT",{type:!0,class:!0}),p=N(ne),n=f(ne,"DIV",{class:!0});var fe=d(n);m=z(fe,b),M=z(fe," nm"),fe.forEach(o),ne.forEach(o),h=N(ue),v=f(ue,"INPUT",{type:!0,class:!0,min:!0,max:!0}),V=z(ue,`
    mW
    `),Ze(w.$$.fragment,ue),ue.forEach(o),D=N(U),r=f(U,"LABEL",{class:!0});var Pe=d(r);y=f(Pe,"INPUT",{type:!0,class:!0}),F=z(Pe,`
    Channel `),C=z(Pe,H),Pe.forEach(o),j=N(U),B=f(U,"LABEL",{class:!0});var Se=d(B);q=f(Se,"INPUT",{type:!0,class:!0}),J=z(Se,`
    Channel `),we=z(Se,T),Se.forEach(o),Ee=N(U),W=f(U,"SPAN",{class:!0});var Ce=d(W);rl=z(Ce,`Filter OD
    `),ce=f(Ce,"SELECT",{class:!0});var Ye=d(ce);ie.l(Ye),Ye.forEach(o),ye=N(Ce),se=f(Ce,"P",{class:!0});var De=d(se);il=z(De,"Effective: "),ae=z(De,Oe),ul=z(De," mW"),De.forEach(o),Ce.forEach(o),U.forEach(o),this.h()},h(){a(g,"type","checkbox"),a(g,"class",c=yl(`rounded mr-1 ${e[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"),a(n,"class","inline font-semibold"),A(n,"text-green-800",e[0].laser_onoff[e[1]]&&!e[1]),A(n,"text-red-800",e[0].laser_onoff[e[1]]&&e[1]),a(v,"type","number"),a(v,"class","w-[4.5rem] h-8 pr-2 pretty"),a(v,"min","0"),a(v,"max","500"),v.disabled=E=!e[0].laser_onoff[e[1]],A(v,"pretty-disabled",!e[0].laser_onoff[0]),a(s,"class","flex items-center gap-x-2"),A(s,"text-gray-400",!e[0].laser_onoff[e[1]]),a(y,"type","checkbox"),a(y,"class",O=yl(`mr-1 rounded ${e[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"),a(r,"class","rounded-lg channel ring-red-500 svelte-6ipz4o"),A(r,"text-gray-400",!e[0].channels[2*e[1]]),a(q,"type","checkbox"),a(q,"class",X=yl(`mr-1 rounded ${e[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"),a(B,"class","channel svelte-6ipz4o"),A(B,"text-gray-400",!e[0].channels[2*e[1]+1]),a(ce,"class","py-1 text-sm border-gray-400 rounded-lg disabled:border-gray-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"),a(se,"class","ml-3 text-sm font-medium"),a(W,"class","ml-8 font-normal opacity-85"),a(t,"class","flex flex-col")},m(I,U){L(I,t,U),l(t,s),l(s,i),l(i,g),g.checked=e[0].laser_onoff[e[1]],l(i,p),l(i,n),l(n,m),l(n,M),l(s,h),l(s,v),Z(v,e[0].lasers[e[1]]),l(s,V),He(w,s,null),l(t,D),l(t,r),l(r,y),y.checked=e[0].channels[2*e[1]],l(r,F),l(r,C),l(t,j),l(t,B),l(B,q),q.checked=e[0].channels[2*e[1]+1],l(B,J),l(B,we),l(t,Ee),l(t,W),l(W,rl),l(W,ce),ie.m(ce,null),l(W,ye),l(W,se),l(se,il),l(se,ae),l(se,ul),ee=!0,de||(ke=[R(g,"change",e[5]),R(v,"input",e[6]),ge(We.call(null,v,[0,500])),R(y,"change",e[8]),R(q,"change",e[9]),R(ce,"change",e[4])],de=!0)},p(I,[U]){(!ee||U&2&&c!==(c=yl(`rounded mr-1 ${I[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"))&&a(g,"class",c),U&3&&(g.checked=I[0].laser_onoff[I[1]]),(!ee||U&2)&&b!==(b=(Boolean(I[1])?660:532)+"")&&_e(m,b),U&3&&A(n,"text-green-800",I[0].laser_onoff[I[1]]&&!I[1]),U&3&&A(n,"text-red-800",I[0].laser_onoff[I[1]]&&I[1]),(!ee||U&3&&E!==(E=!I[0].laser_onoff[I[1]]))&&(v.disabled=E),U&3&&Y(v.value)!==I[0].lasers[I[1]]&&Z(v,I[0].lasers[I[1]]),U&1&&A(v,"pretty-disabled",!I[0].laser_onoff[0]);const ue={};U&1024&&(ue.$$scope={dirty:U,ctx:I}),w.$set(ue),U&3&&A(s,"text-gray-400",!I[0].laser_onoff[I[1]]),(!ee||U&2&&O!==(O=yl(`mr-1 rounded ${I[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"))&&a(y,"class",O),U&3&&(y.checked=I[0].channels[2*I[1]]),(!ee||U&2)&&H!==(H=2*I[1]+"")&&_e(C,H),U&3&&A(r,"text-gray-400",!I[0].channels[2*I[1]]),(!ee||U&2&&X!==(X=yl(`mr-1 rounded ${I[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"))&&a(q,"class",X),U&3&&(q.checked=I[0].channels[2*I[1]+1]),(!ee||U&2)&&T!==(T=2*I[1]+1+"")&&_e(we,T),U&3&&A(B,"text-gray-400",!I[0].channels[2*I[1]+1]),Re!==(Re=Te(I))&&(ie.d(1),ie=Re(I),ie&&(ie.c(),ie.m(ce,null))),(!ee||U&3)&&Oe!==(Oe=(Number(I[0].od[I[1]]!=-1)*I[0].lasers[I[1]]*Math.pow(10,-I[0].od[I[1]])).toFixed(4)+"")&&_e(ae,Oe)},i(I){ee||(re(w.$$.fragment,I),ee=!0)},o(I){pe(w.$$.fragment,I),ee=!1},d(I){I&&o(t),Xe(w),ie.d(),de=!1,Ht(ke)}}}function Xs(e,t,s){let i,g;Ge(e,ol,E=>s(2,i=E)),Ge(e,nl,E=>s(3,g=E));let{params:c}=t,{i:p}=t;function n(E){let V;switch(E.currentTarget.value){case"Open":V=0;break;case"Closed":V=-1;break;default:V=Number(E.currentTarget.value)}s(0,c.od[p]=V,c),Ie(nl,g.image_params.od[p]=c.od[p],g),Ie(ol,i={move:{od:p===0?[c.od[p],void 0]:[void 0,c.od[p]]}},i)}function b(){c.laser_onoff[p]=this.checked,s(0,c)}function m(){c.lasers[p]=Y(this.value),s(0,c)}const M=()=>{Ie(nl,g.image_params.laser_onoff[p]=c.laser_onoff[p],g),Ie(nl,g.image_params.lasers[p]=c.lasers[p],g),Ie(ol,i={move:{lasers:p===0?[c.lasers[p],void 0]:[void 0,c.lasers[p]],laser_onoff:p===0?[c.laser_onoff[p],void 0]:[void 0,c.laser_onoff[p]]}},i)};function h(){c.channels[2*p]=this.checked,s(0,c)}function v(){c.channels[2*p+1]=this.checked,s(0,c)}return e.$$set=E=>{"params"in E&&s(0,c=E.params),"i"in E&&s(1,p=E.i)},[c,p,i,g,n,b,m,M,h,v]}class ms extends ot{constructor(t){super();rt(this,t,Xs,Hs,it,{params:0,i:1})}}function hs(e){let t,s;return t=new Cl({props:{color:"sky",cl:"text-lg font-semibold shadow-md shadow-sky-700/10 h-12",$$slots:{default:[Ws]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},l(i){Ze(t.$$.fragment,i)},m(i,g){He(t,i,g),s=!0},i(i){s||(re(t.$$.fragment,i),s=!0)},o(i){pe(t.$$.fragment,i),s=!1},d(i){Xe(t,i)}}}function Ws(e){let t;return{c(){t=k("Preview")},l(s){t=z(s,"Preview")},m(s,i){L(s,t,i)},d(s){s&&o(t)}}}function vs(e){let t,s,i,g,c,p;return{c(){t=u("p"),s=k("Image Path"),i=P(),g=u("input"),this.h()},l(n){t=f(n,"P",{class:!0});var b=d(t);s=z(b,"Image Path"),b.forEach(o),i=N(n),g=f(n,"INPUT",{type:!0,class:!0}),this.h()},h(){a(t,"class","text-lg svelte-1m4l8fo"),a(g,"type","text"),a(g,"class","max-w-md mb-4 pretty"),A(g,"invalid",!e[0].path)},m(n,b){L(n,t,b),l(t,s),L(n,i,b),L(n,g,b),Z(g,e[0].path),c||(p=R(g,"input",e[10]),c=!0)},p(n,b){b&1&&g.value!==n[0].path&&Z(g,n[0].path),b&1&&A(g,"invalid",!n[0].path)},d(n){n&&o(t),n&&o(i),n&&o(g),c=!1,p()}}}function bs(e){let t;return{c(){t=k("per z-stack.")},l(s){t=z(s,"per z-stack.")},m(s,i){L(s,t,i)},d(s){s&&o(t)}}}function gs(e){let t,s=e[1].n_z+"",i,g,c,p=e[0].z_obj+e[0].z_from*e[0].z_spacing+"",n,b,m=e[0].z_obj+e[0].z_to*e[0].z_spacing+"",M,h,v,E,V=(e[1].n_z?kl(e[1].n_z*e[1].time):kl(e[1].time))+"",w,D,r=e[1].n_z>1&&Es();return{c(){t=u("div"),i=k(s),g=k(" Z step"),r&&r.c(),c=k(" from "),n=k(p),b=k(" to "),M=k(m),h=P(),v=u("div"),E=k("Total time: "),w=k(V),D=k("."),this.h()},l(y){t=f(y,"DIV",{class:!0});var O=d(t);i=z(O,s),g=z(O," Z step"),r&&r.l(O),c=z(O," from "),n=z(O,p),b=z(O," to "),M=z(O,m),O.forEach(o),h=N(y),v=f(y,"DIV",{class:!0});var F=d(v);E=z(F,"Total time: "),w=z(F,V),D=z(F,"."),F.forEach(o),this.h()},h(){a(t,"class","px-2 font-base"),a(v,"class","px-2 font-semibold")},m(y,O){L(y,t,O),l(t,i),l(t,g),r&&r.m(t,null),l(t,c),l(t,n),l(t,b),l(t,M),L(y,h,O),L(y,v,O),l(v,E),l(v,w),l(v,D)},p(y,O){O&2&&s!==(s=y[1].n_z+"")&&_e(i,s),y[1].n_z>1?r||(r=Es(),r.c(),r.m(t,c)):r&&(r.d(1),r=null),O&1&&p!==(p=y[0].z_obj+y[0].z_from*y[0].z_spacing+"")&&_e(n,p),O&1&&m!==(m=y[0].z_obj+y[0].z_to*y[0].z_spacing+"")&&_e(M,m),O&2&&V!==(V=(y[1].n_z?kl(y[1].n_z*y[1].time):kl(y[1].time))+"")&&_e(w,V)},d(y){y&&o(t),r&&r.d(),y&&o(h),y&&o(v)}}}function Es(e){let t;return{c(){t=k("s")},l(s){t=z(s,"s")},m(s,i){L(s,t,i)},d(s){s&&o(t)}}}function Gs(e){let t,s,i,g,c,p,n,b,m,M,h,v,E,V,w,D,r,y,O,F,H,C,j,B,q,X,J,T,we,Ee,W,rl,ce,ye,se,il,Oe,ae,ul,ee,de,ke,Te,Re,ie,I,U,ue,ne,fe,Pe=e[1].width.toFixed(2)+"",Se,Ce,Ye=e[1].height.toFixed(2)+"",De,ut,ft,Ae,zl=e[1].n_cols+"",Dl,pt,Il=e[1].n_bundles+"",Al,_t,ct,ze,wl=kl(e[1].time)+"",Vl,dt,mt,Je,ml,ht,vt,Ke,Qe,fl,hl,bt,gt,$e,me,Et,xe,yt,pl,vl,kt,zt,Ne,he,It,el,wt,Ve,Me,_l,Pt,Pl,Nt,Ot,ll,tl,sl,Tt,je,al,St,Ct,Dt,K,Ue,At,Vt,Q,Ml,Mt,Be,jt,Ut,$,jl,Bt,Le,Lt,Ft,x,Ul,ve,qt,Xt,G=e[3]&&hs(e),le=!e[3]&&vs(e);function ys(_){e[11](_)}let Wt={i:0};e[0]!==void 0&&(Wt.params=e[0]),D=new ms({props:Wt}),et.push(()=>lt(D,"params",ys));function ks(_){e[12](_)}let Gt={i:1};e[0]!==void 0&&(Gt.params=e[0]),O=new ms({props:Gt}),et.push(()=>lt(O,"params",ks));function zs(_){e[13](_)}let Rt={i:0};e[0].xy0!==void 0&&(Rt.xy=e[0].xy0),W=new ds({props:Rt}),et.push(()=>lt(W,"xy",zs)),W.$on("change",e[6]);function Is(_){e[14](_)}let Yt={i:1};e[0].xy1!==void 0&&(Yt.xy=e[0].xy1),ae=new ds({props:Yt}),et.push(()=>lt(ae,"xy",Is)),ae.$on("change",e[6]);let oe=e[2]&&bs();xe=new Cl({}),xe.$on("click",e[17]),el=new Cl({}),el.$on("click",e[19]);let te=e[2]&&gs(e);return{c(){t=u("div"),s=u("section"),i=u("p"),g=k("Name"),c=P(),p=u("div"),n=u("input"),b=P(),G&&G.c(),m=P(),le&&le.c(),M=P(),h=u("section"),v=u("h2"),E=k("Laser and Channels"),V=P(),w=u("div"),qe(D.$$.fragment),y=P(),qe(O.$$.fragment),H=P(),C=u("section"),j=u("h2"),B=k("Positions"),q=P(),X=u("div"),J=u("div"),T=u("p"),we=k("\u{1F4CC} Corner 1"),Ee=P(),qe(W.$$.fragment),ce=P(),ye=u("div"),se=u("p"),il=k("\u{1F4CD} Corner 2"),Oe=P(),qe(ae.$$.fragment),ee=P(),de=u("div"),ke=u("div"),Te=u("p"),Re=k("X-Overlap"),ie=P(),I=u("input"),U=k(`
          (0-1)`),ue=P(),ne=u("div"),fe=u("span"),Se=k(Pe),Ce=k(" \xD7 "),De=k(Ye),ut=k(" mm."),ft=P(),Ae=u("span"),Dl=k(zl),pt=k(" columns of "),Al=k(Il),_t=k(" bundles."),ct=P(),ze=u("span"),Vl=k(wl),dt=P(),oe&&oe.c(),mt=P(),Je=u("section"),ml=u("h2"),ht=k("Focus"),vt=P(),Ke=u("div"),Qe=u("div"),fl=u("div"),hl=u("p"),bt=k("Z Tilt"),gt=P(),$e=u("div"),me=u("input"),Et=P(),qe(xe.$$.fragment),yt=P(),pl=u("div"),vl=u("p"),kt=k("Z Objective"),zt=P(),Ne=u("span"),he=u("input"),It=P(),qe(el.$$.fragment),wt=P(),Ve=u("button"),Me=at("svg"),_l=at("path"),Pt=P(),Pl=u("span"),Nt=k("Autofocus"),Ot=P(),ll=u("div"),tl=u("label"),sl=u("input"),Tt=P(),je=u("div"),al=u("div"),St=k("Z-Stack"),Ct=P(),te&&te.c(),Dt=P(),K=u("div"),Ue=u("span"),At=k("Spacing"),Vt=P(),Q=u("input"),Mt=P(),Be=u("span"),jt=k("From"),Ut=P(),$=u("input"),Bt=P(),Le=u("span"),Lt=k("To"),Ft=P(),x=u("input"),this.h()},l(_){t=f(_,"DIV",{id:!0,class:!0,style:!0});var S=d(t);s=f(S,"SECTION",{class:!0});var Fe=d(s);i=f(Fe,"P",{class:!0});var Nl=d(i);g=z(Nl,"Name"),Nl.forEach(o),c=N(Fe),p=f(Fe,"DIV",{class:!0});var cl=d(p);n=f(cl,"INPUT",{type:!0,class:!0}),b=N(cl),G&&G.l(cl),cl.forEach(o),m=N(Fe),le&&le.l(Fe),Fe.forEach(o),M=N(S),h=f(S,"SECTION",{class:!0});var dl=d(h);v=f(dl,"H2",{class:!0});var Jt=d(v);E=z(Jt,"Laser and Channels"),Jt.forEach(o),V=N(dl),w=f(dl,"DIV",{class:!0});var Bl=d(w);Ze(D.$$.fragment,Bl),y=N(Bl),Ze(O.$$.fragment,Bl),Bl.forEach(o),dl.forEach(o),H=N(S),C=f(S,"SECTION",{class:!0});var Ll=d(C);j=f(Ll,"H2",{class:!0});var Kt=d(j);B=z(Kt,"Positions"),Kt.forEach(o),q=N(Ll),X=f(Ll,"DIV",{class:!0});var bl=d(X);J=f(bl,"DIV",{});var Fl=d(J);T=f(Fl,"P",{class:!0});var Qt=d(T);we=z(Qt,"\u{1F4CC} Corner 1"),Qt.forEach(o),Ee=N(Fl),Ze(W.$$.fragment,Fl),Fl.forEach(o),ce=N(bl),ye=f(bl,"DIV",{});var ql=d(ye);se=f(ql,"P",{class:!0});var $t=d(se);il=z($t,"\u{1F4CD} Corner 2"),$t.forEach(o),Oe=N(ql),Ze(ae.$$.fragment,ql),ql.forEach(o),ee=N(bl),de=f(bl,"DIV",{class:!0});var Zl=d(de);ke=f(Zl,"DIV",{});var Ol=d(ke);Te=f(Ol,"P",{class:!0});var xt=d(Te);Re=z(xt,"X-Overlap"),xt.forEach(o),ie=N(Ol),I=f(Ol,"INPUT",{type:!0,class:!0,step:!0,min:!0,max:!0}),U=z(Ol,`
          (0-1)`),Ol.forEach(o),ue=N(Zl),ne=f(Zl,"DIV",{class:!0});var gl=d(ne);fe=f(gl,"SPAN",{class:!0});var Tl=d(fe);Se=z(Tl,Pe),Ce=z(Tl," \xD7 "),De=z(Tl,Ye),ut=z(Tl," mm."),Tl.forEach(o),ft=N(gl),Ae=f(gl,"SPAN",{class:!0});var Sl=d(Ae);Dl=z(Sl,zl),pt=z(Sl," columns of "),Al=z(Sl,Il),_t=z(Sl," bundles."),Sl.forEach(o),ct=N(gl),ze=f(gl,"SPAN",{class:!0});var Hl=d(ze);Vl=z(Hl,wl),dt=N(Hl),oe&&oe.l(Hl),Hl.forEach(o),gl.forEach(o),Zl.forEach(o),bl.forEach(o),Ll.forEach(o),mt=N(S),Je=f(S,"SECTION",{class:!0});var Xl=d(Je);ml=f(Xl,"H2",{class:!0});var es=d(ml);ht=z(es,"Focus"),es.forEach(o),vt=N(Xl),Ke=f(Xl,"DIV",{class:!0});var Wl=d(Ke);Qe=f(Wl,"DIV",{class:!0});var Gl=d(Qe);fl=f(Gl,"DIV",{});var Rl=d(fl);hl=f(Rl,"P",{class:!0});var ls=d(hl);bt=z(ls,"Z Tilt"),ls.forEach(o),gt=N(Rl),$e=f(Rl,"DIV",{class:!0});var Yl=d($e);me=f(Yl,"INPUT",{type:!0,class:!0,min:!0,max:!0}),Et=N(Yl),Ze(xe.$$.fragment,Yl),Yl.forEach(o),Rl.forEach(o),yt=N(Gl),pl=f(Gl,"DIV",{});var Jl=d(pl);vl=f(Jl,"P",{class:!0});var ts=d(vl);kt=z(ts,"Z Objective"),ts.forEach(o),zt=N(Jl),Ne=f(Jl,"SPAN",{class:!0});var El=d(Ne);he=f(El,"INPUT",{type:!0,class:!0,min:!0,max:!0}),It=N(El),Ze(el.$$.fragment,El),wt=N(El),Ve=f(El,"BUTTON",{type:!0,class:!0});var Kl=d(Ve);Me=nt(Kl,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var ss=d(Me);_l=nt(ss,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),d(_l).forEach(o),ss.forEach(o),Pt=N(Kl),Pl=f(Kl,"SPAN",{});var as=d(Pl);Nt=z(as,"Autofocus"),as.forEach(o),Kl.forEach(o),El.forEach(o),Jl.forEach(o),Gl.forEach(o),Ot=N(Wl),ll=f(Wl,"DIV",{class:!0});var Ql=d(ll);tl=f(Ql,"LABEL",{class:!0});var $l=d(tl);sl=f($l,"INPUT",{type:!0,class:!0}),Tt=N($l),je=f($l,"DIV",{class:!0});var xl=d(je);al=f(xl,"DIV",{class:!0});var ns=d(al);St=z(ns,"Z-Stack"),ns.forEach(o),Ct=N(xl),te&&te.l(xl),xl.forEach(o),$l.forEach(o),Dt=N(Ql),K=f(Ql,"DIV",{class:!0,id:!0});var be=d(K);Ue=f(be,"SPAN",{class:!0});var os=d(Ue);At=z(os,"Spacing"),os.forEach(o),Vt=N(be),Q=f(be,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Mt=N(be),Be=f(be,"SPAN",{class:!0});var rs=d(Be);jt=z(rs,"From"),rs.forEach(o),Ut=N(be),$=f(be,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Bt=N(be),Le=f(be,"SPAN",{class:!0});var is=d(Le);Lt=z(is,"To"),is.forEach(o),Ft=N(be),x=f(be,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),be.forEach(o),Ql.forEach(o),Wl.forEach(o),Xl.forEach(o),S.forEach(o),this.h()},h(){a(i,"class","mt-1 text-lg svelte-1m4l8fo"),a(n,"type","text"),a(n,"class","flex-grow h-12 max-w-md mb-4 text-lg pretty"),A(n,"invalid",e[7](e[0].name)),a(p,"class","flex gap-x-2"),a(s,"class","flex flex-col text-lg font-medium"),a(v,"class","svelte-1m4l8fo"),a(w,"class","grid grid-cols-2 min-w-[600px]"),A(w,"opacity-70",e[4].block),a(h,"class","font-medium leading-10 "),a(j,"class","svelte-1m4l8fo"),a(T,"class","svelte-1m4l8fo"),a(se,"class","svelte-1m4l8fo"),a(Te,"class","svelte-1m4l8fo"),a(I,"type","number"),a(I,"class","w-20 pr-2 pretty"),a(I,"step","0.01"),a(I,"min","0"),a(I,"max","0.99"),a(fe,"class","tabular-nums"),a(Ae,"class","tabular-nums"),a(ze,"class","tabular-nums"),A(ze,"font-semibold",!e[2]),a(ne,"class","flex flex-col justify-center font-normal"),a(de,"class","flex gap-8"),a(X,"class","-mt-1 space-y-4"),a(C,"class","flex flex-col gap-2"),A(C,"-mt-20",e[3]),a(ml,"class","svelte-1m4l8fo"),a(hl,"class","svelte-1m4l8fo"),a(me,"type","number"),a(me,"class","w-28 pretty"),a(me,"min","0"),a(me,"max","25000"),a($e,"class","flex gap-2"),a(vl,"class","svelte-1m4l8fo"),a(he,"type","number"),a(he,"class","w-28 pretty"),a(he,"min","0"),a(he,"max","60000"),a(_l,"fill-rule","evenodd"),a(_l,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),a(_l,"clip-rule","evenodd"),a(Me,"xmlns","http://www.w3.org/2000/svg"),a(Me,"class","w-5 h-5 mr-1"),a(Me,"viewBox","0 0 20 20"),a(Me,"fill","currentColor"),a(Ve,"type","button"),a(Ve,"class","px-4 py-1 font-medium text-gray-900 rounded-lg w-36 white-button"),a(Ne,"class","flex gap-2"),a(Qe,"class","flex space-x-8"),a(sl,"type","checkbox"),a(sl,"class","mr-1 rounded focus:ring-blue-600"),a(al,"class","pr-2"),A(al,"font-medium",e[2]),a(je,"class","flex divide-x-2"),a(tl,"class","flex items-center gap-x-1"),a(Ue,"class","flex items-center border-l rounded-l-lg color-group svelte-1m4l8fo"),A(Ue,"span-disabled",e[4].block||!e[2]),a(Q,"type","number"),a(Q,"min","1"),a(Q,"max","60000"),a(Q,"step","1"),a(Q,"class","z-10 h-10 text-center rounded-none pretty w-28"),Q.disabled=Ml=e[4].block||!e[2],A(Q,"disabled",e[4].block||!e[2]),a(Be,"class","flex items-center color-group svelte-1m4l8fo"),A(Be,"span-disabled",e[4].block||!e[2]),a($,"type","number"),a($,"min","-100"),a($,"max","100"),a($,"step","1"),a($,"class","z-10 w-16 h-10 text-center rounded-none pretty"),$.disabled=jl=e[4].block||!e[2],A($,"disabled",e[4].block||!e[2]),a(Le,"class","flex items-center color-group svelte-1m4l8fo"),A(Le,"span-disabled",e[4].block||!e[2]),a(x,"type","number"),a(x,"min","-100"),a(x,"max","100"),a(x,"step","1"),a(x,"class","z-10 w-16 h-10 text-center rounded-l-none rounded-r-lg pretty"),x.disabled=Ul=e[4].block||!e[2],A(x,"disabled",e[4].block||!e[2]),a(K,"class","flex font-medium"),a(K,"id","zBox"),a(ll,"class","space-y-2"),a(Ke,"class","-mt-1 space-y-4"),a(Je,"class","flex flex-col gap-2"),a(t,"id","control"),a(t,"class","grid gap-y-6"),Ss(t,"grid-template-columns","minmax(500px, 1fr) 1fr")},m(_,S){L(_,t,S),l(t,s),l(s,i),l(i,g),l(s,c),l(s,p),l(p,n),Z(n,e[0].name),l(p,b),G&&G.m(p,null),l(s,m),le&&le.m(s,null),l(t,M),l(t,h),l(h,v),l(v,E),l(h,V),l(h,w),He(D,w,null),l(w,y),He(O,w,null),l(t,H),l(t,C),l(C,j),l(j,B),l(C,q),l(C,X),l(X,J),l(J,T),l(T,we),l(J,Ee),He(W,J,null),l(X,ce),l(X,ye),l(ye,se),l(se,il),l(ye,Oe),He(ae,ye,null),l(X,ee),l(X,de),l(de,ke),l(ke,Te),l(Te,Re),l(ke,ie),l(ke,I),Z(I,e[0].overlap),l(ke,U),l(de,ue),l(de,ne),l(ne,fe),l(fe,Se),l(fe,Ce),l(fe,De),l(fe,ut),l(ne,ft),l(ne,Ae),l(Ae,Dl),l(Ae,pt),l(Ae,Al),l(Ae,_t),l(ne,ct),l(ne,ze),l(ze,Vl),l(ze,dt),oe&&oe.m(ze,null),l(t,mt),l(t,Je),l(Je,ml),l(ml,ht),l(Je,vt),l(Je,Ke),l(Ke,Qe),l(Qe,fl),l(fl,hl),l(hl,bt),l(fl,gt),l(fl,$e),l($e,me),Z(me,e[0].z_tilt),l($e,Et),He(xe,$e,null),l(Qe,yt),l(Qe,pl),l(pl,vl),l(vl,kt),l(pl,zt),l(pl,Ne),l(Ne,he),Z(he,e[0].z_obj),l(Ne,It),He(el,Ne,null),l(Ne,wt),l(Ne,Ve),l(Ve,Me),l(Me,_l),l(Ve,Pt),l(Ve,Pl),l(Pl,Nt),l(Ke,Ot),l(Ke,ll),l(ll,tl),l(tl,sl),sl.checked=e[2],l(tl,Tt),l(tl,je),l(je,al),l(al,St),l(je,Ct),te&&te.m(je,null),l(ll,Dt),l(ll,K),l(K,Ue),l(Ue,At),l(K,Vt),l(K,Q),Z(Q,e[0].z_spacing),l(K,Mt),l(K,Be),l(Be,jt),l(K,Ut),l(K,$),Z($,e[0].z_from),l(K,Bt),l(K,Le),l(Le,Lt),l(K,Ft),l(K,x),Z(x,e[0].z_to),ve=!0,qt||(Xt=[R(n,"input",e[9]),R(I,"input",e[15]),ge(We.call(null,I,[.01,.99])),R(me,"input",e[16]),ge(We.call(null,me,[0,25e3])),R(he,"input",e[18]),ge(We.call(null,he,[0,6e4])),R(sl,"change",e[20]),ge(Zt.call(null,Ue,"Nyquist is 232.")),R(Q,"input",e[21]),ge(We.call(null,Q,[1,6e4])),ge(Zt.call(null,Be,"Multiple of Spacing")),R($,"input",e[22]),ge(We.call(null,$,[-100,100])),ge(Zt.call(null,Le,"Multiple of Spacing")),R(x,"input",e[23]),ge(We.call(null,x,[-100,100]))],qt=!0)},p(_,[S]){S&1&&n.value!==_[0].name&&Z(n,_[0].name),S&129&&A(n,"invalid",_[7](_[0].name)),_[3]?G?S&8&&re(G,1):(G=hs(_),G.c(),re(G,1),G.m(p,null)):G&&(Cs(),pe(G,1,1,()=>{G=null}),Ds()),_[3]?le&&(le.d(1),le=null):le?le.p(_,S):(le=vs(_),le.c(),le.m(s,null));const Fe={};!r&&S&1&&(r=!0,Fe.params=_[0],tt(()=>r=!1)),D.$set(Fe);const Nl={};!F&&S&1&&(F=!0,Nl.params=_[0],tt(()=>F=!1)),O.$set(Nl),S&16&&A(w,"opacity-70",_[4].block);const cl={};!rl&&S&1&&(rl=!0,cl.xy=_[0].xy0,tt(()=>rl=!1)),W.$set(cl);const dl={};!ul&&S&1&&(ul=!0,dl.xy=_[0].xy1,tt(()=>ul=!1)),ae.$set(dl),S&1&&Y(I.value)!==_[0].overlap&&Z(I,_[0].overlap),(!ve||S&2)&&Pe!==(Pe=_[1].width.toFixed(2)+"")&&_e(Se,Pe),(!ve||S&2)&&Ye!==(Ye=_[1].height.toFixed(2)+"")&&_e(De,Ye),(!ve||S&2)&&zl!==(zl=_[1].n_cols+"")&&_e(Dl,zl),(!ve||S&2)&&Il!==(Il=_[1].n_bundles+"")&&_e(Al,Il),(!ve||S&2)&&wl!==(wl=kl(_[1].time)+"")&&_e(Vl,wl),_[2]?oe||(oe=bs(),oe.c(),oe.m(ze,null)):oe&&(oe.d(1),oe=null),S&4&&A(ze,"font-semibold",!_[2]),S&8&&A(C,"-mt-20",_[3]),S&1&&Y(me.value)!==_[0].z_tilt&&Z(me,_[0].z_tilt),S&1&&Y(he.value)!==_[0].z_obj&&Z(he,_[0].z_obj),S&4&&(sl.checked=_[2]),S&4&&A(al,"font-medium",_[2]),_[2]?te?te.p(_,S):(te=gs(_),te.c(),te.m(je,null)):te&&(te.d(1),te=null),S&20&&A(Ue,"span-disabled",_[4].block||!_[2]),(!ve||S&20&&Ml!==(Ml=_[4].block||!_[2]))&&(Q.disabled=Ml),S&1&&Y(Q.value)!==_[0].z_spacing&&Z(Q,_[0].z_spacing),S&20&&A(Q,"disabled",_[4].block||!_[2]),S&20&&A(Be,"span-disabled",_[4].block||!_[2]),(!ve||S&20&&jl!==(jl=_[4].block||!_[2]))&&($.disabled=jl),S&1&&Y($.value)!==_[0].z_from&&Z($,_[0].z_from),S&20&&A($,"disabled",_[4].block||!_[2]),S&20&&A(Le,"span-disabled",_[4].block||!_[2]),(!ve||S&20&&Ul!==(Ul=_[4].block||!_[2]))&&(x.disabled=Ul),S&1&&Y(x.value)!==_[0].z_to&&Z(x,_[0].z_to),S&20&&A(x,"disabled",_[4].block||!_[2])},i(_){ve||(re(G),re(D.$$.fragment,_),re(O.$$.fragment,_),re(W.$$.fragment,_),re(ae.$$.fragment,_),re(xe.$$.fragment,_),re(el.$$.fragment,_),ve=!0)},o(_){pe(G),pe(D.$$.fragment,_),pe(O.$$.fragment,_),pe(W.$$.fragment,_),pe(ae.$$.fragment,_),pe(xe.$$.fragment,_),pe(el.$$.fragment,_),ve=!1},d(_){_&&o(t),G&&G.d(),le&&le.d(),Xe(D),Xe(O),Xe(W),Xe(ae),oe&&oe.d(),Xe(xe),Xe(el),te&&te.d(),qt=!1,Ht(Xt)}}}function Rs(e,t){e&&(e.querySelectorAll("input").forEach(s=>s.disabled=t),e.querySelectorAll("select").forEach(s=>s.disabled=t),e.querySelectorAll("button").forEach(s=>s.disabled=t))}function kl(e){const t=new Date(e*1e3).toISOString();return e>3600?`${t.substring(11,19)} hrs`:`${t.substring(14,19)} mins`}function Ys(e,t,s){let i,g,c;Ge(e,st,T=>s(4,i=T)),Ge(e,nl,T=>s(24,g=T)),Ge(e,ol,T=>s(5,c=T));let{inAuto:p=!0}=t,{params:n}=t,{stats:b={height:0,width:0,n_cols:0,n_bundles:0,n_z:1,time:0}}=t,{z_stack:m=!1}=t,{fc_:M=0}=t;function h(){Ie(nl,g.image_params.xy0=n.xy0,g),Ie(nl,g.image_params.xy1=n.xy1,g)}function v(T){if(!T)return!0;if(!p)return!1;const we=g.exps[M].cmds.filter(Ee=>Ee.cmd.op==="takeimage").map(Ee=>Ee.cmd.name);return Vs(we)[T]>1}function E(){n.name=this.value,s(0,n)}function V(){n.path=this.value,s(0,n)}function w(T){n=T,s(0,n)}function D(T){n=T,s(0,n)}function r(T){e.$$.not_equal(n.xy0,T)&&(n.xy0=T,s(0,n))}function y(T){e.$$.not_equal(n.xy1,T)&&(n.xy1=T,s(0,n))}function O(){n.overlap=Y(this.value),s(0,n)}function F(){n.z_tilt=Y(this.value),s(0,n)}const H=()=>Ie(ol,c={move:{z_tilt:n.z_tilt}},c);function C(){n.z_obj=Y(this.value),s(0,n)}const j=()=>Ie(ol,c={move:{z_obj:n.z_obj}},c);function B(){m=this.checked,s(2,m)}function q(){n.z_spacing=Y(this.value),s(0,n)}function X(){n.z_from=Y(this.value),s(0,n)}function J(){n.z_to=Y(this.value),s(0,n)}return e.$$set=T=>{"inAuto"in T&&s(3,p=T.inAuto),"params"in T&&s(0,n=T.params),"stats"in T&&s(1,b=T.stats),"z_stack"in T&&s(2,m=T.z_stack),"fc_"in T&&s(8,M=T.fc_)},e.$$.update=()=>{e.$$.dirty&16&&Rs(document.getElementById("control"),i.block),e.$$.dirty&1&&s(1,b.height=Math.max(n.xy1[1],n.xy0[1])-Math.min(n.xy1[1],n.xy0[1]),b),e.$$.dirty&1&&s(1,b.width=Math.max(n.xy1[0],n.xy0[0])-Math.min(n.xy1[0],n.xy0[0]),b),e.$$.dirty&3&&s(1,b.n_cols=b.width==0?1:Math.ceil(b.width/(.768*(1-n.overlap))),b),e.$$.dirty&2&&s(1,b.n_bundles=Math.ceil(b.height/.048),b),e.$$.dirty&2&&s(1,b.time=b.n_bundles*b.n_cols/20,b),e.$$.dirty&1&&s(1,b.n_z=Math.abs(n.z_to-n.z_from)+1,b)},[n,b,m,p,i,c,h,v,M,E,V,w,D,r,y,O,F,H,C,j,B,q,X,J]}class ea extends ot{constructor(t){super();rt(this,t,Ys,Gs,it,{inAuto:3,params:0,stats:1,z_stack:2,fc_:8})}}export{xs as P,ea as T};
