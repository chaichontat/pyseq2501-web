import{S as Q,i as R,s as Z,a7 as ae,e as $,w as P,c as g,a as d,x as D,d as f,b as h,g as w,H as _,y as V,q as z,o as S,B as U,a8 as Y,a9 as ne,k as C,m as N,t as y,h as A,j as te,aa as le,f as L,R as k,T as G,ab as re,U as se,N as x,v as ie,ac as oe,ad as ue,Q as fe,ae as j,$ as B,W as F,M as ee}from"./vendor-2f45df4e.js";import{i as he,u as me}from"./store-5f076199.js";function ce(l){let e,a,s,n=l[3]+"",t;return{c(){e=$("div"),a=C(),s=$("span"),t=y(n),this.h()},l(o){e=g(o,"DIV",{class:!0}),d(e).forEach(f),a=N(o),s=g(o,"SPAN",{class:!0});var r=d(s);t=A(r,n),r.forEach(f),this.h()},h(){h(e,"class","relative left-0 block w-full border-b border-gray-100"),h(s,"class","y label svelte-hvuhv1")},m(o,r){w(o,e,r),w(o,a,r),w(o,s,r),_(s,t)},p(o,r){r&8&&n!==(n=o[3]+"")&&te(t,n)},d(o){o&&f(e),o&&f(a),o&&f(s)}}}function pe(l){let e;return{c(){e=$("div"),this.h()},l(a){e=g(a,"DIV",{class:!0}),d(e).forEach(f),this.h()},h(){h(e,"class","bg-blue-800 column svelte-hvuhv1")},m(a,s){w(a,e,s)},d(a){a&&f(e)}}}function _e(l){let e,a=l[3]+"",s;return{c(){e=$("span"),s=y(a),this.h()},l(n){e=g(n,"SPAN",{class:!0});var t=d(e);s=A(t,a),t.forEach(f),this.h()},h(){h(e,"class","x label svelte-hvuhv1")},m(n,t){w(n,e,t),_(e,s)},p(n,t){t&8&&a!==(a=n[3]+"")&&te(s,a)},d(n){n&&f(e)}}}function $e(l){let e,a,s,n,t,o;return e=new Y({props:{horizontal:!0,count:5,$$slots:{default:[ce,({value:r})=>({3:r}),({value:r})=>r?8:0]},$$scope:{ctx:l}}}),s=new ne({props:{data:l[1],width:1,$$slots:{default:[pe]},$$scope:{ctx:l}}}),t=new Y({props:{vertical:!0,count:5,$$slots:{default:[_e,({value:r})=>({3:r}),({value:r})=>r?8:0]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),a=C(),P(s.$$.fragment),n=C(),P(t.$$.fragment)},l(r){D(e.$$.fragment,r),a=N(r),D(s.$$.fragment,r),n=N(r),D(t.$$.fragment,r)},m(r,m){V(e,r,m),w(r,a,m),V(s,r,m),w(r,n,m),V(t,r,m),o=!0},p(r,m){const i={};m&24&&(i.$$scope={dirty:m,ctx:r}),e.$set(i);const u={};m&2&&(u.data=r[1]),m&16&&(u.$$scope={dirty:m,ctx:r}),s.$set(u);const E={};m&24&&(E.$$scope={dirty:m,ctx:r}),t.$set(E)},i(r){o||(z(e.$$.fragment,r),z(s.$$.fragment,r),z(t.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(s.$$.fragment,r),S(t.$$.fragment,r),o=!1},d(r){U(e,r),r&&f(a),U(s,r),r&&f(n),U(t,r)}}}function ge(l){let e,a,s,n;return s=new ae({props:{x1:0,x2:4096,y1:0,y2:l[0],$$slots:{default:[$e]},$$scope:{ctx:l}}}),{c(){e=$("div"),a=$("div"),P(s.$$.fragment),this.h()},l(t){e=g(t,"DIV",{class:!0});var o=d(e);a=g(o,"DIV",{class:!0});var r=d(a);D(s.$$.fragment,r),r.forEach(f),o.forEach(f),this.h()},h(){h(a,"class","z-10 foreground svelte-hvuhv1"),h(e,"class","chart svelte-hvuhv1")},m(t,o){w(t,e,o),_(e,a),V(s,a,null),n=!0},p(t,[o]){const r={};o&1&&(r.y2=t[0]),o&18&&(r.$$scope={dirty:o,ctx:t}),s.$set(r)},i(t){n||(z(s.$$.fragment,t),n=!0)},o(t){S(s.$$.fragment,t),n=!1},d(t){t&&f(e),U(s)}}}function de(l,e){return l.map((a,s)=>({x:a,y:e[s]}))}function ve(l,e,a){let{hist:s}=e,n,t=[{x:0,y:0},{x:2e3,y:10}];return l.$$set=o=>{"hist"in o&&a(2,s=o.hist)},l.$$.update=()=>{l.$$.dirty&4&&s&&(a(1,t=de(s.bin_edges,s.counts)),a(0,n=Math.max(...s.counts)))},[n,t,s]}class be extends Q{constructor(e){super();R(this,e,ve,ge,Z,{hist:2})}}function we(l){let e,a,s;return{c(){e=$("button"),a=y("Channel 0"),this.h()},l(n){e=g(n,"BUTTON",{class:!0});var t=d(e);a=A(t,"Channel 0"),t.forEach(f),this.h()},h(){h(e,"class",s=B(H("green",l[13],l[5].man_params.channels[0]))+" svelte-mv4gi2"),k(e,"bg-green-600",l[13])},m(n,t){w(n,e,t),_(e,a)},p(n,t){t&8224&&s!==(s=B(H("green",n[13],n[5].man_params.channels[0]))+" svelte-mv4gi2")&&h(e,"class",s),t&8224&&k(e,"bg-green-600",n[13])},d(n){n&&f(e)}}}function Ee(l){let e,a,s;return{c(){e=$("button"),a=y("Channel 1"),this.h()},l(n){e=g(n,"BUTTON",{class:!0});var t=d(e);a=A(t,"Channel 1"),t.forEach(f),this.h()},h(){h(e,"class",s=B(H("orange",l[13],l[5].man_params.channels[1]))+" svelte-mv4gi2"),k(e,"bg-orange-500",l[13])},m(n,t){w(n,e,t),_(e,a)},p(n,t){t&8224&&s!==(s=B(H("orange",n[13],n[5].man_params.channels[1]))+" svelte-mv4gi2")&&h(e,"class",s),t&8224&&k(e,"bg-orange-500",n[13])},d(n){n&&f(e)}}}function ke(l){let e,a,s;return{c(){e=$("button"),a=y("Channel 2"),this.h()},l(n){e=g(n,"BUTTON",{class:!0});var t=d(e);a=A(t,"Channel 2"),t.forEach(f),this.h()},h(){h(e,"class",s=B(H("rose",l[13],l[5].man_params.channels[2]))+" svelte-mv4gi2"),k(e,"bg-rose-600",l[13])},m(n,t){w(n,e,t),_(e,a)},p(n,t){t&8224&&s!==(s=B(H("rose",n[13],n[5].man_params.channels[2]))+" svelte-mv4gi2")&&h(e,"class",s),t&8224&&k(e,"bg-rose-600",n[13])},d(n){n&&f(e)}}}function Ie(l){let e,a,s;return{c(){e=$("button"),a=y("Channel 3"),this.h()},l(n){e=g(n,"BUTTON",{class:!0});var t=d(e);a=A(t,"Channel 3"),t.forEach(f),this.h()},h(){h(e,"class",s=B(H("amber",l[13],l[5].man_params.channels[3]))+" svelte-mv4gi2"),k(e,"bg-amber-800",l[13])},m(n,t){w(n,e,t),_(e,a)},p(n,t){t&8224&&s!==(s=B(H("amber",n[13],n[5].man_params.channels[3]))+" svelte-mv4gi2")&&h(e,"class",s),t&8224&&k(e,"bg-amber-800",n[13])},d(n){n&&f(e)}}}function Te(l){let e,a,s,n,t,o,r,m;return e=new j({props:{disabled:!l[5].man_params.channels[0],$$slots:{default:[we,({selected:i})=>({13:i}),({selected:i})=>i?8192:0]},$$scope:{ctx:l}}}),s=new j({props:{disabled:!l[5].man_params.channels[1],$$slots:{default:[Ee,({selected:i})=>({13:i}),({selected:i})=>i?8192:0]},$$scope:{ctx:l}}}),t=new j({props:{disabled:!l[5].man_params.channels[2],$$slots:{default:[ke,({selected:i})=>({13:i}),({selected:i})=>i?8192:0]},$$scope:{ctx:l}}}),r=new j({props:{disabled:!l[5].man_params.channels[3],$$slots:{default:[Ie,({selected:i})=>({13:i}),({selected:i})=>i?8192:0]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),a=C(),P(s.$$.fragment),n=C(),P(t.$$.fragment),o=C(),P(r.$$.fragment)},l(i){D(e.$$.fragment,i),a=N(i),D(s.$$.fragment,i),n=N(i),D(t.$$.fragment,i),o=N(i),D(r.$$.fragment,i)},m(i,u){V(e,i,u),w(i,a,u),V(s,i,u),w(i,n,u),V(t,i,u),w(i,o,u),V(r,i,u),m=!0},p(i,u){const E={};u&32&&(E.disabled=!i[5].man_params.channels[0]),u&24608&&(E.$$scope={dirty:u,ctx:i}),e.$set(E);const T={};u&32&&(T.disabled=!i[5].man_params.channels[1]),u&24608&&(T.$$scope={dirty:u,ctx:i}),s.$set(T);const c={};u&32&&(c.disabled=!i[5].man_params.channels[2]),u&24608&&(c.$$scope={dirty:u,ctx:i}),t.$set(c);const p={};u&32&&(p.disabled=!i[5].man_params.channels[3]),u&24608&&(p.$$scope={dirty:u,ctx:i}),r.$set(p)},i(i){m||(z(e.$$.fragment,i),z(s.$$.fragment,i),z(t.$$.fragment,i),z(r.$$.fragment,i),m=!0)},o(i){S(e.$$.fragment,i),S(s.$$.fragment,i),S(t.$$.fragment,i),S(r.$$.fragment,i),m=!1},d(i){U(e,i),i&&f(a),U(s,i),i&&f(n),U(t,i),i&&f(o),U(r,i)}}}function Ce(l){let e,a;return e=new ue({props:{class:"grid grid-cols-4 p-1 space-x-1 bg-white shadow rounded-xl opacity-90 ",$$slots:{default:[Te]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,n){V(e,s,n),a=!0},p(s,n){const t={};n&16416&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){a||(z(e.$$.fragment,s),a=!0)},o(s){S(e.$$.fragment,s),a=!1},d(s){U(e,s)}}}function Ne(l){var K;let e,a,s,n,t,o,r,m,i,u,E,T,c,p,v,W,J;return o=new le({props:{$$slots:{default:[Ce]},$$scope:{ctx:l}}}),o.$on("change",l[7]),p=new be({props:{hist:(K=l[1])==null?void 0:K.hist[l[0]]}}),{c(){e=$("div"),a=$("canvas"),n=C(),t=$("div"),P(o.$$.fragment),r=C(),m=$("div"),i=$("span"),u=$("input"),E=y(`
      Show Histogram`),T=C(),c=$("div"),P(p.$$.fragment),this.h()},l(I){e=g(I,"DIV",{class:!0,style:!0});var b=d(e);a=g(b,"CANVAS",{id:!0,class:!0,width:!0,height:!0}),d(a).forEach(f),n=N(b),t=g(b,"DIV",{class:!0});var M=d(t);D(o.$$.fragment,M),M.forEach(f),r=N(b),m=g(b,"DIV",{class:!0});var q=d(m);i=g(q,"SPAN",{class:!0});var O=d(i);u=g(O,"INPUT",{type:!0,class:!0}),E=A(O,`
      Show Histogram`),O.forEach(f),q.forEach(f),T=N(b),c=g(b,"DIV",{id:!0,class:!0,style:!0});var X=d(c);D(p.$$.fragment,X),X.forEach(f),b.forEach(f),this.h()},h(){h(a,"id","canvas"),h(a,"class","bg-gray-600"),h(a,"width",1024),h(a,"height",s=128*l[5].man_params.n),h(t,"class","absolute z-40 w-2/5 h-10 top-4 left-4"),h(u,"type","checkbox"),h(u,"class","mr-1 text-blue-500 rounded focus:ring-blue-300"),h(i,"class","mx-4 font-medium cursor-pointer"),h(m,"class","absolute z-40 inline-flex items-center h-12 bg-white border rounded-lg shadow-lg top-4 right-8 opacity-90"),h(c,"id","histogram"),h(c,"class","absolute z-30 bg-white rounded-lg shadow-lg bottom-8 right-8 opacity-90"),L(c,"width","400px"),L(c,"height","300px"),k(c,"hidden",!l[4]),h(e,"class","relative w-11/12 mx-auto mt-4 border border-gray-300 rounded-md "),L(e,"height","75vh")},m(I,b){w(I,e,b),_(e,a),l[6](a),_(e,n),_(e,t),V(o,t,null),_(e,r),_(e,m),_(m,i),_(i,u),u.checked=l[4],_(i,E),_(e,T),_(e,c),V(p,c,null),v=!0,W||(J=[G(a,"wheel",function(){re(l[3].zoomWithWheel)&&l[3].zoomWithWheel.apply(this,arguments)}),G(u,"change",l[8]),G(i,"click",l[9])],W=!0)},p(I,[b]){var O;l=I,(!v||b&32&&s!==(s=128*l[5].man_params.n))&&h(a,"height",s);const M={};b&16416&&(M.$$scope={dirty:b,ctx:l}),o.$set(M),b&16&&(u.checked=l[4]);const q={};b&3&&(q.hist=(O=l[1])==null?void 0:O.hist[l[0]]),p.$set(q),b&16&&k(c,"hidden",!l[4])},i(I){v||(z(o.$$.fragment,I),z(p.$$.fragment,I),v=!0)},o(I){S(o.$$.fragment,I),S(p.$$.fragment,I),v=!1},d(I){I&&f(e),l[6](null),U(o),U(p),W=!1,se(J)}}}function H(l,e,a){return`tab-button ${e?"text-white":`${a?`text-gray-700 hover:text-black bg-white hover:bg-${l}-300`:"text-gray-400"}`}`}function Pe(l,e,a){let s,n;x(l,he,v=>a(1,s=v)),x(l,me,v=>a(5,n=v));let t,o,r,m,i=!0,u=0;ie(()=>{m=t.getContext("2d"),a(3,r=oe(t,{maxZoom:5}))}),o=new Image,o.onload=()=>m.drawImage(o,0,0);function E(v){fe[v?"unshift":"push"](()=>{t=v,a(2,t)})}const T=v=>a(0,u=v.detail);function c(){i=this.checked,a(4,i)}const p=()=>a(4,i=!i);return l.$$.update=()=>{l.$$.dirty&3&&(o.src=s==null?void 0:s.img[u])},[u,s,t,r,i,n,E,T,c,p]}class Ue extends Q{constructor(e){super();R(this,e,Pe,Ne,Z,{})}}function De(l){let e,a,s,n,t,o,r,m,i,u,E,T;return{c(){e=$("div"),a=$("p"),s=y("Name"),n=C(),t=$("input"),o=C(),r=$("p"),m=y("Image Path"),i=C(),u=$("input"),this.h()},l(c){e=g(c,"DIV",{class:!0});var p=d(e);a=g(p,"P",{class:!0});var v=d(a);s=A(v,"Name"),v.forEach(f),n=N(p),t=g(p,"INPUT",{type:!0,class:!0}),o=N(p),r=g(p,"P",{class:!0});var W=d(r);m=A(W,"Image Path"),W.forEach(f),i=N(p),u=g(p,"INPUT",{type:!0,class:!0}),p.forEach(f),this.h()},h(){h(a,"class","text-lg"),h(t,"type","text"),h(t,"class","max-w-md mt-1 mb-4 pretty"),k(t,"invalid",!l[0]),h(r,"class","text-lg"),h(u,"type","text"),h(u,"class","max-w-md mt-1 mb-4 pretty"),k(u,"invalid",!l[1]),h(e,"class","flex flex-col text-lg font-medium")},m(c,p){w(c,e,p),_(e,a),_(a,s),_(e,n),_(e,t),F(t,l[0]),_(e,o),_(e,r),_(r,m),_(e,i),_(e,u),F(u,l[1]),E||(T=[G(t,"input",l[2]),G(u,"input",l[3])],E=!0)},p(c,[p]){p&1&&t.value!==c[0]&&F(t,c[0]),p&1&&k(t,"invalid",!c[0]),p&2&&u.value!==c[1]&&F(u,c[1]),p&2&&k(u,"invalid",!c[1])},i:ee,o:ee,d(c){c&&f(e),E=!1,se(T)}}}function Ve(l,e,a){let{name:s=""}=e,{path:n=""}=e;function t(){s=this.value,a(0,s)}function o(){n=this.value,a(1,n)}return l.$$set=r=>{"name"in r&&a(0,s=r.name),"path"in r&&a(1,n=r.path)},[s,n,t,o]}class ye extends Q{constructor(e){super();R(this,e,Ve,De,Z,{name:0,path:1})}}export{ye as D,Ue as P};
