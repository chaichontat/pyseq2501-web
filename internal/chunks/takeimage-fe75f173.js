var ls=Object.defineProperty;var Wl=Object.getOwnPropertySymbols;var ss=Object.prototype.hasOwnProperty,as=Object.prototype.propertyIsEnumerable;var Yl=(e,l,s)=>l in e?ls(e,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[l]=s,yl=(e,l)=>{for(var s in l||(l={}))ss.call(l,s)&&Yl(e,s,l[s]);if(Wl)for(var s of Wl(l))as.call(l,s)&&Yl(e,s,l[s]);return e};import{a7 as ns,S as wl,i as Il,s as Nl,e as u,t as h,k as O,O as jt,c as p,a as _,h as m,d as n,m as z,P as Ft,b as a,R as Z,g as j,H as t,$ as W,T as G,Z as J,n as os,o as Ge,p as rs,q as Qe,U as Ol,N as Zt,Y as is,M as qt,w as ft,x as _t,y as dt,B as ct,_ as lt,j as fe,Q as Vt,W as Mt,a0 as El,X as Ut,V as Bt}from"./vendor-720ad347.js";import{s as us,u as Lt,c as kl}from"./store-29e1f109.js";import{S as ps}from"./spinning-782accff.js";import{r as fs}from"./coords-813c65ab.js";var Pl=(e,l,s)=>{e.setAttribute("aria-label",l),e.title="";const o=ns(e,yl({content:l,delay:[100,0]},s));return{update:f=>o.setProps(yl({},f)),destroy:()=>o.destroy()}};function _s(e){let l,s;return{c(){l=u("div"),s=h("Go"),this.h()},l(o){l=p(o,"DIV",{class:!0});var f=_(l);s=m(f,"Go"),f.forEach(n),this.h()},h(){a(l,"class","mx-auto")},m(o,f){j(o,l,f),t(l,s)},i:qt,o:qt,d(o){o&&n(l)}}}function ds(e){let l,s,o;return s=new ps({props:{color:"black"}}),{c(){l=u("div"),ft(s.$$.fragment),this.h()},l(f){l=p(f,"DIV",{class:!0});var b=_(l);_t(s.$$.fragment,b),b.forEach(n),this.h()},h(){a(l,"class","mx-auto opacity-40")},m(f,b){j(f,l,b),dt(s,l,null),o=!0},i(f){o||(Qe(s.$$.fragment,f),o=!0)},o(f){Ge(s.$$.fragment,f),o=!1},d(f){f&&n(l),ct(s)}}}function cs(e){let l,s,o,f,b,r,d,T,E,I,N,k,y,A,v,P,i,S,Q,V,B,H,F,U,L,$,ae;const ie=[ds,_s],q=[];function R(w,D){return w[1].block?0:1}return P=R(e),i=q[P]=ie[P](e),{c(){l=u("div"),s=u("div"),o=u("span"),f=h("X"),b=O(),r=u("input"),T=O(),E=u("span"),I=h("Y"),N=O(),k=u("input"),A=O(),v=u("button"),i.c(),Q=O(),V=u("button"),B=jt("svg"),H=jt("path"),F=h(`
    Current`),this.h()},l(w){l=p(w,"DIV",{class:!0});var D=_(l);s=p(D,"DIV",{class:!0});var X=_(s);o=p(X,"SPAN",{class:!0});var te=_(o);f=m(te,"X"),te.forEach(n),b=z(X),r=p(X,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),T=z(X),E=p(X,"SPAN",{class:!0});var ge=_(E);I=m(ge,"Y"),ge.forEach(n),N=z(X),k=p(X,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),X.forEach(n),A=z(D),v=p(D,"BUTTON",{type:!0,class:!0,tabindex:!0});var Y=_(v);i.l(Y),Y.forEach(n),Q=z(D),V=p(D,"BUTTON",{type:!0,class:!0});var _e=_(V);B=Ft(_e,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var ye=_(B);H=Ft(ye,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(H).forEach(n),ye.forEach(n),F=m(_e,`
    Current`),_e.forEach(n),D.forEach(n),this.h()},h(){a(o,"class","flex items-center border-l rounded-l-lg color-group svelte-awp8a4"),Z(o,"span-disabled",e[1].block),a(r,"type","number"),a(r,"min","-5"),a(r,"max","30"),a(r,"step","0.01"),a(r,"class","z-10 h-10 text-center rounded-none pretty w-28"),r.disabled=d=e[1].block,a(E,"class","flex items-center color-group svelte-awp8a4"),Z(E,"span-disabled",e[1].block),a(k,"type","number"),a(k,"min","-5"),a(k,"max","80"),a(k,"step","0.01"),a(k,"class","z-10 h-10 text-center rounded-l-none rounded-r-lg pretty w-28"),k.disabled=y=e[1].block,a(s,"class","flex font-medium"),a(v,"type","button"),a(v,"class","px-4 py-1 text-sm font-medium text-blue-800 border-blue-300 rounded-lg w-14 hover:bg-blue-100 active:bg-blue-200 bg-blue-50 white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),a(v,"tabindex","0"),v.disabled=S=Boolean(e[1].block),a(H,"stroke-linecap","round"),a(H,"stroke-linejoin","round"),a(H,"stroke-width","2"),a(H,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),a(B,"xmlns","http://www.w3.org/2000/svg"),a(B,"class","w-5 h-5 mr-1"),a(B,"fill","none"),a(B,"viewBox","0 0 24 24"),a(B,"stroke","currentColor"),a(V,"type","button"),a(V,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),V.disabled=U=e[1].block,a(l,"class","flex gap-x-2")},m(w,D){j(w,l,D),t(l,s),t(s,o),t(o,f),t(s,b),t(s,r),W(r,e[0][0]),t(s,T),t(s,E),t(E,I),t(s,N),t(s,k),W(k,e[0][1]),t(l,A),t(l,v),q[P].m(v,null),t(l,Q),t(l,V),t(V,B),t(B,H),t(V,F),L=!0,$||(ae=[G(r,"input",e[4]),G(r,"change",e[5]),G(k,"input",e[6]),G(k,"change",e[7]),G(v,"click",e[8]),G(V,"click",e[3])],$=!0)},p(w,[D]){D&2&&Z(o,"span-disabled",w[1].block),(!L||D&2&&d!==(d=w[1].block))&&(r.disabled=d),D&1&&J(r.value)!==w[0][0]&&W(r,w[0][0]),D&2&&Z(E,"span-disabled",w[1].block),(!L||D&2&&y!==(y=w[1].block))&&(k.disabled=y),D&1&&J(k.value)!==w[0][1]&&W(k,w[0][1]);let X=P;P=R(w),P!==X&&(os(),Ge(q[X],1,1,()=>{q[X]=null}),rs(),i=q[P],i||(i=q[P]=ie[P](w),i.c()),Qe(i,1),i.m(v,null)),(!L||D&2&&S!==(S=Boolean(w[1].block)))&&(v.disabled=S),(!L||D&2&&U!==(U=w[1].block))&&(V.disabled=U)},i(w){L||(Qe(i),L=!0)},o(w){Ge(i),L=!1},d(w){w&&n(l),q[P].d(),$=!1,Ol(ae)}}}function vs(e,l,s){let o,f;Zt(e,us,y=>s(9,o=y)),Zt(e,Lt,y=>s(1,f=y));let{xy:b=[-1,-1]}=l;const r=is();function d(){const{x:y,y:A}=fs(f.image_params.fc,o.x,o.y);s(0,b[0]=Math.round((y+Number.EPSILON)*100)/100,b),s(0,b[1]=Math.round((A+Number.EPSILON)*100)/100,b)}function T(){b[0]=J(this.value),s(0,b)}const E=()=>r("change");function I(){b[1]=J(this.value),s(0,b)}const N=()=>r("change"),k=()=>r("go");return e.$$set=y=>{"xy"in y&&s(0,b=y.xy)},[b,f,r,d,T,E,I,N,k]}class Gl extends wl{constructor(l){super();Il(this,l,vs,cs,Nl,{xy:0})}}function hs(e){let l,s,o,f,b,r,d,T,E,I,N,k,y,A,v,P;return{c(){l=u("option"),s=h("Open"),o=u("option"),f=h("0.2"),b=u("option"),r=h("0.5"),d=u("option"),T=h("0.6"),E=u("option"),I=h("1.0"),N=u("option"),k=h("2.4"),y=u("option"),A=h("4.0"),v=u("option"),P=h("Closed"),this.h()},l(i){l=p(i,"OPTION",{});var S=_(l);s=m(S,"Open"),S.forEach(n),o=p(i,"OPTION",{});var Q=_(o);f=m(Q,"0.2"),Q.forEach(n),b=p(i,"OPTION",{});var V=_(b);r=m(V,"0.5"),V.forEach(n),d=p(i,"OPTION",{});var B=_(d);T=m(B,"0.6"),B.forEach(n),E=p(i,"OPTION",{});var H=_(E);I=m(H,"1.0"),H.forEach(n),N=p(i,"OPTION",{});var F=_(N);k=m(F,"2.4"),F.forEach(n),y=p(i,"OPTION",{});var U=_(y);A=m(U,"4.0"),U.forEach(n),v=p(i,"OPTION",{});var L=_(v);P=m(L,"Closed"),L.forEach(n),this.h()},h(){l.__value="Open",l.value=l.__value,o.__value="0.2",o.value=o.__value,b.__value="0.5",b.value=b.__value,d.__value="0.6",d.value=d.__value,E.__value="1.0",E.value=E.__value,N.__value="2.4",N.value=N.__value,y.__value="4.0",y.value=y.__value,v.__value="Closed",v.value=v.__value},m(i,S){j(i,l,S),t(l,s),j(i,o,S),t(o,f),j(i,b,S),t(b,r),j(i,d,S),t(d,T),j(i,E,S),t(E,I),j(i,N,S),t(N,k),j(i,y,S),t(y,A),j(i,v,S),t(v,P)},d(i){i&&n(l),i&&n(o),i&&n(b),i&&n(d),i&&n(E),i&&n(N),i&&n(y),i&&n(v)}}}function ms(e){let l,s,o,f,b,r,d,T,E,I,N,k,y,A,v,P;return{c(){l=u("option"),s=h("Open"),o=u("option"),f=h("1.0"),b=u("option"),r=h("2.0"),d=u("option"),T=h("3.5"),E=u("option"),I=h("3.8"),N=u("option"),k=h("4.0"),y=u("option"),A=h("4.5"),v=u("option"),P=h("Closed"),this.h()},l(i){l=p(i,"OPTION",{});var S=_(l);s=m(S,"Open"),S.forEach(n),o=p(i,"OPTION",{});var Q=_(o);f=m(Q,"1.0"),Q.forEach(n),b=p(i,"OPTION",{});var V=_(b);r=m(V,"2.0"),V.forEach(n),d=p(i,"OPTION",{});var B=_(d);T=m(B,"3.5"),B.forEach(n),E=p(i,"OPTION",{});var H=_(E);I=m(H,"3.8"),H.forEach(n),N=p(i,"OPTION",{});var F=_(N);k=m(F,"4.0"),F.forEach(n),y=p(i,"OPTION",{});var U=_(y);A=m(U,"4.5"),U.forEach(n),v=p(i,"OPTION",{});var L=_(v);P=m(L,"Closed"),L.forEach(n),this.h()},h(){l.__value="Open",l.value=l.__value,o.__value="1.0",o.value=o.__value,b.__value="2.0",b.value=b.__value,d.__value="3.5",d.value=d.__value,E.__value="3.8",E.value=E.__value,N.__value="4.0",N.value=N.__value,y.__value="4.5",y.value=y.__value,v.__value="Closed",v.value=v.__value},m(i,S){j(i,l,S),t(l,s),j(i,o,S),t(o,f),j(i,b,S),t(b,r),j(i,d,S),t(d,T),j(i,E,S),t(E,I),j(i,N,S),t(N,k),j(i,y,S),t(y,A),j(i,v,S),t(v,P)},d(i){i&&n(l),i&&n(o),i&&n(b),i&&n(d),i&&n(E),i&&n(N),i&&n(y),i&&n(v)}}}function bs(e){let l,s,o,f,b,r,d,T=(Boolean(e[1])?660:532)+"",E,I,N,k,y,A,v,P,i,S,Q,V=2*e[1]+"",B,H,F,U,L,$,ae=2*e[1]+1+"",ie,q,R,w,D,X,te,ge,Y=(Number(e[0].od[e[1]]!=-1)*e[0].lasers[e[1]]*Math.pow(10,-e[0].od[e[1]])).toFixed(4)+"",_e,ye,de,he;function ke(g,M){return g[1]==0?ms:hs}let Ue=ke(e),ue=Ue(e);return{c(){l=u("p"),s=u("span"),o=u("label"),f=u("input"),r=O(),d=u("div"),E=h(T),I=h(" nm"),N=O(),k=u("input"),A=h(`
    mW`),v=O(),P=u("label"),i=u("input"),Q=h(`
    Channel `),B=h(V),H=O(),F=u("label"),U=u("input"),$=h(`
    Channel `),ie=h(ae),q=O(),R=u("span"),w=h(`Filter OD
    `),D=u("select"),ue.c(),X=O(),te=u("p"),ge=h("Effective: "),_e=h(Y),ye=h(" mW"),this.h()},l(g){l=p(g,"P",{class:!0});var M=_(l);s=p(M,"SPAN",{});var Pe=_(s);o=p(Pe,"LABEL",{});var le=_(o);f=p(le,"INPUT",{type:!0,class:!0}),r=z(le),d=p(le,"DIV",{class:!0});var pe=_(d);E=m(pe,T),I=m(pe," nm"),pe.forEach(n),le.forEach(n),N=z(Pe),k=p(Pe,"INPUT",{type:!0,class:!0}),A=m(Pe,`
    mW`),Pe.forEach(n),v=z(M),P=p(M,"LABEL",{class:!0});var Ee=_(P);i=p(Ee,"INPUT",{type:!0,class:!0}),Q=m(Ee,`
    Channel `),B=m(Ee,V),Ee.forEach(n),H=z(M),F=p(M,"LABEL",{class:!0});var we=_(F);U=p(we,"INPUT",{type:!0,class:!0}),$=m(we,`
    Channel `),ie=m(we,ae),we.forEach(n),q=z(M),R=p(M,"SPAN",{class:!0});var Ie=_(R);w=m(Ie,`Filter OD
    `),D=p(Ie,"SELECT",{class:!0});var Be=_(D);ue.l(Be),Be.forEach(n),X=z(Ie),te=p(Ie,"P",{class:!0});var Ne=_(te);ge=m(Ne,"Effective: "),_e=m(Ne,Y),ye=m(Ne," mW"),Ne.forEach(n),Ie.forEach(n),M.forEach(n),this.h()},h(){a(f,"type","checkbox"),a(f,"class",b=lt(`mr-1 rounded ${e[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"),a(d,"class","inline font-semibold"),Z(d,"text-green-800",e[0].laser_onoff[e[1]]&&!e[1]),Z(d,"text-red-800",e[0].laser_onoff[e[1]]&&e[1]),a(k,"type","number"),a(k,"class","w-20 h-8 mx-1 pretty"),k.disabled=y=!e[0].laser_onoff[e[1]],Z(k,"pretty-disabled",!e[0].laser_onoff[0]),Z(s,"text-gray-400",!e[0].laser_onoff[e[1]]),a(i,"type","checkbox"),a(i,"class",S=lt(`mr-1 rounded ${e[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"),a(P,"class","rounded-lg channel ring-red-500 svelte-6ipz4o"),Z(P,"text-gray-400",!e[0].channels[2*e[1]]),a(U,"type","checkbox"),a(U,"class",L=lt(`mr-1 rounded ${e[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"),a(F,"class","channel svelte-6ipz4o"),Z(F,"text-gray-400",!e[0].channels[2*e[1]+1]),a(D,"class","py-1 text-sm border-gray-400 rounded disabled:border-gray-300"),a(te,"class","ml-3 text-sm font-medium"),a(R,"class","ml-8 font-normal opacity-85"),a(l,"class","flex flex-col")},m(g,M){j(g,l,M),t(l,s),t(s,o),t(o,f),f.checked=e[0].laser_onoff[e[1]],t(o,r),t(o,d),t(d,E),t(d,I),t(s,N),t(s,k),W(k,e[0].lasers[e[1]]),t(s,A),t(l,v),t(l,P),t(P,i),i.checked=e[0].channels[2*e[1]],t(P,Q),t(P,B),t(l,H),t(l,F),t(F,U),U.checked=e[0].channels[2*e[1]+1],t(F,$),t(F,ie),t(l,q),t(l,R),t(R,w),t(R,D),ue.m(D,null),t(R,X),t(R,te),t(te,ge),t(te,_e),t(te,ye),de||(he=[G(f,"change",e[3]),G(k,"input",e[4]),G(i,"change",e[5]),G(U,"change",e[6]),G(D,"change",e[2])],de=!0)},p(g,[M]){M&2&&b!==(b=lt(`mr-1 rounded ${g[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o")&&a(f,"class",b),M&3&&(f.checked=g[0].laser_onoff[g[1]]),M&2&&T!==(T=(Boolean(g[1])?660:532)+"")&&fe(E,T),M&3&&Z(d,"text-green-800",g[0].laser_onoff[g[1]]&&!g[1]),M&3&&Z(d,"text-red-800",g[0].laser_onoff[g[1]]&&g[1]),M&3&&y!==(y=!g[0].laser_onoff[g[1]])&&(k.disabled=y),M&3&&J(k.value)!==g[0].lasers[g[1]]&&W(k,g[0].lasers[g[1]]),M&1&&Z(k,"pretty-disabled",!g[0].laser_onoff[0]),M&3&&Z(s,"text-gray-400",!g[0].laser_onoff[g[1]]),M&2&&S!==(S=lt(`mr-1 rounded ${g[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o")&&a(i,"class",S),M&3&&(i.checked=g[0].channels[2*g[1]]),M&2&&V!==(V=2*g[1]+"")&&fe(B,V),M&3&&Z(P,"text-gray-400",!g[0].channels[2*g[1]]),M&2&&L!==(L=lt(`mr-1 rounded ${g[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o")&&a(U,"class",L),M&3&&(U.checked=g[0].channels[2*g[1]+1]),M&2&&ae!==(ae=2*g[1]+1+"")&&fe(ie,ae),M&3&&Z(F,"text-gray-400",!g[0].channels[2*g[1]+1]),Ue!==(Ue=ke(g))&&(ue.d(1),ue=Ue(g),ue&&(ue.c(),ue.m(D,null))),M&3&&Y!==(Y=(Number(g[0].od[g[1]]!=-1)*g[0].lasers[g[1]]*Math.pow(10,-g[0].od[g[1]])).toFixed(4)+"")&&fe(_e,Y)},i:qt,o:qt,d(g){g&&n(l),ue.d(),de=!1,Ol(he)}}}function gs(e,l,s){let{params:o}=l,{i:f}=l;function b(I){let N;switch(I.currentTarget.value){case"Open":N=0;break;case"Closed":N=-1;break;default:N=Number(I.currentTarget.value)}s(0,o.od[f]=N,o)}function r(){o.laser_onoff[f]=this.checked,s(0,o)}function d(){o.lasers[f]=J(this.value),s(0,o)}function T(){o.channels[2*f]=this.checked,s(0,o)}function E(){o.channels[2*f+1]=this.checked,s(0,o)}return e.$$set=I=>{"params"in I&&s(0,o=I.params),"i"in I&&s(1,f=I.i)},[o,f,b,r,d,T,E]}class Ql extends wl{constructor(l){super();Il(this,l,gs,bs,Nl,{params:0,i:1})}}function Rl(e){let l,s,o,f,b,r;return{c(){l=u("p"),s=h("Image Path"),o=O(),f=u("input"),this.h()},l(d){l=p(d,"P",{class:!0});var T=_(l);s=m(T,"Image Path"),T.forEach(n),o=z(d),f=p(d,"INPUT",{type:!0,class:!0}),this.h()},h(){a(l,"class","text-lg svelte-1n65g8w"),a(f,"type","text"),a(f,"class","max-w-md mb-4 pretty")},m(d,T){j(d,l,T),t(l,s),j(d,o,T),j(d,f,T),W(f,e[0].path),b||(r=G(f,"input",e[14]),b=!0)},p(d,T){T&1&&f.value!==d[0].path&&W(f,d[0].path)},d(d){d&&n(l),d&&n(o),d&&n(f),b=!1,r()}}}function Jl(e){let l;return{c(){l=h("per z-stack.")},l(s){l=m(s,"per z-stack.")},m(s,o){j(s,l,o)},d(s){s&&n(l)}}}function Kl(e){let l,s,o,f=e[0].z_obj+e[0].z_from*e[0].z_spacing+"",b,r,d=e[0].z_obj+e[0].z_to*e[0].z_spacing+"",T,E,I,N,k=(e[10]?st(e[10]*e[9]):st(e[9]))+"",y,A;return{c(){l=u("div"),s=h(e[10]),o=h(" Z steps from "),b=h(f),r=h(" to "),T=h(d),E=O(),I=u("div"),N=h("Total time: "),y=h(k),A=h("."),this.h()},l(v){l=p(v,"DIV",{});var P=_(l);s=m(P,e[10]),o=m(P," Z steps from "),b=m(P,f),r=m(P," to "),T=m(P,d),P.forEach(n),E=z(v),I=p(v,"DIV",{class:!0});var i=_(I);N=m(i,"Total time: "),y=m(i,k),A=m(i,"."),i.forEach(n),this.h()},h(){a(I,"class","font-semibold")},m(v,P){j(v,l,P),t(l,s),t(l,o),t(l,b),t(l,r),t(l,T),j(v,E,P),j(v,I,P),t(I,N),t(I,y),t(I,A)},p(v,P){P&1024&&fe(s,v[10]),P&1&&f!==(f=v[0].z_obj+v[0].z_from*v[0].z_spacing+"")&&fe(b,f),P&1&&d!==(d=v[0].z_obj+v[0].z_to*v[0].z_spacing+"")&&fe(T,d),P&1536&&k!==(k=(v[10]?st(v[10]*v[9]):st(v[9]))+"")&&fe(y,k)},d(v){v&&n(l),v&&n(E),v&&n(I)}}}function ys(e){let l,s,o,f,b,r,d,T,E,I,N,k,y,A,v,P,i,S,Q,V,B,H,F,U,L,$,ae,ie,q,R,w,D,X,te,ge,Y,_e,ye,de,he,ke,Ue,ue,g,M,Pe,le,pe,Ee=e[3].toFixed(2)+"",we,Ie,Be=e[2].toFixed(2)+"",Ne,Ht,Xt,Oe,vt,Wt,ht,Yt,Gt,me,at=st(e[9])+"",mt,Qt,Rt,Le,Re,Jt,Kt,je,Fe,He,Je,$t,xt,ze,el,Xe,Ke,tl,ll,Ze,Te,sl,Se,Ce,We,al,nt,nl,ol,be,$e,qe,rl,il,K,De,ul,pl,ne,bt,fl,Ae,_l,dl,oe,gt,cl,Ve,vl,hl,re,yt,ml,ce,bl,zl,x=e[1]&&Rl(e);function $l(c){e[15](c)}let Tl={i:0};e[0]!==void 0&&(Tl.params=e[0]),A=new Ql({props:Tl}),Vt.push(()=>Mt(A,"params",$l));function xl(c){e[16](c)}let Sl={i:1};e[0]!==void 0&&(Sl.params=e[0]),i=new Ql({props:Sl}),Vt.push(()=>Mt(i,"params",xl));function es(c){e[17](c)}let Cl={};e[0].xy0!==void 0&&(Cl.xy=e[0].xy0),q=new Gl({props:Cl}),Vt.push(()=>Mt(q,"xy",es)),q.$on("change",e[12]),q.$on("go",e[18]);function ts(c){e[19](c)}let Dl={};e[0].xy1!==void 0&&(Dl.xy=e[0].xy1),Y=new Gl({props:Dl}),Vt.push(()=>Mt(Y,"xy",ts)),Y.$on("change",e[12]),Y.$on("go",e[20]);let se=e[7]&&Jl(),ee=e[7]&&Kl(e);return{c(){l=u("div"),s=u("section"),o=u("p"),f=h("Name"),b=O(),r=u("input"),d=O(),x&&x.c(),T=O(),E=u("section"),I=u("h2"),N=h("Laser and Channels"),k=O(),y=u("div"),ft(A.$$.fragment),P=O(),ft(i.$$.fragment),Q=O(),V=u("section"),B=u("h2"),H=h("Positions"),F=O(),U=u("div"),L=u("div"),$=u("p"),ae=h("\u{1F4CC} Corner 1"),ie=O(),ft(q.$$.fragment),w=O(),D=u("div"),X=u("p"),te=h("\u{1F4CD} Corner 2"),ge=O(),ft(Y.$$.fragment),ye=O(),de=u("div"),he=u("div"),ke=u("p"),Ue=h("X-Overlap"),ue=O(),g=u("input"),M=h(`
          (0-1)`),Pe=O(),le=u("div"),pe=u("span"),we=h(Ee),Ie=h(" \xD7 "),Ne=h(Be),Ht=h(" mm."),Xt=O(),Oe=u("span"),vt=h(e[4]),Wt=h(" columns of "),ht=h(e[5]),Yt=h(" bundles."),Gt=O(),me=u("span"),mt=h(at),Qt=O(),se&&se.c(),Rt=O(),Le=u("section"),Re=u("h2"),Jt=h("Focus"),Kt=O(),je=u("div"),Fe=u("div"),He=u("div"),Je=u("p"),$t=h("Z Tilt"),xt=O(),ze=u("input"),el=O(),Xe=u("div"),Ke=u("p"),tl=h("Z Objective"),ll=O(),Ze=u("span"),Te=u("input"),sl=O(),Se=u("button"),Ce=jt("svg"),We=jt("path"),al=O(),nt=u("span"),nl=h("Autofocus"),ol=O(),be=u("div"),$e=u("label"),qe=u("input"),rl=h(`
          Z-Stack`),il=O(),K=u("div"),De=u("span"),ul=h("Spacing"),pl=O(),ne=u("input"),fl=O(),Ae=u("span"),_l=h("From"),dl=O(),oe=u("input"),cl=O(),Ve=u("span"),vl=h("To"),hl=O(),re=u("input"),ml=O(),ee&&ee.c(),this.h()},l(c){l=p(c,"DIV",{id:!0,class:!0});var C=_(l);s=p(C,"SECTION",{class:!0});var Me=_(s);o=p(Me,"P",{class:!0});var ot=_(o);f=m(ot,"Name"),ot.forEach(n),b=z(Me),r=p(Me,"INPUT",{type:!0,class:!0}),d=z(Me),x&&x.l(Me),Me.forEach(n),T=z(C),E=p(C,"SECTION",{class:!0});var Ye=_(E);I=p(Ye,"H2",{class:!0});var rt=_(I);N=m(rt,"Laser and Channels"),rt.forEach(n),k=z(Ye),y=p(Ye,"DIV",{class:!0});var Et=_(y);_t(A.$$.fragment,Et),P=z(Et),_t(i.$$.fragment,Et),Et.forEach(n),Ye.forEach(n),Q=z(C),V=p(C,"SECTION",{class:!0});var kt=_(V);B=p(kt,"H2",{class:!0});var Al=_(B);H=m(Al,"Positions"),Al.forEach(n),F=z(kt),U=p(kt,"DIV",{class:!0});var xe=_(U);L=p(xe,"DIV",{});var Pt=_(L);$=p(Pt,"P",{class:!0});var Vl=_($);ae=m(Vl,"\u{1F4CC} Corner 1"),Vl.forEach(n),ie=z(Pt),_t(q.$$.fragment,Pt),Pt.forEach(n),w=z(xe),D=p(xe,"DIV",{});var wt=_(D);X=p(wt,"P",{class:!0});var Ml=_(X);te=m(Ml,"\u{1F4CD} Corner 2"),Ml.forEach(n),ge=z(wt),_t(Y.$$.fragment,wt),wt.forEach(n),ye=z(xe),de=p(xe,"DIV",{class:!0});var It=_(de);he=p(It,"DIV",{});var it=_(he);ke=p(it,"P",{class:!0});var Ul=_(ke);Ue=m(Ul,"X-Overlap"),Ul.forEach(n),ue=z(it),g=p(it,"INPUT",{type:!0,class:!0,step:!0,min:!0,max:!0}),M=m(it,`
          (0-1)`),it.forEach(n),Pe=z(It),le=p(It,"DIV",{class:!0});var et=_(le);pe=p(et,"SPAN",{class:!0});var ut=_(pe);we=m(ut,Ee),Ie=m(ut," \xD7 "),Ne=m(ut,Be),Ht=m(ut," mm."),ut.forEach(n),Xt=z(et),Oe=p(et,"SPAN",{class:!0});var pt=_(Oe);vt=m(pt,e[4]),Wt=m(pt," columns of "),ht=m(pt,e[5]),Yt=m(pt," bundles."),pt.forEach(n),Gt=z(et),me=p(et,"SPAN",{class:!0});var Nt=_(me);mt=m(Nt,at),Qt=z(Nt),se&&se.l(Nt),Nt.forEach(n),et.forEach(n),It.forEach(n),xe.forEach(n),kt.forEach(n),Rt=z(C),Le=p(C,"SECTION",{class:!0});var Ot=_(Le);Re=p(Ot,"H2",{class:!0});var Bl=_(Re);Jt=m(Bl,"Focus"),Bl.forEach(n),Kt=z(Ot),je=p(Ot,"DIV",{class:!0});var zt=_(je);Fe=p(zt,"DIV",{class:!0});var Tt=_(Fe);He=p(Tt,"DIV",{});var St=_(He);Je=p(St,"P",{class:!0});var Ll=_(Je);$t=m(Ll,"Z Tilt"),Ll.forEach(n),xt=z(St),ze=p(St,"INPUT",{type:!0,class:!0}),St.forEach(n),el=z(Tt),Xe=p(Tt,"DIV",{});var Ct=_(Xe);Ke=p(Ct,"P",{class:!0});var jl=_(Ke);tl=m(jl,"Z Objective"),jl.forEach(n),ll=z(Ct),Ze=p(Ct,"SPAN",{class:!0});var Dt=_(Ze);Te=p(Dt,"INPUT",{type:!0,class:!0}),sl=z(Dt),Se=p(Dt,"BUTTON",{type:!0,class:!0});var At=_(Se);Ce=Ft(At,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var Fl=_(Ce);We=Ft(Fl,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(We).forEach(n),Fl.forEach(n),al=z(At),nt=p(At,"SPAN",{});var Zl=_(nt);nl=m(Zl,"Autofocus"),Zl.forEach(n),At.forEach(n),Dt.forEach(n),Ct.forEach(n),Tt.forEach(n),ol=z(zt),be=p(zt,"DIV",{class:!0});var tt=_(be);$e=p(tt,"LABEL",{});var gl=_($e);qe=p(gl,"INPUT",{type:!0,class:!0}),rl=m(gl,`
          Z-Stack`),gl.forEach(n),il=z(tt),K=p(tt,"DIV",{class:!0,id:!0});var ve=_(K);De=p(ve,"SPAN",{class:!0});var ql=_(De);ul=m(ql,"Spacing"),ql.forEach(n),pl=z(ve),ne=p(ve,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),fl=z(ve),Ae=p(ve,"SPAN",{class:!0});var Hl=_(Ae);_l=m(Hl,"From"),Hl.forEach(n),dl=z(ve),oe=p(ve,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),cl=z(ve),Ve=p(ve,"SPAN",{class:!0});var Xl=_(Ve);vl=m(Xl,"To"),Xl.forEach(n),hl=z(ve),re=p(ve,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ve.forEach(n),ml=z(tt),ee&&ee.l(tt),tt.forEach(n),zt.forEach(n),Ot.forEach(n),C.forEach(n),this.h()},h(){a(o,"class","mt-1 text-lg svelte-1n65g8w"),a(r,"type","text"),a(r,"class","max-w-md mb-4 pretty"),a(s,"class","flex flex-col text-lg font-medium"),a(I,"class","svelte-1n65g8w"),a(y,"class","grid grid-cols-2"),Z(y,"opacity-70",e[6].block),a(E,"class","font-medium leading-10 "),a(B,"class","svelte-1n65g8w"),a($,"class","svelte-1n65g8w"),a(X,"class","svelte-1n65g8w"),a(ke,"class","svelte-1n65g8w"),a(g,"type","number"),a(g,"class","w-20 pr-2 pretty"),a(g,"step","0.01"),a(g,"min","0"),a(g,"max","0.99"),a(pe,"class","tabular-nums"),a(Oe,"class","tabular-nums"),a(me,"class","tabular-nums"),Z(me,"font-semibold",!e[7]),a(le,"class","flex flex-col justify-center font-normal"),a(de,"class","flex gap-8"),a(U,"class","-mt-1 space-y-4"),a(V,"class","flex flex-col gap-2"),a(Re,"class","svelte-1n65g8w"),a(Je,"class","svelte-1n65g8w"),a(ze,"type","number"),a(ze,"class","w-28 pretty"),a(Ke,"class","svelte-1n65g8w"),a(Te,"type","number"),a(Te,"class","w-28 pretty"),a(We,"fill-rule","evenodd"),a(We,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),a(We,"clip-rule","evenodd"),a(Ce,"xmlns","http://www.w3.org/2000/svg"),a(Ce,"class","w-5 h-5 mr-1"),a(Ce,"viewBox","0 0 20 20"),a(Ce,"fill","currentColor"),a(Se,"type","button"),a(Se,"class","px-4 py-1 font-medium text-gray-900 rounded-lg w-36 white-button"),a(Ze,"class","flex gap-2"),a(Fe,"class","flex space-x-8"),a(qe,"type","checkbox"),a(qe,"class","mr-1 rounded"),a(De,"class","flex items-center border-l rounded-l-lg color-group svelte-1n65g8w"),Z(De,"span-disabled",e[6].block||!e[7]),a(ne,"type","number"),a(ne,"min","1"),a(ne,"max","60000"),a(ne,"step","1"),a(ne,"class","z-10 h-10 text-center rounded-none pretty w-28"),ne.disabled=bt=e[6].block||!e[7],a(Ae,"class","flex items-center color-group svelte-1n65g8w"),Z(Ae,"span-disabled",e[6].block||!e[7]),a(oe,"type","number"),a(oe,"min","-100"),a(oe,"max","100"),a(oe,"step","1"),a(oe,"class","z-10 w-16 h-10 text-center rounded-none pretty"),oe.disabled=gt=e[6].block||!e[7],a(Ve,"class","flex items-center color-group svelte-1n65g8w"),Z(Ve,"span-disabled",e[6].block||!e[7]),a(re,"type","number"),a(re,"min","-100"),a(re,"max","100"),a(re,"step","1"),a(re,"class","z-10 w-16 h-10 text-center rounded-l-none rounded-r-lg pretty"),re.disabled=yt=e[6].block||!e[7],a(K,"class","flex font-medium"),a(K,"id","zBox"),a(be,"class","space-y-2"),a(je,"class","-mt-1 space-y-4"),a(Le,"class","flex flex-col gap-2"),a(l,"id","control"),a(l,"class","grid grid-cols-2 gap-y-6 gap-x-4")},m(c,C){j(c,l,C),t(l,s),t(s,o),t(o,f),t(s,b),t(s,r),W(r,e[0].name),t(s,d),x&&x.m(s,null),t(l,T),t(l,E),t(E,I),t(I,N),t(E,k),t(E,y),dt(A,y,null),t(y,P),dt(i,y,null),t(l,Q),t(l,V),t(V,B),t(B,H),t(V,F),t(V,U),t(U,L),t(L,$),t($,ae),t(L,ie),dt(q,L,null),t(U,w),t(U,D),t(D,X),t(X,te),t(D,ge),dt(Y,D,null),t(U,ye),t(U,de),t(de,he),t(he,ke),t(ke,Ue),t(he,ue),t(he,g),W(g,e[0].overlap),t(he,M),t(de,Pe),t(de,le),t(le,pe),t(pe,we),t(pe,Ie),t(pe,Ne),t(pe,Ht),t(le,Xt),t(le,Oe),t(Oe,vt),t(Oe,Wt),t(Oe,ht),t(Oe,Yt),t(le,Gt),t(le,me),t(me,mt),t(me,Qt),se&&se.m(me,null),t(l,Rt),t(l,Le),t(Le,Re),t(Re,Jt),t(Le,Kt),t(Le,je),t(je,Fe),t(Fe,He),t(He,Je),t(Je,$t),t(He,xt),t(He,ze),W(ze,e[0].z_tilt),t(Fe,el),t(Fe,Xe),t(Xe,Ke),t(Ke,tl),t(Xe,ll),t(Xe,Ze),t(Ze,Te),W(Te,e[8]),t(Ze,sl),t(Ze,Se),t(Se,Ce),t(Ce,We),t(Se,al),t(Se,nt),t(nt,nl),t(je,ol),t(je,be),t(be,$e),t($e,qe),qe.checked=e[7],t($e,rl),t(be,il),t(be,K),t(K,De),t(De,ul),t(K,pl),t(K,ne),W(ne,e[0].z_spacing),t(K,fl),t(K,Ae),t(Ae,_l),t(K,dl),t(K,oe),W(oe,e[0].z_from),t(K,cl),t(K,Ve),t(Ve,vl),t(K,hl),t(K,re),W(re,e[0].z_to),t(be,ml),ee&&ee.m(be,null),ce=!0,bl||(zl=[G(r,"input",e[13]),G(g,"input",e[21]),G(ze,"input",e[22]),G(Te,"input",e[23]),G(qe,"change",e[24]),El(Pl.call(null,De,"Nyquist is 232.")),G(ne,"input",e[25]),El(Pl.call(null,Ae,"Multiple of Spacing")),G(oe,"input",e[26]),El(Pl.call(null,Ve,"Multiple of Spacing")),G(re,"input",e[27])],bl=!0)},p(c,[C]){C&1&&r.value!==c[0].name&&W(r,c[0].name),c[1]?x?x.p(c,C):(x=Rl(c),x.c(),x.m(s,null)):x&&(x.d(1),x=null);const Me={};!v&&C&1&&(v=!0,Me.params=c[0],Ut(()=>v=!1)),A.$set(Me);const ot={};!S&&C&1&&(S=!0,ot.params=c[0],Ut(()=>S=!1)),i.$set(ot),C&64&&Z(y,"opacity-70",c[6].block);const Ye={};!R&&C&1&&(R=!0,Ye.xy=c[0].xy0,Ut(()=>R=!1)),q.$set(Ye);const rt={};!_e&&C&1&&(_e=!0,rt.xy=c[0].xy1,Ut(()=>_e=!1)),Y.$set(rt),C&1&&J(g.value)!==c[0].overlap&&W(g,c[0].overlap),(!ce||C&8)&&Ee!==(Ee=c[3].toFixed(2)+"")&&fe(we,Ee),(!ce||C&4)&&Be!==(Be=c[2].toFixed(2)+"")&&fe(Ne,Be),(!ce||C&16)&&fe(vt,c[4]),(!ce||C&32)&&fe(ht,c[5]),(!ce||C&512)&&at!==(at=st(c[9])+"")&&fe(mt,at),c[7]?se||(se=Jl(),se.c(),se.m(me,null)):se&&(se.d(1),se=null),C&128&&Z(me,"font-semibold",!c[7]),C&1&&J(ze.value)!==c[0].z_tilt&&W(ze,c[0].z_tilt),C&256&&J(Te.value)!==c[8]&&W(Te,c[8]),C&128&&(qe.checked=c[7]),C&192&&Z(De,"span-disabled",c[6].block||!c[7]),(!ce||C&192&&bt!==(bt=c[6].block||!c[7]))&&(ne.disabled=bt),C&1&&J(ne.value)!==c[0].z_spacing&&W(ne,c[0].z_spacing),C&192&&Z(Ae,"span-disabled",c[6].block||!c[7]),(!ce||C&192&&gt!==(gt=c[6].block||!c[7]))&&(oe.disabled=gt),C&1&&J(oe.value)!==c[0].z_from&&W(oe,c[0].z_from),C&192&&Z(Ve,"span-disabled",c[6].block||!c[7]),(!ce||C&192&&yt!==(yt=c[6].block||!c[7]))&&(re.disabled=yt),C&1&&J(re.value)!==c[0].z_to&&W(re,c[0].z_to),c[7]?ee?ee.p(c,C):(ee=Kl(c),ee.c(),ee.m(be,null)):ee&&(ee.d(1),ee=null)},i(c){ce||(Qe(A.$$.fragment,c),Qe(i.$$.fragment,c),Qe(q.$$.fragment,c),Qe(Y.$$.fragment,c),ce=!0)},o(c){Ge(A.$$.fragment,c),Ge(i.$$.fragment,c),Ge(q.$$.fragment,c),Ge(Y.$$.fragment,c),ce=!1},d(c){c&&n(l),x&&x.d(),ct(A),ct(i),ct(q),ct(Y),se&&se.d(),ee&&ee.d(),bl=!1,Ol(zl)}}}function Es(e,l){e&&(e.querySelectorAll("input").forEach(s=>s.disabled=l),e.querySelectorAll("select").forEach(s=>s.disabled=l),e.querySelectorAll("button").forEach(s=>s.disabled=l))}function st(e){const l=new Date(e*1e3).toISOString();return e>3600?`${l.substring(11,19)} hrs`:`${l.substring(14,19)} mins`}function ks(e,l,s){let o,f;Zt(e,Lt,w=>s(6,o=w)),Zt(e,kl,w=>s(11,f=w));let{showPath:b=!0}=l,{params:r}=l,d=0,T=0,E=0,I=0,N=!1,k=r.z_obj,y=0,A=1;function v(){Bt(Lt,o.image_params.xy0=r.xy0,o),Bt(Lt,o.image_params.xy1=r.xy1,o)}function P(){r.name=this.value,s(0,r)}function i(){r.path=this.value,s(0,r)}function S(w){r=w,s(0,r)}function Q(w){r=w,s(0,r)}function V(w){e.$$.not_equal(r.xy0,w)&&(r.xy0=w,s(0,r))}const B=()=>Bt(kl,f="move0",f);function H(w){e.$$.not_equal(r.xy1,w)&&(r.xy1=w,s(0,r))}const F=()=>Bt(kl,f="move1",f);function U(){r.overlap=J(this.value),s(0,r)}function L(){r.z_tilt=J(this.value),s(0,r)}function $(){k=J(this.value),s(8,k)}function ae(){N=this.checked,s(7,N)}function ie(){r.z_spacing=J(this.value),s(0,r)}function q(){r.z_from=J(this.value),s(0,r)}function R(){r.z_to=J(this.value),s(0,r)}return e.$$set=w=>{"showPath"in w&&s(1,b=w.showPath),"params"in w&&s(0,r=w.params)},e.$$.update=()=>{e.$$.dirty&64&&Es(document.getElementById("control"),o.block),e.$$.dirty&1&&s(2,d=Math.max(r.xy1[1],r.xy0[1])-Math.min(r.xy1[1],r.xy0[1])),e.$$.dirty&1&&s(3,T=Math.max(r.xy1[0],r.xy0[0])-Math.min(r.xy1[0],r.xy0[0])),e.$$.dirty&9&&s(4,E=Math.ceil(T/(.768*(1-r.overlap)))),e.$$.dirty&4&&s(5,I=Math.ceil(d/.048)),e.$$.dirty&48&&s(9,y=I*E/20),e.$$.dirty&1&&s(10,A=Math.abs(r.z_to-r.z_from)+1)},[r,b,d,T,E,I,o,N,k,y,A,f,v,P,i,S,Q,V,B,H,F,U,L,$,ae,ie,q,R]}class zs extends wl{constructor(l){super();Il(this,l,ks,ys,Nl,{showPath:1,params:0})}}export{zs as T,Pl as t};
