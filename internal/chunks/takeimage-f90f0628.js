import{S as rt,i as it,s as ut,e as _,c as d,a as m,d as o,b as a,a0 as al,g as L,V as G,n as hs,o as ie,p as vs,q as se,_ as bs,F as zs,I as Is,J as Ps,K as ws,w as Oe,x as Te,y as Se,M as Ns,B as Ce,t as k,h as E,k as N,O as nt,m as O,P as ot,U as A,H as s,a1 as q,Q as de,$ as J,W as ft,N as Ge,X as Ie,j as pe,T as et,Y as lt,Z as tt}from"./vendor-9417e0b8.js";import{r as Os}from"./preview.svelte_svelte_type_style_lang-df4526fd.js";import{s as st,u as nl,c as ol}from"./store-7e8ca866.js";import{S as Ts,c as We,t as at,a as Ss}from"./tooltip-d1460923.js";function Cs(e){let l,t;const r=e[7].default,v=zs(r,e,e[6],null),u=v||As();return{c(){l=_("div"),u&&u.c(),this.h()},l(f){l=d(f,"DIV",{class:!0});var n=m(l);u&&u.l(n),n.forEach(o),this.h()},h(){a(l,"class","mx-auto")},m(f,n){L(f,l,n),u&&u.m(l,null),t=!0},p(f,n){v&&v.p&&(!t||n&64)&&Is(v,r,f,f[6],t?ws(r,f[6],n,null):Ps(f[6]),null)},i(f){t||(se(u,f),t=!0)},o(f){ie(u,f),t=!1},d(f){f&&o(l),u&&u.d(f)}}}function Ds(e){let l,t,r;return t=new Ts({props:{color:"black"}}),{c(){l=_("div"),Oe(t.$$.fragment),this.h()},l(v){l=d(v,"DIV",{class:!0});var u=m(l);Te(t.$$.fragment,u),u.forEach(o),this.h()},h(){a(l,"class","mx-auto opacity-40")},m(v,u){L(v,l,u),Se(t,l,null),r=!0},p:Ns,i(v){r||(se(t.$$.fragment,v),r=!0)},o(v){ie(t.$$.fragment,v),r=!1},d(v){v&&o(l),Ce(t)}}}function As(e){let l;return{c(){l=k("Go")},l(t){l=E(t,"Go")},m(t,r){L(t,l,r)},d(t){t&&o(l)}}}function Vs(e){let l,t,r,v,u,f,n;const b=[Ds,Cs],h=[];function V(c,g){return c[1]?0:1}return t=V(e),r=h[t]=b[t](e),{c(){l=_("button"),r.c(),this.h()},l(c){l=d(c,"BUTTON",{type:!0,class:!0,tabindex:!0});var g=m(l);r.l(g),g.forEach(o),this.h()},h(){a(l,"type","button"),a(l,"class",v=al(`px-4 py-1 text-sm font-semibold rounded-lg white-button ${e[5][e[2]]} disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500 ${e[3]}`)+" svelte-1rnzpdo"),a(l,"tabindex","0"),l.disabled=e[0]},m(c,g){L(c,l,g),h[t].m(l,null),u=!0,f||(n=G(l,"click",e[8]),f=!0)},p(c,[g]){let I=t;t=V(c),t===I?h[t].p(c,g):(hs(),ie(h[I],1,1,()=>{h[I]=null}),vs(),r=h[t],r?r.p(c,g):(r=h[t]=b[t](c),r.c()),se(r,1),r.m(l,null)),(!u||g&12&&v!==(v=al(`px-4 py-1 text-sm font-semibold rounded-lg white-button ${c[5][c[2]]} disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500 ${c[3]}`)+" svelte-1rnzpdo"))&&a(l,"class",v),(!u||g&1)&&(l.disabled=c[0])},i(c){u||(se(r),u=!0)},o(c){ie(r),u=!1},d(c){c&&o(l),h[t].d(),f=!1,n()}}}function Ms(e,l,t){let{$$slots:r={},$$scope:v}=l,{disabled:u=!1}=l,{spin:f=!1}=l,{color:n="indigo"}=l,{cl:b=""}=l;const h=bs(),V={blue:"text-blue-800 border-blue-300 hover:bg-blue-100 active:bg-blue-200 bg-blue-50",indigo:"text-indigo-800 border-indigo-300 hover:bg-indigo-100 active:bg-indigo-200 bg-indigo-50",green:"text-green-800 border-green-300 hover:bg-green-100 active:bg-green-200 bg-green-50",sky:"text-sky-800 border-sky-300 hover:bg-sky-100 active:bg-sky-200 bg-sky-50"},c=()=>h("click");return e.$$set=g=>{"disabled"in g&&t(0,u=g.disabled),"spin"in g&&t(1,f=g.spin),"color"in g&&t(2,n=g.color),"cl"in g&&t(3,b=g.cl),"$$scope"in g&&t(6,v=g.$$scope)},[u,f,n,b,h,V,v,r,c]}class Cl extends rt{constructor(l){super();it(this,l,Ms,Vs,ut,{disabled:0,spin:1,color:2,cl:3})}}function Us(e){let l,t,r,v,u,f,n,b,h,V,c,g,I,B,P,D,i,y,w,F,H;return I=new Cl({props:{disabled:e[3]}}),I.$on("click",e[11]),{c(){l=_("div"),t=_("div"),r=_("span"),v=k("X"),u=N(),f=_("input"),n=N(),b=_("span"),h=k("Y"),V=N(),c=_("input"),g=N(),Oe(I.$$.fragment),B=N(),P=_("button"),D=nt("svg"),i=nt("path"),y=k(`
    Current`),this.h()},l(S){l=d(S,"DIV",{class:!0});var M=m(l);t=d(M,"DIV",{class:!0});var j=m(t);r=d(j,"SPAN",{class:!0});var Z=m(r);v=E(Z,"X"),Z.forEach(o),u=O(j),f=d(j,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),n=O(j),b=d(j,"SPAN",{class:!0});var X=m(b);h=E(X,"Y"),X.forEach(o),V=O(j),c=d(j,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),j.forEach(o),g=O(M),Te(I.$$.fragment,M),B=O(M),P=d(M,"BUTTON",{type:!0,class:!0});var K=m(P);D=ot(K,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var T=m(D);i=ot(T,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(i).forEach(o),T.forEach(o),y=E(K,`
    Current`),K.forEach(o),M.forEach(o),this.h()},h(){a(r,"class","flex items-center border-l rounded-l-lg color-group svelte-awp8a4"),A(r,"span-disabled",e[2].block),a(f,"type","number"),a(f,"min","-5"),a(f,"max","30"),a(f,"step","0.01"),a(f,"class","z-10 h-10 text-center rounded-none pretty w-28"),f.disabled=e[3],a(b,"class","flex items-center color-group svelte-awp8a4"),A(b,"span-disabled",e[2].block),a(c,"type","number"),a(c,"min","-5"),a(c,"max","80"),a(c,"step","0.01"),a(c,"class","z-10 h-10 text-center rounded-l-none rounded-r-lg pretty w-28"),c.disabled=e[3],a(t,"class","flex font-medium"),a(i,"stroke-linecap","round"),a(i,"stroke-linejoin","round"),a(i,"stroke-width","2"),a(i,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),a(D,"xmlns","http://www.w3.org/2000/svg"),a(D,"class","w-5 h-5 mr-1"),a(D,"fill","none"),a(D,"viewBox","0 0 24 24"),a(D,"stroke","currentColor"),a(P,"type","button"),a(P,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),P.disabled=e[3],a(l,"class","flex gap-x-2")},m(S,M){L(S,l,M),s(l,t),s(t,r),s(r,v),s(t,u),s(t,f),q(f,e[0][0]),s(t,n),s(t,b),s(b,h),s(t,V),s(t,c),q(c,e[0][1]),s(l,g),Se(I,l,null),s(l,B),s(l,P),s(P,D),s(D,i),s(P,y),w=!0,F||(H=[G(f,"input",e[7]),G(f,"change",e[8]),de(We.call(null,f,[-5,30])),G(c,"input",e[9]),G(c,"change",e[10]),de(We.call(null,c,[-5,80])),G(P,"click",e[6])],F=!0)},p(S,[M]){M&4&&A(r,"span-disabled",S[2].block),(!w||M&8)&&(f.disabled=S[3]),M&1&&J(f.value)!==S[0][0]&&q(f,S[0][0]),M&4&&A(b,"span-disabled",S[2].block),(!w||M&8)&&(c.disabled=S[3]),M&1&&J(c.value)!==S[0][1]&&q(c,S[0][1]);const j={};M&8&&(j.disabled=S[3]),I.$set(j),(!w||M&8)&&(P.disabled=S[3])},i(S){w||(se(I.$$.fragment,S),w=!0)},o(S){ie(I.$$.fragment,S),w=!1},d(S){S&&o(l),Ce(I),F=!1,ft(H)}}}function Bs(e,l,t){let r,v,u,f;Ge(e,st,i=>t(2,r=i)),Ge(e,st,i=>t(12,v=i)),Ge(e,nl,i=>t(13,u=i)),Ge(e,ol,i=>t(4,f=i));const n=bs();let{i:b}=l,{xy:h=[-1,-1]}=l;function V(){const{x:i,y}=Os(u.image_params.fc,v.x,v.y);t(0,h[0]=Math.round((i+Number.EPSILON)*100)/100,h),t(0,h[1]=Math.round((y+Number.EPSILON)*100)/100,h)}let c=!1;function g(){h[0]=J(this.value),t(0,h)}const I=()=>n("change");function B(){h[1]=J(this.value),t(0,h)}const P=()=>n("change"),D=()=>{Ie(st,r.block="moving",r),Ie(ol,f={move:b===0?{xy0:h}:{xy1:h}},f)};return e.$$set=i=>{"i"in i&&t(1,b=i.i),"xy"in i&&t(0,h=i.xy)},e.$$.update=()=>{e.$$.dirty&4&&t(3,c=Boolean(r.block))},[h,b,r,c,f,n,V,g,I,B,P,D]}class us extends rt{constructor(l){super();it(this,l,Bs,Us,ut,{i:1,xy:0})}}function js(e){let l;return{c(){l=k("Set")},l(t){l=E(t,"Set")},m(t,r){L(t,l,r)},d(t){t&&o(l)}}}function Ls(e){let l,t,r,v,u,f,n,b,h,V,c,g,I,B,P,D;return{c(){l=_("option"),t=k("Open"),r=_("option"),v=k("0.2"),u=_("option"),f=k("0.5"),n=_("option"),b=k("0.6"),h=_("option"),V=k("1.0"),c=_("option"),g=k("2.4"),I=_("option"),B=k("4.0"),P=_("option"),D=k("Closed"),this.h()},l(i){l=d(i,"OPTION",{});var y=m(l);t=E(y,"Open"),y.forEach(o),r=d(i,"OPTION",{});var w=m(r);v=E(w,"0.2"),w.forEach(o),u=d(i,"OPTION",{});var F=m(u);f=E(F,"0.5"),F.forEach(o),n=d(i,"OPTION",{});var H=m(n);b=E(H,"0.6"),H.forEach(o),h=d(i,"OPTION",{});var S=m(h);V=E(S,"1.0"),S.forEach(o),c=d(i,"OPTION",{});var M=m(c);g=E(M,"2.4"),M.forEach(o),I=d(i,"OPTION",{});var j=m(I);B=E(j,"4.0"),j.forEach(o),P=d(i,"OPTION",{});var Z=m(P);D=E(Z,"Closed"),Z.forEach(o),this.h()},h(){l.__value="Open",l.value=l.__value,r.__value="0.2",r.value=r.__value,u.__value="0.5",u.value=u.__value,n.__value="0.6",n.value=n.__value,h.__value="1.0",h.value=h.__value,c.__value="2.4",c.value=c.__value,I.__value="4.0",I.value=I.__value,P.__value="Closed",P.value=P.__value},m(i,y){L(i,l,y),s(l,t),L(i,r,y),s(r,v),L(i,u,y),s(u,f),L(i,n,y),s(n,b),L(i,h,y),s(h,V),L(i,c,y),s(c,g),L(i,I,y),s(I,B),L(i,P,y),s(P,D)},d(i){i&&o(l),i&&o(r),i&&o(u),i&&o(n),i&&o(h),i&&o(c),i&&o(I),i&&o(P)}}}function Fs(e){let l,t,r,v,u,f,n,b,h,V,c,g,I,B,P,D;return{c(){l=_("option"),t=k("Open"),r=_("option"),v=k("1.0"),u=_("option"),f=k("2.0"),n=_("option"),b=k("3.5"),h=_("option"),V=k("3.8"),c=_("option"),g=k("4.0"),I=_("option"),B=k("4.5"),P=_("option"),D=k("Closed"),this.h()},l(i){l=d(i,"OPTION",{});var y=m(l);t=E(y,"Open"),y.forEach(o),r=d(i,"OPTION",{});var w=m(r);v=E(w,"1.0"),w.forEach(o),u=d(i,"OPTION",{});var F=m(u);f=E(F,"2.0"),F.forEach(o),n=d(i,"OPTION",{});var H=m(n);b=E(H,"3.5"),H.forEach(o),h=d(i,"OPTION",{});var S=m(h);V=E(S,"3.8"),S.forEach(o),c=d(i,"OPTION",{});var M=m(c);g=E(M,"4.0"),M.forEach(o),I=d(i,"OPTION",{});var j=m(I);B=E(j,"4.5"),j.forEach(o),P=d(i,"OPTION",{});var Z=m(P);D=E(Z,"Closed"),Z.forEach(o),this.h()},h(){l.__value="Open",l.value=l.__value,r.__value="1.0",r.value=r.__value,u.__value="2.0",u.value=u.__value,n.__value="3.5",n.value=n.__value,h.__value="3.8",h.value=h.__value,c.__value="4.0",c.value=c.__value,I.__value="4.5",I.value=I.__value,P.__value="Closed",P.value=P.__value},m(i,y){L(i,l,y),s(l,t),L(i,r,y),s(r,v),L(i,u,y),s(u,f),L(i,n,y),s(n,b),L(i,h,y),s(h,V),L(i,c,y),s(c,g),L(i,I,y),s(I,B),L(i,P,y),s(P,D)},d(i){i&&o(l),i&&o(r),i&&o(u),i&&o(n),i&&o(h),i&&o(c),i&&o(I),i&&o(P)}}}function Zs(e){let l,t,r,v,u,f,n,b=(Boolean(e[1])?660:532)+"",h,V,c,g,I,B,P,D,i,y,w,F,H=2*e[1]+"",S,M,j,Z,X,K,T=2*e[1]+1+"",Pe,ye,W,rl,ce,ke,ae,il,De=(Number(e[0].od[e[1]]!=-1)*e[0].lasers[e[1]]*Math.pow(10,-e[0].od[e[1]])).toFixed(4)+"",ne,ul,ee,me,Ee;P=new Cl({props:{$$slots:{default:[js]},$$scope:{ctx:e}}}),P.$on("click",e[7]);function Ae(z,U){return z[1]==0?Fs:Ls}let Ye=Ae(e),ue=Ye(e);return{c(){l=_("p"),t=_("span"),r=_("label"),v=_("input"),f=N(),n=_("div"),h=k(b),V=k(" nm"),c=N(),g=_("input"),B=k(`
    mW
    `),Oe(P.$$.fragment),D=N(),i=_("label"),y=_("input"),F=k(`
    Channel `),S=k(H),M=N(),j=_("label"),Z=_("input"),K=k(`
    Channel `),Pe=k(T),ye=N(),W=_("span"),rl=k(`Filter OD
    `),ce=_("select"),ue.c(),ke=N(),ae=_("p"),il=k("Effective: "),ne=k(De),ul=k(" mW"),this.h()},l(z){l=d(z,"P",{class:!0});var U=m(l);t=d(U,"SPAN",{class:!0});var fe=m(t);r=d(fe,"LABEL",{});var oe=m(r);v=d(oe,"INPUT",{type:!0,class:!0}),f=O(oe),n=d(oe,"DIV",{class:!0});var _e=m(n);h=E(_e,b),V=E(_e," nm"),_e.forEach(o),oe.forEach(o),c=O(fe),g=d(fe,"INPUT",{type:!0,class:!0,min:!0,max:!0}),B=E(fe,`
    mW
    `),Te(P.$$.fragment,fe),fe.forEach(o),D=O(U),i=d(U,"LABEL",{class:!0});var we=m(i);y=d(we,"INPUT",{type:!0,class:!0}),F=E(we,`
    Channel `),S=E(we,H),we.forEach(o),M=O(U),j=d(U,"LABEL",{class:!0});var Ve=m(j);Z=d(Ve,"INPUT",{type:!0,class:!0}),K=E(Ve,`
    Channel `),Pe=E(Ve,T),Ve.forEach(o),ye=O(U),W=d(U,"SPAN",{class:!0});var Me=m(W);rl=E(Me,`Filter OD
    `),ce=d(Me,"SELECT",{class:!0});var Je=m(ce);ue.l(Je),Je.forEach(o),ke=O(Me),ae=d(Me,"P",{class:!0});var Ue=m(ae);il=E(Ue,"Effective: "),ne=E(Ue,De),ul=E(Ue," mW"),Ue.forEach(o),Me.forEach(o),U.forEach(o),this.h()},h(){a(v,"type","checkbox"),a(v,"class",u=al(`rounded mr-1 ${e[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"),a(n,"class","inline font-semibold"),A(n,"text-green-800",e[0].laser_onoff[e[1]]&&!e[1]),A(n,"text-red-800",e[0].laser_onoff[e[1]]&&e[1]),a(g,"type","number"),a(g,"class","w-20 h-8 pretty"),a(g,"min","0"),a(g,"max","500"),g.disabled=I=!e[0].laser_onoff[e[1]],A(g,"pretty-disabled",!e[0].laser_onoff[0]),a(t,"class","flex items-center gap-x-2"),A(t,"text-gray-400",!e[0].laser_onoff[e[1]]),a(y,"type","checkbox"),a(y,"class",w=al(`mr-1 rounded ${e[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"),a(i,"class","rounded-lg channel ring-red-500 svelte-6ipz4o"),A(i,"text-gray-400",!e[0].channels[2*e[1]]),a(Z,"type","checkbox"),a(Z,"class",X=al(`mr-1 rounded ${e[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"),a(j,"class","channel svelte-6ipz4o"),A(j,"text-gray-400",!e[0].channels[2*e[1]+1]),a(ce,"class","py-1 text-sm border-gray-400 rounded-lg disabled:border-gray-300"),a(ae,"class","ml-3 text-sm font-medium"),a(W,"class","ml-8 font-normal opacity-85"),a(l,"class","flex flex-col")},m(z,U){L(z,l,U),s(l,t),s(t,r),s(r,v),v.checked=e[0].laser_onoff[e[1]],s(r,f),s(r,n),s(n,h),s(n,V),s(t,c),s(t,g),q(g,e[0].lasers[e[1]]),s(t,B),Se(P,t,null),s(l,D),s(l,i),s(i,y),y.checked=e[0].channels[2*e[1]],s(i,F),s(i,S),s(l,M),s(l,j),s(j,Z),Z.checked=e[0].channels[2*e[1]+1],s(j,K),s(j,Pe),s(l,ye),s(l,W),s(W,rl),s(W,ce),ue.m(ce,null),s(W,ke),s(W,ae),s(ae,il),s(ae,ne),s(ae,ul),ee=!0,me||(Ee=[G(v,"change",e[5]),G(g,"input",e[6]),de(We.call(null,g,[0,500])),G(y,"change",e[8]),G(Z,"change",e[9]),G(ce,"change",e[4])],me=!0)},p(z,[U]){(!ee||U&2&&u!==(u=al(`rounded mr-1 ${z[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"))&&a(v,"class",u),U&3&&(v.checked=z[0].laser_onoff[z[1]]),(!ee||U&2)&&b!==(b=(Boolean(z[1])?660:532)+"")&&pe(h,b),U&3&&A(n,"text-green-800",z[0].laser_onoff[z[1]]&&!z[1]),U&3&&A(n,"text-red-800",z[0].laser_onoff[z[1]]&&z[1]),(!ee||U&3&&I!==(I=!z[0].laser_onoff[z[1]]))&&(g.disabled=I),U&3&&J(g.value)!==z[0].lasers[z[1]]&&q(g,z[0].lasers[z[1]]),U&1&&A(g,"pretty-disabled",!z[0].laser_onoff[0]);const fe={};U&1024&&(fe.$$scope={dirty:U,ctx:z}),P.$set(fe),U&3&&A(t,"text-gray-400",!z[0].laser_onoff[z[1]]),(!ee||U&2&&w!==(w=al(`mr-1 rounded ${z[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"))&&a(y,"class",w),U&3&&(y.checked=z[0].channels[2*z[1]]),(!ee||U&2)&&H!==(H=2*z[1]+"")&&pe(S,H),U&3&&A(i,"text-gray-400",!z[0].channels[2*z[1]]),(!ee||U&2&&X!==(X=al(`mr-1 rounded ${z[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"))&&a(Z,"class",X),U&3&&(Z.checked=z[0].channels[2*z[1]+1]),(!ee||U&2)&&T!==(T=2*z[1]+1+"")&&pe(Pe,T),U&3&&A(j,"text-gray-400",!z[0].channels[2*z[1]+1]),Ye!==(Ye=Ae(z))&&(ue.d(1),ue=Ye(z),ue&&(ue.c(),ue.m(ce,null))),(!ee||U&3)&&De!==(De=(Number(z[0].od[z[1]]!=-1)*z[0].lasers[z[1]]*Math.pow(10,-z[0].od[z[1]])).toFixed(4)+"")&&pe(ne,De)},i(z){ee||(se(P.$$.fragment,z),ee=!0)},o(z){ie(P.$$.fragment,z),ee=!1},d(z){z&&o(l),Ce(P),ue.d(),me=!1,ft(Ee)}}}function qs(e,l,t){let r,v;Ge(e,ol,I=>t(2,r=I)),Ge(e,nl,I=>t(3,v=I));let{params:u}=l,{i:f}=l;function n(I){let B;switch(I.currentTarget.value){case"Open":B=0;break;case"Closed":B=-1;break;default:B=Number(I.currentTarget.value)}t(0,u.od[f]=B,u),Ie(nl,v.image_params.od[f]=u.od[f],v),Ie(ol,r={move:{od:f===0?[u.od[f],void 0]:[void 0,u.od[f]]}},r)}function b(){u.laser_onoff[f]=this.checked,t(0,u)}function h(){u.lasers[f]=J(this.value),t(0,u)}const V=()=>{Ie(nl,v.image_params.laser_onoff[f]=u.laser_onoff[f],v),Ie(nl,v.image_params.lasers[f]=u.lasers[f],v),Ie(ol,r={move:{lasers:f===0?[u.lasers[f],void 0]:[void 0,u.lasers[f]],laser_onoff:f===0?[u.laser_onoff[f],void 0]:[void 0,u.laser_onoff[f]]}},r)};function c(){u.channels[2*f]=this.checked,t(0,u)}function g(){u.channels[2*f+1]=this.checked,t(0,u)}return e.$$set=I=>{"params"in I&&t(0,u=I.params),"i"in I&&t(1,f=I.i)},[u,f,r,v,n,b,h,V,c,g]}class fs extends rt{constructor(l){super();it(this,l,qs,Zs,ut,{params:0,i:1})}}function _s(e){let l,t;return l=new Cl({props:{color:"sky",cl:"text-lg font-semibold shadow-md shadow-sky-700/10 h-12",$$slots:{default:[Hs]},$$scope:{ctx:e}}}),{c(){Oe(l.$$.fragment)},l(r){Te(l.$$.fragment,r)},m(r,v){Se(l,r,v),t=!0},i(r){t||(se(l.$$.fragment,r),t=!0)},o(r){ie(l.$$.fragment,r),t=!1},d(r){Ce(l,r)}}}function Hs(e){let l;return{c(){l=k("Preview")},l(t){l=E(t,"Preview")},m(t,r){L(t,l,r)},d(t){t&&o(l)}}}function ds(e){let l,t,r,v,u,f,n;return{c(){l=_("p"),t=k("Image Path"),v=N(),u=_("input"),this.h()},l(b){l=d(b,"P",{class:!0});var h=m(l);t=E(h,"Image Path"),h.forEach(o),v=O(b),u=d(b,"INPUT",{type:!0,class:!0}),this.h()},h(){a(l,"class","text-lg svelte-1m4l8fo"),a(u,"type","text"),a(u,"class","max-w-md mb-4 pretty"),A(u,"invalid",!e[0].path)},m(b,h){L(b,l,h),s(l,t),L(b,v,h),L(b,u,h),q(u,e[0].path),f||(n=[de(r=at.call(null,l,path)),G(u,"input",e[10])],f=!0)},p(b,h){h&1&&u.value!==b[0].path&&q(u,b[0].path),h&1&&A(u,"invalid",!b[0].path)},d(b){b&&o(l),b&&o(v),b&&o(u),f=!1,ft(n)}}}function ps(e){let l;return{c(){l=k("per z-stack.")},l(t){l=E(t,"per z-stack.")},m(t,r){L(t,l,r)},d(t){t&&o(l)}}}function cs(e){let l,t=e[1].n_z+"",r,v,u,f=e[0].z_obj+e[0].z_from*e[0].z_spacing+"",n,b,h=e[0].z_obj+e[0].z_to*e[0].z_spacing+"",V,c,g,I,B=(e[1].n_z?El(e[1].n_z*e[1].time):El(e[1].time))+"",P,D,i=e[1].n_z>1&&ms();return{c(){l=_("div"),r=k(t),v=k(" Z step"),i&&i.c(),u=k(" from "),n=k(f),b=k(" to "),V=k(h),c=N(),g=_("div"),I=k("Total time: "),P=k(B),D=k("."),this.h()},l(y){l=d(y,"DIV",{class:!0});var w=m(l);r=E(w,t),v=E(w," Z step"),i&&i.l(w),u=E(w," from "),n=E(w,f),b=E(w," to "),V=E(w,h),w.forEach(o),c=O(y),g=d(y,"DIV",{class:!0});var F=m(g);I=E(F,"Total time: "),P=E(F,B),D=E(F,"."),F.forEach(o),this.h()},h(){a(l,"class","px-2 font-base"),a(g,"class","px-2 font-semibold")},m(y,w){L(y,l,w),s(l,r),s(l,v),i&&i.m(l,null),s(l,u),s(l,n),s(l,b),s(l,V),L(y,c,w),L(y,g,w),s(g,I),s(g,P),s(g,D)},p(y,w){w&2&&t!==(t=y[1].n_z+"")&&pe(r,t),y[1].n_z>1?i||(i=ms(),i.c(),i.m(l,u)):i&&(i.d(1),i=null),w&1&&f!==(f=y[0].z_obj+y[0].z_from*y[0].z_spacing+"")&&pe(n,f),w&1&&h!==(h=y[0].z_obj+y[0].z_to*y[0].z_spacing+"")&&pe(V,h),w&2&&B!==(B=(y[1].n_z?El(y[1].n_z*y[1].time):El(y[1].time))+"")&&pe(P,B)},d(y){y&&o(l),i&&i.d(),y&&o(c),y&&o(g)}}}function ms(e){let l;return{c(){l=k("s")},l(t){l=E(t,"s")},m(t,r){L(t,l,r)},d(t){t&&o(l)}}}function Xs(e){let l,t,r,v,u,f,n,b,h,V,c,g,I,B,P,D,i,y,w,F,H,S,M,j,Z,X,K,T,Pe,ye,W,rl,ce,ke,ae,il,De,ne,ul,ee,me,Ee,Ae,Ye,ue,z,U,fe,oe,_e,we=e[1].width.toFixed(2)+"",Ve,Me,Je=e[1].height.toFixed(2)+"",Ue,_t,dt,Be,zl=e[1].n_cols+"",Dl,pt,Il=e[1].n_bundles+"",Al,ct,mt,ze,Pl=El(e[1].time)+"",Vl,ht,vt,Ke,ml,bt,gt,Qe,Re,fl,hl,yt,kt,$e,he,Et,xe,zt,_l,vl,It,Pt,Ne,ve,wt,el,Nt,je,Le,dl,Ot,wl,Tt,St,ll,tl,sl,Ct,Fe,bl,Dt,At,Vt,Q,Ze,Mt,Ut,R,Ml,Bt,qe,jt,Lt,$,Ul,Ft,He,Zt,qt,x,Bl,be,Ht,Xt,Y=e[3]&&_s(e),le=!e[3]&&ds(e);function gs(p){e[11](p)}let Wt={i:0};e[0]!==void 0&&(Wt.params=e[0]),D=new fs({props:Wt}),et.push(()=>lt(D,"params",gs));function ys(p){e[12](p)}let Gt={i:1};e[0]!==void 0&&(Gt.params=e[0]),w=new fs({props:Gt}),et.push(()=>lt(w,"params",ys));function ks(p){e[13](p)}let Yt={i:0};e[0].xy0!==void 0&&(Yt.xy=e[0].xy0),W=new us({props:Yt}),et.push(()=>lt(W,"xy",ks)),W.$on("change",e[6]);function Es(p){e[14](p)}let Jt={i:1};e[0].xy1!==void 0&&(Jt.xy=e[0].xy1),ne=new us({props:Jt}),et.push(()=>lt(ne,"xy",Es)),ne.$on("change",e[6]);let re=e[2]&&ps();xe=new Cl({}),xe.$on("click",e[17]),el=new Cl({}),el.$on("click",e[19]);let te=e[2]&&cs(e);return{c(){l=_("div"),t=_("section"),r=_("p"),v=k("Name"),u=N(),f=_("div"),n=_("input"),b=N(),Y&&Y.c(),h=N(),le&&le.c(),V=N(),c=_("section"),g=_("h2"),I=k("Laser and Channels"),B=N(),P=_("div"),Oe(D.$$.fragment),y=N(),Oe(w.$$.fragment),H=N(),S=_("section"),M=_("h2"),j=k("Positions"),Z=N(),X=_("div"),K=_("div"),T=_("p"),Pe=k("\u{1F4CC} Corner 1"),ye=N(),Oe(W.$$.fragment),ce=N(),ke=_("div"),ae=_("p"),il=k("\u{1F4CD} Corner 2"),De=N(),Oe(ne.$$.fragment),ee=N(),me=_("div"),Ee=_("div"),Ae=_("p"),Ye=k("X-Overlap"),ue=N(),z=_("input"),U=k(`
          (0-1)`),fe=N(),oe=_("div"),_e=_("span"),Ve=k(we),Me=k(" \xD7 "),Ue=k(Je),_t=k(" mm."),dt=N(),Be=_("span"),Dl=k(zl),pt=k(" columns of "),Al=k(Il),ct=k(" bundles."),mt=N(),ze=_("span"),Vl=k(Pl),ht=N(),re&&re.c(),vt=N(),Ke=_("section"),ml=_("h2"),bt=k("Focus"),gt=N(),Qe=_("div"),Re=_("div"),fl=_("div"),hl=_("p"),yt=k("Z Tilt"),kt=N(),$e=_("div"),he=_("input"),Et=N(),Oe(xe.$$.fragment),zt=N(),_l=_("div"),vl=_("p"),It=k("Z Objective"),Pt=N(),Ne=_("span"),ve=_("input"),wt=N(),Oe(el.$$.fragment),Nt=N(),je=_("button"),Le=nt("svg"),dl=nt("path"),Ot=N(),wl=_("span"),Tt=k("Autofocus"),St=N(),ll=_("div"),tl=_("label"),sl=_("input"),Ct=N(),Fe=_("div"),bl=_("div"),Dt=k("Z-Stack"),At=N(),te&&te.c(),Vt=N(),Q=_("div"),Ze=_("span"),Mt=k("Spacing"),Ut=N(),R=_("input"),Bt=N(),qe=_("span"),jt=k("From"),Lt=N(),$=_("input"),Ft=N(),He=_("span"),Zt=k("To"),qt=N(),x=_("input"),this.h()},l(p){l=d(p,"DIV",{id:!0,class:!0});var C=m(l);t=d(C,"SECTION",{class:!0});var Xe=m(t);r=d(Xe,"P",{class:!0});var Nl=m(r);v=E(Nl,"Name"),Nl.forEach(o),u=O(Xe),f=d(Xe,"DIV",{class:!0});var pl=m(f);n=d(pl,"INPUT",{type:!0,class:!0}),b=O(pl),Y&&Y.l(pl),pl.forEach(o),h=O(Xe),le&&le.l(Xe),Xe.forEach(o),V=O(C),c=d(C,"SECTION",{class:!0});var cl=m(c);g=d(cl,"H2",{class:!0});var Kt=m(g);I=E(Kt,"Laser and Channels"),Kt.forEach(o),B=O(cl),P=d(cl,"DIV",{class:!0});var jl=m(P);Te(D.$$.fragment,jl),y=O(jl),Te(w.$$.fragment,jl),jl.forEach(o),cl.forEach(o),H=O(C),S=d(C,"SECTION",{class:!0});var Ll=m(S);M=d(Ll,"H2",{class:!0});var Qt=m(M);j=E(Qt,"Positions"),Qt.forEach(o),Z=O(Ll),X=d(Ll,"DIV",{class:!0});var gl=m(X);K=d(gl,"DIV",{});var Fl=m(K);T=d(Fl,"P",{class:!0});var Rt=m(T);Pe=E(Rt,"\u{1F4CC} Corner 1"),Rt.forEach(o),ye=O(Fl),Te(W.$$.fragment,Fl),Fl.forEach(o),ce=O(gl),ke=d(gl,"DIV",{});var Zl=m(ke);ae=d(Zl,"P",{class:!0});var $t=m(ae);il=E($t,"\u{1F4CD} Corner 2"),$t.forEach(o),De=O(Zl),Te(ne.$$.fragment,Zl),Zl.forEach(o),ee=O(gl),me=d(gl,"DIV",{class:!0});var ql=m(me);Ee=d(ql,"DIV",{});var Ol=m(Ee);Ae=d(Ol,"P",{class:!0});var xt=m(Ae);Ye=E(xt,"X-Overlap"),xt.forEach(o),ue=O(Ol),z=d(Ol,"INPUT",{type:!0,class:!0,step:!0,min:!0,max:!0}),U=E(Ol,`
          (0-1)`),Ol.forEach(o),fe=O(ql),oe=d(ql,"DIV",{class:!0});var yl=m(oe);_e=d(yl,"SPAN",{class:!0});var Tl=m(_e);Ve=E(Tl,we),Me=E(Tl," \xD7 "),Ue=E(Tl,Je),_t=E(Tl," mm."),Tl.forEach(o),dt=O(yl),Be=d(yl,"SPAN",{class:!0});var Sl=m(Be);Dl=E(Sl,zl),pt=E(Sl," columns of "),Al=E(Sl,Il),ct=E(Sl," bundles."),Sl.forEach(o),mt=O(yl),ze=d(yl,"SPAN",{class:!0});var Hl=m(ze);Vl=E(Hl,Pl),ht=O(Hl),re&&re.l(Hl),Hl.forEach(o),yl.forEach(o),ql.forEach(o),gl.forEach(o),Ll.forEach(o),vt=O(C),Ke=d(C,"SECTION",{class:!0});var Xl=m(Ke);ml=d(Xl,"H2",{class:!0});var es=m(ml);bt=E(es,"Focus"),es.forEach(o),gt=O(Xl),Qe=d(Xl,"DIV",{class:!0});var Wl=m(Qe);Re=d(Wl,"DIV",{class:!0});var Gl=m(Re);fl=d(Gl,"DIV",{});var Yl=m(fl);hl=d(Yl,"P",{class:!0});var ls=m(hl);yt=E(ls,"Z Tilt"),ls.forEach(o),kt=O(Yl),$e=d(Yl,"DIV",{class:!0});var Jl=m($e);he=d(Jl,"INPUT",{type:!0,class:!0,min:!0,max:!0}),Et=O(Jl),Te(xe.$$.fragment,Jl),Jl.forEach(o),Yl.forEach(o),zt=O(Gl),_l=d(Gl,"DIV",{});var Kl=m(_l);vl=d(Kl,"P",{class:!0});var ts=m(vl);It=E(ts,"Z Objective"),ts.forEach(o),Pt=O(Kl),Ne=d(Kl,"SPAN",{class:!0});var kl=m(Ne);ve=d(kl,"INPUT",{type:!0,class:!0,min:!0,max:!0}),wt=O(kl),Te(el.$$.fragment,kl),Nt=O(kl),je=d(kl,"BUTTON",{type:!0,class:!0});var Ql=m(je);Le=ot(Ql,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var ss=m(Le);dl=ot(ss,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(dl).forEach(o),ss.forEach(o),Ot=O(Ql),wl=d(Ql,"SPAN",{});var as=m(wl);Tt=E(as,"Autofocus"),as.forEach(o),Ql.forEach(o),kl.forEach(o),Kl.forEach(o),Gl.forEach(o),St=O(Wl),ll=d(Wl,"DIV",{class:!0});var Rl=m(ll);tl=d(Rl,"LABEL",{class:!0});var $l=m(tl);sl=d($l,"INPUT",{type:!0,class:!0}),Ct=O($l),Fe=d($l,"DIV",{class:!0});var xl=m(Fe);bl=d(xl,"DIV",{class:!0});var ns=m(bl);Dt=E(ns,"Z-Stack"),ns.forEach(o),At=O(xl),te&&te.l(xl),xl.forEach(o),$l.forEach(o),Vt=O(Rl),Q=d(Rl,"DIV",{class:!0,id:!0});var ge=m(Q);Ze=d(ge,"SPAN",{class:!0});var os=m(Ze);Mt=E(os,"Spacing"),os.forEach(o),Ut=O(ge),R=d(ge,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Bt=O(ge),qe=d(ge,"SPAN",{class:!0});var rs=m(qe);jt=E(rs,"From"),rs.forEach(o),Lt=O(ge),$=d(ge,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Ft=O(ge),He=d(ge,"SPAN",{class:!0});var is=m(He);Zt=E(is,"To"),is.forEach(o),qt=O(ge),x=d(ge,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ge.forEach(o),Rl.forEach(o),Wl.forEach(o),Xl.forEach(o),C.forEach(o),this.h()},h(){a(r,"class","mt-1 text-lg svelte-1m4l8fo"),a(n,"type","text"),a(n,"class","flex-grow mb-4 pretty text-lg h-12"),A(n,"invalid",e[7](e[0].name)),a(f,"class","flex w-full max-w-md gap-x-2"),a(t,"class","flex flex-col text-lg font-medium"),a(g,"class","svelte-1m4l8fo"),a(P,"class","grid grid-cols-2"),A(P,"opacity-70",e[4].block),a(c,"class","font-medium leading-10 "),a(M,"class","svelte-1m4l8fo"),a(T,"class","svelte-1m4l8fo"),a(ae,"class","svelte-1m4l8fo"),a(Ae,"class","svelte-1m4l8fo"),a(z,"type","number"),a(z,"class","w-20 pr-2 pretty"),a(z,"step","0.01"),a(z,"min","0"),a(z,"max","0.99"),a(_e,"class","tabular-nums"),a(Be,"class","tabular-nums"),a(ze,"class","tabular-nums"),A(ze,"font-semibold",!e[2]),a(oe,"class","flex flex-col justify-center font-normal"),a(me,"class","flex gap-8"),a(X,"class","-mt-1 space-y-4"),a(S,"class","flex flex-col gap-2"),A(S,"-mt-20",e[3]),a(ml,"class","svelte-1m4l8fo"),a(hl,"class","svelte-1m4l8fo"),a(he,"type","number"),a(he,"class","w-28 pretty"),a(he,"min","0"),a(he,"max","25000"),a($e,"class","flex gap-2"),a(vl,"class","svelte-1m4l8fo"),a(ve,"type","number"),a(ve,"class","w-28 pretty"),a(ve,"min","0"),a(ve,"max","60000"),a(dl,"fill-rule","evenodd"),a(dl,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),a(dl,"clip-rule","evenodd"),a(Le,"xmlns","http://www.w3.org/2000/svg"),a(Le,"class","w-5 h-5 mr-1"),a(Le,"viewBox","0 0 20 20"),a(Le,"fill","currentColor"),a(je,"type","button"),a(je,"class","px-4 py-1 font-medium text-gray-900 rounded-lg w-36 white-button"),a(Ne,"class","flex gap-2"),a(Re,"class","flex space-x-8"),a(sl,"type","checkbox"),a(sl,"class","mr-1 rounded"),a(bl,"class","pr-2"),a(Fe,"class","flex divide-x-2"),a(tl,"class","flex items-center gap-x-1"),a(Ze,"class","flex items-center border-l rounded-l-lg color-group svelte-1m4l8fo"),A(Ze,"span-disabled",e[4].block||!e[2]),a(R,"type","number"),a(R,"min","1"),a(R,"max","60000"),a(R,"step","1"),a(R,"class","z-10 h-10 text-center rounded-none pretty w-28"),R.disabled=Ml=e[4].block||!e[2],A(R,"disabled",e[4].block||!e[2]),a(qe,"class","flex items-center color-group svelte-1m4l8fo"),A(qe,"span-disabled",e[4].block||!e[2]),a($,"type","number"),a($,"min","-100"),a($,"max","100"),a($,"step","1"),a($,"class","z-10 w-16 h-10 text-center rounded-none pretty"),$.disabled=Ul=e[4].block||!e[2],A($,"disabled",e[4].block||!e[2]),a(He,"class","flex items-center color-group svelte-1m4l8fo"),A(He,"span-disabled",e[4].block||!e[2]),a(x,"type","number"),a(x,"min","-100"),a(x,"max","100"),a(x,"step","1"),a(x,"class","z-10 w-16 h-10 text-center rounded-l-none rounded-r-lg pretty"),x.disabled=Bl=e[4].block||!e[2],A(x,"disabled",e[4].block||!e[2]),a(Q,"class","flex font-medium"),a(Q,"id","zBox"),a(ll,"class","space-y-2"),a(Qe,"class","-mt-1 space-y-4"),a(Ke,"class","flex flex-col gap-2"),a(l,"id","control"),a(l,"class","grid grid-cols-2 gap-y-6 gap-x-4")},m(p,C){L(p,l,C),s(l,t),s(t,r),s(r,v),s(t,u),s(t,f),s(f,n),q(n,e[0].name),s(f,b),Y&&Y.m(f,null),s(t,h),le&&le.m(t,null),s(l,V),s(l,c),s(c,g),s(g,I),s(c,B),s(c,P),Se(D,P,null),s(P,y),Se(w,P,null),s(l,H),s(l,S),s(S,M),s(M,j),s(S,Z),s(S,X),s(X,K),s(K,T),s(T,Pe),s(K,ye),Se(W,K,null),s(X,ce),s(X,ke),s(ke,ae),s(ae,il),s(ke,De),Se(ne,ke,null),s(X,ee),s(X,me),s(me,Ee),s(Ee,Ae),s(Ae,Ye),s(Ee,ue),s(Ee,z),q(z,e[0].overlap),s(Ee,U),s(me,fe),s(me,oe),s(oe,_e),s(_e,Ve),s(_e,Me),s(_e,Ue),s(_e,_t),s(oe,dt),s(oe,Be),s(Be,Dl),s(Be,pt),s(Be,Al),s(Be,ct),s(oe,mt),s(oe,ze),s(ze,Vl),s(ze,ht),re&&re.m(ze,null),s(l,vt),s(l,Ke),s(Ke,ml),s(ml,bt),s(Ke,gt),s(Ke,Qe),s(Qe,Re),s(Re,fl),s(fl,hl),s(hl,yt),s(fl,kt),s(fl,$e),s($e,he),q(he,e[0].z_tilt),s($e,Et),Se(xe,$e,null),s(Re,zt),s(Re,_l),s(_l,vl),s(vl,It),s(_l,Pt),s(_l,Ne),s(Ne,ve),q(ve,e[0].z_obj),s(Ne,wt),Se(el,Ne,null),s(Ne,Nt),s(Ne,je),s(je,Le),s(Le,dl),s(je,Ot),s(je,wl),s(wl,Tt),s(Qe,St),s(Qe,ll),s(ll,tl),s(tl,sl),sl.checked=e[2],s(tl,Ct),s(tl,Fe),s(Fe,bl),s(bl,Dt),s(Fe,At),te&&te.m(Fe,null),s(ll,Vt),s(ll,Q),s(Q,Ze),s(Ze,Mt),s(Q,Ut),s(Q,R),q(R,e[0].z_spacing),s(Q,Bt),s(Q,qe),s(qe,jt),s(Q,Lt),s(Q,$),q($,e[0].z_from),s(Q,Ft),s(Q,He),s(He,Zt),s(Q,qt),s(Q,x),q(x,e[0].z_to),be=!0,Ht||(Xt=[G(n,"input",e[9]),G(z,"input",e[15]),de(We.call(null,z,[.01,.99])),G(he,"input",e[16]),de(We.call(null,he,[0,25e3])),G(ve,"input",e[18]),de(We.call(null,ve,[0,6e4])),G(sl,"change",e[20]),de(at.call(null,Ze,"Nyquist is 232.")),G(R,"input",e[21]),de(We.call(null,R,[1,6e4])),de(at.call(null,qe,"Multiple of Spacing")),G($,"input",e[22]),de(We.call(null,$,[-100,100])),de(at.call(null,He,"Multiple of Spacing")),G(x,"input",e[23]),de(We.call(null,x,[-100,100]))],Ht=!0)},p(p,[C]){C&1&&n.value!==p[0].name&&q(n,p[0].name),C&129&&A(n,"invalid",p[7](p[0].name)),p[3]?Y?C&8&&se(Y,1):(Y=_s(p),Y.c(),se(Y,1),Y.m(f,null)):Y&&(hs(),ie(Y,1,1,()=>{Y=null}),vs()),p[3]?le&&(le.d(1),le=null):le?le.p(p,C):(le=ds(p),le.c(),le.m(t,null));const Xe={};!i&&C&1&&(i=!0,Xe.params=p[0],tt(()=>i=!1)),D.$set(Xe);const Nl={};!F&&C&1&&(F=!0,Nl.params=p[0],tt(()=>F=!1)),w.$set(Nl),C&16&&A(P,"opacity-70",p[4].block);const pl={};!rl&&C&1&&(rl=!0,pl.xy=p[0].xy0,tt(()=>rl=!1)),W.$set(pl);const cl={};!ul&&C&1&&(ul=!0,cl.xy=p[0].xy1,tt(()=>ul=!1)),ne.$set(cl),C&1&&J(z.value)!==p[0].overlap&&q(z,p[0].overlap),(!be||C&2)&&we!==(we=p[1].width.toFixed(2)+"")&&pe(Ve,we),(!be||C&2)&&Je!==(Je=p[1].height.toFixed(2)+"")&&pe(Ue,Je),(!be||C&2)&&zl!==(zl=p[1].n_cols+"")&&pe(Dl,zl),(!be||C&2)&&Il!==(Il=p[1].n_bundles+"")&&pe(Al,Il),(!be||C&2)&&Pl!==(Pl=El(p[1].time)+"")&&pe(Vl,Pl),p[2]?re||(re=ps(),re.c(),re.m(ze,null)):re&&(re.d(1),re=null),C&4&&A(ze,"font-semibold",!p[2]),C&8&&A(S,"-mt-20",p[3]),C&1&&J(he.value)!==p[0].z_tilt&&q(he,p[0].z_tilt),C&1&&J(ve.value)!==p[0].z_obj&&q(ve,p[0].z_obj),C&4&&(sl.checked=p[2]),p[2]?te?te.p(p,C):(te=cs(p),te.c(),te.m(Fe,null)):te&&(te.d(1),te=null),C&20&&A(Ze,"span-disabled",p[4].block||!p[2]),(!be||C&20&&Ml!==(Ml=p[4].block||!p[2]))&&(R.disabled=Ml),C&1&&J(R.value)!==p[0].z_spacing&&q(R,p[0].z_spacing),C&20&&A(R,"disabled",p[4].block||!p[2]),C&20&&A(qe,"span-disabled",p[4].block||!p[2]),(!be||C&20&&Ul!==(Ul=p[4].block||!p[2]))&&($.disabled=Ul),C&1&&J($.value)!==p[0].z_from&&q($,p[0].z_from),C&20&&A($,"disabled",p[4].block||!p[2]),C&20&&A(He,"span-disabled",p[4].block||!p[2]),(!be||C&20&&Bl!==(Bl=p[4].block||!p[2]))&&(x.disabled=Bl),C&1&&J(x.value)!==p[0].z_to&&q(x,p[0].z_to),C&20&&A(x,"disabled",p[4].block||!p[2])},i(p){be||(se(Y),se(D.$$.fragment,p),se(w.$$.fragment,p),se(W.$$.fragment,p),se(ne.$$.fragment,p),se(xe.$$.fragment,p),se(el.$$.fragment,p),be=!0)},o(p){ie(Y),ie(D.$$.fragment,p),ie(w.$$.fragment,p),ie(W.$$.fragment,p),ie(ne.$$.fragment,p),ie(xe.$$.fragment,p),ie(el.$$.fragment,p),be=!1},d(p){p&&o(l),Y&&Y.d(),le&&le.d(),Ce(D),Ce(w),Ce(W),Ce(ne),re&&re.d(),Ce(xe),Ce(el),te&&te.d(),Ht=!1,ft(Xt)}}}function Ws(e,l){e&&(e.querySelectorAll("input").forEach(t=>t.disabled=l),e.querySelectorAll("select").forEach(t=>t.disabled=l),e.querySelectorAll("button").forEach(t=>t.disabled=l))}function El(e){const l=new Date(e*1e3).toISOString();return e>3600?`${l.substring(11,19)} hrs`:`${l.substring(14,19)} mins`}function Gs(e,l,t){let r,v,u;Ge(e,st,T=>t(4,r=T)),Ge(e,nl,T=>t(24,v=T)),Ge(e,ol,T=>t(5,u=T));let{inAuto:f=!0}=l,{params:n}=l,{stats:b={height:0,width:0,n_cols:0,n_bundles:0,n_z:1,time:0}}=l,{z_stack:h=!1}=l,{fc_:V=0}=l;function c(){Ie(nl,v.image_params.xy0=n.xy0,v),Ie(nl,v.image_params.xy1=n.xy1,v)}function g(T){if(!T)return!0;if(!f)return!1;const Pe=v.exps[V].cmds.filter(ye=>ye.cmd.op==="takeimage").map(ye=>ye.cmd.name);return Ss(Pe)[T]>1}function I(){n.name=this.value,t(0,n)}function B(){n.path=this.value,t(0,n)}function P(T){n=T,t(0,n)}function D(T){n=T,t(0,n)}function i(T){e.$$.not_equal(n.xy0,T)&&(n.xy0=T,t(0,n))}function y(T){e.$$.not_equal(n.xy1,T)&&(n.xy1=T,t(0,n))}function w(){n.overlap=J(this.value),t(0,n)}function F(){n.z_tilt=J(this.value),t(0,n)}const H=()=>Ie(ol,u={move:{z_tilt:n.z_tilt}},u);function S(){n.z_obj=J(this.value),t(0,n)}const M=()=>Ie(ol,u={move:{z_obj:n.z_obj}},u);function j(){h=this.checked,t(2,h)}function Z(){n.z_spacing=J(this.value),t(0,n)}function X(){n.z_from=J(this.value),t(0,n)}function K(){n.z_to=J(this.value),t(0,n)}return e.$$set=T=>{"inAuto"in T&&t(3,f=T.inAuto),"params"in T&&t(0,n=T.params),"stats"in T&&t(1,b=T.stats),"z_stack"in T&&t(2,h=T.z_stack),"fc_"in T&&t(8,V=T.fc_)},e.$$.update=()=>{e.$$.dirty&16&&Ws(document.getElementById("control"),r.block),e.$$.dirty&1&&t(1,b.height=Math.max(n.xy1[1],n.xy0[1])-Math.min(n.xy1[1],n.xy0[1]),b),e.$$.dirty&1&&t(1,b.width=Math.max(n.xy1[0],n.xy0[0])-Math.min(n.xy1[0],n.xy0[0]),b),e.$$.dirty&3&&t(1,b.n_cols=Math.ceil(b.width/(.768*(1-n.overlap))),b),e.$$.dirty&2&&t(1,b.n_bundles=Math.ceil(b.height/.048),b),e.$$.dirty&2&&t(1,b.time=b.n_bundles*b.n_cols/20,b),e.$$.dirty&1&&t(1,b.n_z=Math.abs(n.z_to-n.z_from)+1,b)},[n,b,h,f,r,u,c,g,V,I,B,P,D,i,y,w,F,H,S,M,j,Z,X,K]}class Rs extends rt{constructor(l){super();it(this,l,Gs,Xs,ut,{inAuto:3,params:0,stats:1,z_stack:2,fc_:8})}}export{Rs as T};
