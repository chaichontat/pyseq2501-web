import{S as rt,i as it,s as ut,e as _,c as p,a as h,d as r,b as n,a0 as nl,g as L,V as G,n as hs,o as ue,p as vs,q as ne,_ as bs,F as zs,I as Is,J as ws,K as Ps,w as Ne,x as Oe,y as Te,M as Ns,B as Se,t as y,h as E,k as N,O as at,m as O,P as ot,U as A,H as s,a1 as H,Q as de,$ as R,W as ft,N as Ge,X as Ie,j as ce,R as Os,T as et,Y as lt,Z as tt}from"./vendor-9417e0b8.js";import{r as Ts}from"./preview.svelte_svelte_type_style_lang-df4526fd.js";import{s as st,u as al,c as ol}from"./store-7e8ca866.js";import{S as Ss,c as We,t as nt,a as Cs}from"./tooltip-d1460923.js";function Ds(e){let l,t;const o=e[7].default,v=zs(o,e,e[6],null),u=v||Vs();return{c(){l=_("div"),u&&u.c(),this.h()},l(f){l=p(f,"DIV",{class:!0});var a=h(l);u&&u.l(a),a.forEach(r),this.h()},h(){n(l,"class","mx-auto")},m(f,a){L(f,l,a),u&&u.m(l,null),t=!0},p(f,a){v&&v.p&&(!t||a&64)&&Is(v,o,f,f[6],t?Ps(o,f[6],a,null):ws(f[6]),null)},i(f){t||(ne(u,f),t=!0)},o(f){ue(u,f),t=!1},d(f){f&&r(l),u&&u.d(f)}}}function As(e){let l,t,o;return t=new Ss({props:{color:"black"}}),{c(){l=_("div"),Ne(t.$$.fragment),this.h()},l(v){l=p(v,"DIV",{class:!0});var u=h(l);Oe(t.$$.fragment,u),u.forEach(r),this.h()},h(){n(l,"class","mx-auto opacity-40")},m(v,u){L(v,l,u),Te(t,l,null),o=!0},p:Ns,i(v){o||(ne(t.$$.fragment,v),o=!0)},o(v){ue(t.$$.fragment,v),o=!1},d(v){v&&r(l),Se(t)}}}function Vs(e){let l;return{c(){l=y("Go")},l(t){l=E(t,"Go")},m(t,o){L(t,l,o)},d(t){t&&r(l)}}}function Ms(e){let l,t,o,v,u,f,a;const b=[As,Ds],m=[];function V(c,g){return c[1]?0:1}return t=V(e),o=m[t]=b[t](e),{c(){l=_("button"),o.c(),this.h()},l(c){l=p(c,"BUTTON",{type:!0,class:!0,tabindex:!0});var g=h(l);o.l(g),g.forEach(r),this.h()},h(){n(l,"type","button"),n(l,"class",v=nl(`px-4 py-1 text-sm font-semibold rounded-lg white-button ${e[5][e[2]]} disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500 ${e[3]}`)+" svelte-1rnzpdo"),n(l,"tabindex","0"),l.disabled=e[0]},m(c,g){L(c,l,g),m[t].m(l,null),u=!0,f||(a=G(l,"click",e[8]),f=!0)},p(c,[g]){let I=t;t=V(c),t===I?m[t].p(c,g):(hs(),ue(m[I],1,1,()=>{m[I]=null}),vs(),o=m[t],o?o.p(c,g):(o=m[t]=b[t](c),o.c()),ne(o,1),o.m(l,null)),(!u||g&12&&v!==(v=nl(`px-4 py-1 text-sm font-semibold rounded-lg white-button ${c[5][c[2]]} disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500 ${c[3]}`)+" svelte-1rnzpdo"))&&n(l,"class",v),(!u||g&1)&&(l.disabled=c[0])},i(c){u||(ne(o),u=!0)},o(c){ue(o),u=!1},d(c){c&&r(l),m[t].d(),f=!1,a()}}}function Us(e,l,t){let{$$slots:o={},$$scope:v}=l,{disabled:u=!1}=l,{spin:f=!1}=l,{color:a="indigo"}=l,{cl:b=""}=l;const m=bs(),V={blue:"text-blue-800 border-blue-300 hover:bg-blue-100 active:bg-blue-200 bg-blue-50",indigo:"text-indigo-800 border-indigo-300 hover:bg-indigo-100 active:bg-indigo-200 bg-indigo-50",green:"text-green-800 border-green-300 hover:bg-green-100 active:bg-green-200 bg-green-50",sky:"text-sky-800 border-sky-300 hover:bg-sky-100 active:bg-sky-200 bg-sky-50"},c=()=>m("click");return e.$$set=g=>{"disabled"in g&&t(0,u=g.disabled),"spin"in g&&t(1,f=g.spin),"color"in g&&t(2,a=g.color),"cl"in g&&t(3,b=g.cl),"$$scope"in g&&t(6,v=g.$$scope)},[u,f,a,b,m,V,v,o,c]}class Cl extends rt{constructor(l){super();it(this,l,Us,Ms,ut,{disabled:0,spin:1,color:2,cl:3})}}function js(e){let l,t,o,v,u,f,a,b,m,V,c,g,I,j,w,D,i,k,P,F,X;return I=new Cl({props:{disabled:e[3]}}),I.$on("click",e[11]),{c(){l=_("div"),t=_("div"),o=_("span"),v=y("X"),u=N(),f=_("input"),a=N(),b=_("span"),m=y("Y"),V=N(),c=_("input"),g=N(),Ne(I.$$.fragment),j=N(),w=_("button"),D=at("svg"),i=at("path"),k=y(`
    Current`),this.h()},l(T){l=p(T,"DIV",{class:!0});var M=h(l);t=p(M,"DIV",{class:!0});var B=h(t);o=p(B,"SPAN",{class:!0});var Z=h(o);v=E(Z,"X"),Z.forEach(r),u=O(B),f=p(B,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),a=O(B),b=p(B,"SPAN",{class:!0});var W=h(b);m=E(W,"Y"),W.forEach(r),V=O(B),c=p(B,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),B.forEach(r),g=O(M),Oe(I.$$.fragment,M),j=O(M),w=p(M,"BUTTON",{type:!0,class:!0});var J=h(w);D=ot(J,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var K=h(D);i=ot(K,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(i).forEach(r),K.forEach(r),k=E(J,`
    Current`),J.forEach(r),M.forEach(r),this.h()},h(){n(o,"class","flex items-center border-l rounded-l-lg color-group svelte-awp8a4"),A(o,"span-disabled",e[2].block),n(f,"type","number"),n(f,"min","-5"),n(f,"max","30"),n(f,"step","0.01"),n(f,"class","z-10 h-10 text-center rounded-none pretty w-28"),f.disabled=e[3],n(b,"class","flex items-center color-group svelte-awp8a4"),A(b,"span-disabled",e[2].block),n(c,"type","number"),n(c,"min","-5"),n(c,"max","80"),n(c,"step","0.01"),n(c,"class","z-10 h-10 text-center rounded-l-none rounded-r-lg pretty w-28"),c.disabled=e[3],n(t,"class","flex font-medium"),n(i,"stroke-linecap","round"),n(i,"stroke-linejoin","round"),n(i,"stroke-width","2"),n(i,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),n(D,"xmlns","http://www.w3.org/2000/svg"),n(D,"class","w-5 h-5 mr-1"),n(D,"fill","none"),n(D,"viewBox","0 0 24 24"),n(D,"stroke","currentColor"),n(w,"type","button"),n(w,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),w.disabled=e[3],n(l,"class","flex gap-x-2")},m(T,M){L(T,l,M),s(l,t),s(t,o),s(o,v),s(t,u),s(t,f),H(f,e[0][0]),s(t,a),s(t,b),s(b,m),s(t,V),s(t,c),H(c,e[0][1]),s(l,g),Te(I,l,null),s(l,j),s(l,w),s(w,D),s(D,i),s(w,k),P=!0,F||(X=[G(f,"input",e[7]),G(f,"change",e[8]),de(We.call(null,f,[-5,30])),G(c,"input",e[9]),G(c,"change",e[10]),de(We.call(null,c,[-5,80])),G(w,"click",e[6])],F=!0)},p(T,[M]){M&4&&A(o,"span-disabled",T[2].block),(!P||M&8)&&(f.disabled=T[3]),M&1&&R(f.value)!==T[0][0]&&H(f,T[0][0]),M&4&&A(b,"span-disabled",T[2].block),(!P||M&8)&&(c.disabled=T[3]),M&1&&R(c.value)!==T[0][1]&&H(c,T[0][1]);const B={};M&8&&(B.disabled=T[3]),I.$set(B),(!P||M&8)&&(w.disabled=T[3])},i(T){P||(ne(I.$$.fragment,T),P=!0)},o(T){ue(I.$$.fragment,T),P=!1},d(T){T&&r(l),Se(I),F=!1,ft(X)}}}function Bs(e,l,t){let o,v,u,f;Ge(e,st,i=>t(2,o=i)),Ge(e,st,i=>t(12,v=i)),Ge(e,al,i=>t(13,u=i)),Ge(e,ol,i=>t(4,f=i));const a=bs();let{i:b}=l,{xy:m=[-1,-1]}=l;function V(){const{x:i,y:k}=Ts(u.image_params.fc,v.x,v.y);t(0,m[0]=Math.round((i+Number.EPSILON)*100)/100,m),t(0,m[1]=Math.round((k+Number.EPSILON)*100)/100,m)}let c=!1;function g(){m[0]=R(this.value),t(0,m)}const I=()=>a("change");function j(){m[1]=R(this.value),t(0,m)}const w=()=>a("change"),D=()=>{Ie(st,o.block="moving",o),Ie(ol,f={move:b===0?{xy0:m}:{xy1:m}},f)};return e.$$set=i=>{"i"in i&&t(1,b=i.i),"xy"in i&&t(0,m=i.xy)},e.$$.update=()=>{e.$$.dirty&4&&t(3,c=Boolean(o.block))},[m,b,o,c,f,a,V,g,I,j,w,D]}class us extends rt{constructor(l){super();it(this,l,Bs,js,ut,{i:1,xy:0})}}function Ls(e){let l;return{c(){l=y("Set")},l(t){l=E(t,"Set")},m(t,o){L(t,l,o)},d(t){t&&r(l)}}}function Fs(e){let l,t,o,v,u,f,a,b,m,V,c,g,I,j,w,D;return{c(){l=_("option"),t=y("Open"),o=_("option"),v=y("0.2"),u=_("option"),f=y("0.5"),a=_("option"),b=y("0.6"),m=_("option"),V=y("1.0"),c=_("option"),g=y("2.4"),I=_("option"),j=y("4.0"),w=_("option"),D=y("Closed"),this.h()},l(i){l=p(i,"OPTION",{});var k=h(l);t=E(k,"Open"),k.forEach(r),o=p(i,"OPTION",{});var P=h(o);v=E(P,"0.2"),P.forEach(r),u=p(i,"OPTION",{});var F=h(u);f=E(F,"0.5"),F.forEach(r),a=p(i,"OPTION",{});var X=h(a);b=E(X,"0.6"),X.forEach(r),m=p(i,"OPTION",{});var T=h(m);V=E(T,"1.0"),T.forEach(r),c=p(i,"OPTION",{});var M=h(c);g=E(M,"2.4"),M.forEach(r),I=p(i,"OPTION",{});var B=h(I);j=E(B,"4.0"),B.forEach(r),w=p(i,"OPTION",{});var Z=h(w);D=E(Z,"Closed"),Z.forEach(r),this.h()},h(){l.__value="Open",l.value=l.__value,o.__value="0.2",o.value=o.__value,u.__value="0.5",u.value=u.__value,a.__value="0.6",a.value=a.__value,m.__value="1.0",m.value=m.__value,c.__value="2.4",c.value=c.__value,I.__value="4.0",I.value=I.__value,w.__value="Closed",w.value=w.__value},m(i,k){L(i,l,k),s(l,t),L(i,o,k),s(o,v),L(i,u,k),s(u,f),L(i,a,k),s(a,b),L(i,m,k),s(m,V),L(i,c,k),s(c,g),L(i,I,k),s(I,j),L(i,w,k),s(w,D)},d(i){i&&r(l),i&&r(o),i&&r(u),i&&r(a),i&&r(m),i&&r(c),i&&r(I),i&&r(w)}}}function Zs(e){let l,t,o,v,u,f,a,b,m,V,c,g,I,j,w,D;return{c(){l=_("option"),t=y("Open"),o=_("option"),v=y("1.0"),u=_("option"),f=y("2.0"),a=_("option"),b=y("3.5"),m=_("option"),V=y("3.8"),c=_("option"),g=y("4.0"),I=_("option"),j=y("4.5"),w=_("option"),D=y("Closed"),this.h()},l(i){l=p(i,"OPTION",{});var k=h(l);t=E(k,"Open"),k.forEach(r),o=p(i,"OPTION",{});var P=h(o);v=E(P,"1.0"),P.forEach(r),u=p(i,"OPTION",{});var F=h(u);f=E(F,"2.0"),F.forEach(r),a=p(i,"OPTION",{});var X=h(a);b=E(X,"3.5"),X.forEach(r),m=p(i,"OPTION",{});var T=h(m);V=E(T,"3.8"),T.forEach(r),c=p(i,"OPTION",{});var M=h(c);g=E(M,"4.0"),M.forEach(r),I=p(i,"OPTION",{});var B=h(I);j=E(B,"4.5"),B.forEach(r),w=p(i,"OPTION",{});var Z=h(w);D=E(Z,"Closed"),Z.forEach(r),this.h()},h(){l.__value="Open",l.value=l.__value,o.__value="1.0",o.value=o.__value,u.__value="2.0",u.value=u.__value,a.__value="3.5",a.value=a.__value,m.__value="3.8",m.value=m.__value,c.__value="4.0",c.value=c.__value,I.__value="4.5",I.value=I.__value,w.__value="Closed",w.value=w.__value},m(i,k){L(i,l,k),s(l,t),L(i,o,k),s(o,v),L(i,u,k),s(u,f),L(i,a,k),s(a,b),L(i,m,k),s(m,V),L(i,c,k),s(c,g),L(i,I,k),s(I,j),L(i,w,k),s(w,D)},d(i){i&&r(l),i&&r(o),i&&r(u),i&&r(a),i&&r(m),i&&r(c),i&&r(I),i&&r(w)}}}function qs(e){let l,t,o,v,u,f,a,b=(Boolean(e[1])?660:532)+"",m,V,c,g,I,j,w,D,i,k,P,F,X=2*e[1]+"",T,M,B,Z,W,J,K=2*e[1]+1+"",C,Ce,q,rl,me,ye,ae,il,De=(Number(e[0].od[e[1]]!=-1)*e[0].lasers[e[1]]*Math.pow(10,-e[0].od[e[1]])).toFixed(4)+"",oe,ul,le,he,Ee;w=new Cl({props:{$$slots:{default:[Ls]},$$scope:{ctx:e}}}),w.$on("click",e[7]);function Ae(z,U){return z[1]==0?Zs:Fs}let Ye=Ae(e),fe=Ye(e);return{c(){l=_("p"),t=_("span"),o=_("label"),v=_("input"),f=N(),a=_("div"),m=y(b),V=y(" nm"),c=N(),g=_("input"),j=y(`
    mW
    `),Ne(w.$$.fragment),D=N(),i=_("label"),k=_("input"),F=y(`
    Channel `),T=y(X),M=N(),B=_("label"),Z=_("input"),J=y(`
    Channel `),C=y(K),Ce=N(),q=_("span"),rl=y(`Filter OD
    `),me=_("select"),fe.c(),ye=N(),ae=_("p"),il=y("Effective: "),oe=y(De),ul=y(" mW"),this.h()},l(z){l=p(z,"P",{class:!0});var U=h(l);t=p(U,"SPAN",{class:!0});var _e=h(t);o=p(_e,"LABEL",{});var re=h(o);v=p(re,"INPUT",{type:!0,class:!0}),f=O(re),a=p(re,"DIV",{class:!0});var pe=h(a);m=E(pe,b),V=E(pe," nm"),pe.forEach(r),re.forEach(r),c=O(_e),g=p(_e,"INPUT",{type:!0,class:!0,min:!0,max:!0}),j=E(_e,`
    mW
    `),Oe(w.$$.fragment,_e),_e.forEach(r),D=O(U),i=p(U,"LABEL",{class:!0});var we=h(i);k=p(we,"INPUT",{type:!0,class:!0}),F=E(we,`
    Channel `),T=E(we,X),we.forEach(r),M=O(U),B=p(U,"LABEL",{class:!0});var Ve=h(B);Z=p(Ve,"INPUT",{type:!0,class:!0}),J=E(Ve,`
    Channel `),C=E(Ve,K),Ve.forEach(r),Ce=O(U),q=p(U,"SPAN",{class:!0});var Me=h(q);rl=E(Me,`Filter OD
    `),me=p(Me,"SELECT",{class:!0});var Re=h(me);fe.l(Re),Re.forEach(r),ye=O(Me),ae=p(Me,"P",{class:!0});var Ue=h(ae);il=E(Ue,"Effective: "),oe=E(Ue,De),ul=E(Ue," mW"),Ue.forEach(r),Me.forEach(r),U.forEach(r),this.h()},h(){n(v,"type","checkbox"),n(v,"class",u=nl(`rounded mr-1 ${e[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"),n(a,"class","inline font-semibold"),A(a,"text-green-800",e[0].laser_onoff[e[1]]&&!e[1]),A(a,"text-red-800",e[0].laser_onoff[e[1]]&&e[1]),n(g,"type","number"),n(g,"class","w-20 h-8 pretty"),n(g,"min","0"),n(g,"max","500"),g.disabled=I=!e[0].laser_onoff[e[1]],A(g,"pretty-disabled",!e[0].laser_onoff[0]),n(t,"class","flex items-center gap-x-2"),A(t,"text-gray-400",!e[0].laser_onoff[e[1]]),n(k,"type","checkbox"),n(k,"class",P=nl(`mr-1 rounded ${e[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"),n(i,"class","rounded-lg channel ring-red-500 svelte-6ipz4o"),A(i,"text-gray-400",!e[0].channels[2*e[1]]),n(Z,"type","checkbox"),n(Z,"class",W=nl(`mr-1 rounded ${e[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"),n(B,"class","channel svelte-6ipz4o"),A(B,"text-gray-400",!e[0].channels[2*e[1]+1]),n(me,"class","py-1 text-sm border-gray-400 rounded-lg disabled:border-gray-300"),n(ae,"class","ml-3 text-sm font-medium"),n(q,"class","ml-8 font-normal opacity-85"),n(l,"class","flex flex-col")},m(z,U){L(z,l,U),s(l,t),s(t,o),s(o,v),v.checked=e[0].laser_onoff[e[1]],s(o,f),s(o,a),s(a,m),s(a,V),s(t,c),s(t,g),H(g,e[0].lasers[e[1]]),s(t,j),Te(w,t,null),s(l,D),s(l,i),s(i,k),k.checked=e[0].channels[2*e[1]],s(i,F),s(i,T),s(l,M),s(l,B),s(B,Z),Z.checked=e[0].channels[2*e[1]+1],s(B,J),s(B,C),s(l,Ce),s(l,q),s(q,rl),s(q,me),fe.m(me,null),s(q,ye),s(q,ae),s(ae,il),s(ae,oe),s(ae,ul),le=!0,he||(Ee=[G(v,"change",e[5]),G(g,"input",e[6]),de(We.call(null,g,[0,500])),G(k,"change",e[8]),G(Z,"change",e[9]),G(me,"change",e[4])],he=!0)},p(z,[U]){(!le||U&2&&u!==(u=nl(`rounded mr-1 ${z[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"))&&n(v,"class",u),U&3&&(v.checked=z[0].laser_onoff[z[1]]),(!le||U&2)&&b!==(b=(Boolean(z[1])?660:532)+"")&&ce(m,b),U&3&&A(a,"text-green-800",z[0].laser_onoff[z[1]]&&!z[1]),U&3&&A(a,"text-red-800",z[0].laser_onoff[z[1]]&&z[1]),(!le||U&3&&I!==(I=!z[0].laser_onoff[z[1]]))&&(g.disabled=I),U&3&&R(g.value)!==z[0].lasers[z[1]]&&H(g,z[0].lasers[z[1]]),U&1&&A(g,"pretty-disabled",!z[0].laser_onoff[0]);const _e={};U&1024&&(_e.$$scope={dirty:U,ctx:z}),w.$set(_e),U&3&&A(t,"text-gray-400",!z[0].laser_onoff[z[1]]),(!le||U&2&&P!==(P=nl(`mr-1 rounded ${z[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"))&&n(k,"class",P),U&3&&(k.checked=z[0].channels[2*z[1]]),(!le||U&2)&&X!==(X=2*z[1]+"")&&ce(T,X),U&3&&A(i,"text-gray-400",!z[0].channels[2*z[1]]),(!le||U&2&&W!==(W=nl(`mr-1 rounded ${z[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"))&&n(Z,"class",W),U&3&&(Z.checked=z[0].channels[2*z[1]+1]),(!le||U&2)&&K!==(K=2*z[1]+1+"")&&ce(C,K),U&3&&A(B,"text-gray-400",!z[0].channels[2*z[1]+1]),Ye!==(Ye=Ae(z))&&(fe.d(1),fe=Ye(z),fe&&(fe.c(),fe.m(me,null))),(!le||U&3)&&De!==(De=(Number(z[0].od[z[1]]!=-1)*z[0].lasers[z[1]]*Math.pow(10,-z[0].od[z[1]])).toFixed(4)+"")&&ce(oe,De)},i(z){le||(ne(w.$$.fragment,z),le=!0)},o(z){ue(w.$$.fragment,z),le=!1},d(z){z&&r(l),Se(w),fe.d(),he=!1,ft(Ee)}}}function Hs(e,l,t){let o,v;Ge(e,ol,I=>t(2,o=I)),Ge(e,al,I=>t(3,v=I));let{params:u}=l,{i:f}=l;function a(I){let j;switch(I.currentTarget.value){case"Open":j=0;break;case"Closed":j=-1;break;default:j=Number(I.currentTarget.value)}t(0,u.od[f]=j,u),Ie(al,v.image_params.od[f]=u.od[f],v),Ie(ol,o={move:{od:f===0?[u.od[f],void 0]:[void 0,u.od[f]]}},o)}function b(){u.laser_onoff[f]=this.checked,t(0,u)}function m(){u.lasers[f]=R(this.value),t(0,u)}const V=()=>{Ie(al,v.image_params.laser_onoff[f]=u.laser_onoff[f],v),Ie(al,v.image_params.lasers[f]=u.lasers[f],v),Ie(ol,o={move:{lasers:f===0?[u.lasers[f],void 0]:[void 0,u.lasers[f]],laser_onoff:f===0?[u.laser_onoff[f],void 0]:[void 0,u.laser_onoff[f]]}},o)};function c(){u.channels[2*f]=this.checked,t(0,u)}function g(){u.channels[2*f+1]=this.checked,t(0,u)}return e.$$set=I=>{"params"in I&&t(0,u=I.params),"i"in I&&t(1,f=I.i)},[u,f,o,v,a,b,m,V,c,g]}class fs extends rt{constructor(l){super();it(this,l,Hs,qs,ut,{params:0,i:1})}}function _s(e){let l,t;return l=new Cl({props:{color:"sky",cl:"text-lg font-semibold shadow-md shadow-sky-700/10 h-12",$$slots:{default:[Xs]},$$scope:{ctx:e}}}),{c(){Ne(l.$$.fragment)},l(o){Oe(l.$$.fragment,o)},m(o,v){Te(l,o,v),t=!0},i(o){t||(ne(l.$$.fragment,o),t=!0)},o(o){ue(l.$$.fragment,o),t=!1},d(o){Se(l,o)}}}function Xs(e){let l;return{c(){l=y("Preview")},l(t){l=E(t,"Preview")},m(t,o){L(t,l,o)},d(t){t&&r(l)}}}function ps(e){let l,t,o,v,u,f,a;return{c(){l=_("p"),t=y("Image Path"),v=N(),u=_("input"),this.h()},l(b){l=p(b,"P",{class:!0});var m=h(l);t=E(m,"Image Path"),m.forEach(r),v=O(b),u=p(b,"INPUT",{type:!0,class:!0}),this.h()},h(){n(l,"class","text-lg svelte-1m4l8fo"),n(u,"type","text"),n(u,"class","max-w-md mb-4 pretty"),A(u,"invalid",!e[0].path)},m(b,m){L(b,l,m),s(l,t),L(b,v,m),L(b,u,m),H(u,e[0].path),f||(a=[de(o=nt.call(null,l,e[5])),G(u,"input",e[11])],f=!0)},p(b,m){o&&Os(o.update)&&m&32&&o.update.call(null,b[5]),m&1&&u.value!==b[0].path&&H(u,b[0].path),m&1&&A(u,"invalid",!b[0].path)},d(b){b&&r(l),b&&r(v),b&&r(u),f=!1,ft(a)}}}function ds(e){let l;return{c(){l=y("per z-stack.")},l(t){l=E(t,"per z-stack.")},m(t,o){L(t,l,o)},d(t){t&&r(l)}}}function cs(e){let l,t=e[1].n_z+"",o,v,u,f=e[0].z_obj+e[0].z_from*e[0].z_spacing+"",a,b,m=e[0].z_obj+e[0].z_to*e[0].z_spacing+"",V,c,g,I,j=(e[1].n_z?El(e[1].n_z*e[1].time):El(e[1].time))+"",w,D,i=e[1].n_z>1&&ms();return{c(){l=_("div"),o=y(t),v=y(" Z step"),i&&i.c(),u=y(" from "),a=y(f),b=y(" to "),V=y(m),c=N(),g=_("div"),I=y("Total time: "),w=y(j),D=y("."),this.h()},l(k){l=p(k,"DIV",{class:!0});var P=h(l);o=E(P,t),v=E(P," Z step"),i&&i.l(P),u=E(P," from "),a=E(P,f),b=E(P," to "),V=E(P,m),P.forEach(r),c=O(k),g=p(k,"DIV",{class:!0});var F=h(g);I=E(F,"Total time: "),w=E(F,j),D=E(F,"."),F.forEach(r),this.h()},h(){n(l,"class","px-2 font-base"),n(g,"class","px-2 font-semibold")},m(k,P){L(k,l,P),s(l,o),s(l,v),i&&i.m(l,null),s(l,u),s(l,a),s(l,b),s(l,V),L(k,c,P),L(k,g,P),s(g,I),s(g,w),s(g,D)},p(k,P){P&2&&t!==(t=k[1].n_z+"")&&ce(o,t),k[1].n_z>1?i||(i=ms(),i.c(),i.m(l,u)):i&&(i.d(1),i=null),P&1&&f!==(f=k[0].z_obj+k[0].z_from*k[0].z_spacing+"")&&ce(a,f),P&1&&m!==(m=k[0].z_obj+k[0].z_to*k[0].z_spacing+"")&&ce(V,m),P&2&&j!==(j=(k[1].n_z?El(k[1].n_z*k[1].time):El(k[1].time))+"")&&ce(w,j)},d(k){k&&r(l),i&&i.d(),k&&r(c),k&&r(g)}}}function ms(e){let l;return{c(){l=y("s")},l(t){l=E(t,"s")},m(t,o){L(t,l,o)},d(t){t&&r(l)}}}function Ws(e){let l,t,o,v,u,f,a,b,m,V,c,g,I,j,w,D,i,k,P,F,X,T,M,B,Z,W,J,K,C,Ce,q,rl,me,ye,ae,il,De,oe,ul,le,he,Ee,Ae,Ye,fe,z,U,_e,re,pe,we=e[1].width.toFixed(2)+"",Ve,Me,Re=e[1].height.toFixed(2)+"",Ue,_t,pt,je,zl=e[1].n_cols+"",Dl,dt,Il=e[1].n_bundles+"",Al,ct,mt,ze,wl=El(e[1].time)+"",Vl,ht,vt,Je,ml,bt,gt,Ke,Qe,fl,hl,kt,yt,$e,ve,Et,xe,zt,_l,vl,It,wt,Pe,be,Pt,el,Nt,Be,Le,pl,Ot,Pl,Tt,St,ll,tl,sl,Ct,Fe,bl,Dt,At,Vt,Q,Ze,Mt,Ut,$,Ml,jt,qe,Bt,Lt,x,Ul,Ft,He,Zt,qt,ee,jl,ge,Ht,Xt,Y=e[3]&&_s(e),te=!e[3]&&ps(e);function gs(d){e[12](d)}let Wt={i:0};e[0]!==void 0&&(Wt.params=e[0]),D=new fs({props:Wt}),et.push(()=>lt(D,"params",gs));function ks(d){e[13](d)}let Gt={i:1};e[0]!==void 0&&(Gt.params=e[0]),P=new fs({props:Gt}),et.push(()=>lt(P,"params",ks));function ys(d){e[14](d)}let Yt={i:0};e[0].xy0!==void 0&&(Yt.xy=e[0].xy0),q=new us({props:Yt}),et.push(()=>lt(q,"xy",ys)),q.$on("change",e[7]);function Es(d){e[15](d)}let Rt={i:1};e[0].xy1!==void 0&&(Rt.xy=e[0].xy1),oe=new us({props:Rt}),et.push(()=>lt(oe,"xy",Es)),oe.$on("change",e[7]);let ie=e[2]&&ds();xe=new Cl({}),xe.$on("click",e[18]),el=new Cl({}),el.$on("click",e[20]);let se=e[2]&&cs(e);return{c(){l=_("div"),t=_("section"),o=_("p"),v=y("Name"),u=N(),f=_("div"),a=_("input"),b=N(),Y&&Y.c(),m=N(),te&&te.c(),V=N(),c=_("section"),g=_("h2"),I=y("Laser and Channels"),j=N(),w=_("div"),Ne(D.$$.fragment),k=N(),Ne(P.$$.fragment),X=N(),T=_("section"),M=_("h2"),B=y("Positions"),Z=N(),W=_("div"),J=_("div"),K=_("p"),C=y("\u{1F4CC} Corner 1"),Ce=N(),Ne(q.$$.fragment),me=N(),ye=_("div"),ae=_("p"),il=y("\u{1F4CD} Corner 2"),De=N(),Ne(oe.$$.fragment),le=N(),he=_("div"),Ee=_("div"),Ae=_("p"),Ye=y("X-Overlap"),fe=N(),z=_("input"),U=y(`
          (0-1)`),_e=N(),re=_("div"),pe=_("span"),Ve=y(we),Me=y(" \xD7 "),Ue=y(Re),_t=y(" mm."),pt=N(),je=_("span"),Dl=y(zl),dt=y(" columns of "),Al=y(Il),ct=y(" bundles."),mt=N(),ze=_("span"),Vl=y(wl),ht=N(),ie&&ie.c(),vt=N(),Je=_("section"),ml=_("h2"),bt=y("Focus"),gt=N(),Ke=_("div"),Qe=_("div"),fl=_("div"),hl=_("p"),kt=y("Z Tilt"),yt=N(),$e=_("div"),ve=_("input"),Et=N(),Ne(xe.$$.fragment),zt=N(),_l=_("div"),vl=_("p"),It=y("Z Objective"),wt=N(),Pe=_("span"),be=_("input"),Pt=N(),Ne(el.$$.fragment),Nt=N(),Be=_("button"),Le=at("svg"),pl=at("path"),Ot=N(),Pl=_("span"),Tt=y("Autofocus"),St=N(),ll=_("div"),tl=_("label"),sl=_("input"),Ct=N(),Fe=_("div"),bl=_("div"),Dt=y("Z-Stack"),At=N(),se&&se.c(),Vt=N(),Q=_("div"),Ze=_("span"),Mt=y("Spacing"),Ut=N(),$=_("input"),jt=N(),qe=_("span"),Bt=y("From"),Lt=N(),x=_("input"),Ft=N(),He=_("span"),Zt=y("To"),qt=N(),ee=_("input"),this.h()},l(d){l=p(d,"DIV",{id:!0,class:!0});var S=h(l);t=p(S,"SECTION",{class:!0});var Xe=h(t);o=p(Xe,"P",{class:!0});var Nl=h(o);v=E(Nl,"Name"),Nl.forEach(r),u=O(Xe),f=p(Xe,"DIV",{class:!0});var dl=h(f);a=p(dl,"INPUT",{type:!0,class:!0}),b=O(dl),Y&&Y.l(dl),dl.forEach(r),m=O(Xe),te&&te.l(Xe),Xe.forEach(r),V=O(S),c=p(S,"SECTION",{class:!0});var cl=h(c);g=p(cl,"H2",{class:!0});var Jt=h(g);I=E(Jt,"Laser and Channels"),Jt.forEach(r),j=O(cl),w=p(cl,"DIV",{class:!0});var Bl=h(w);Oe(D.$$.fragment,Bl),k=O(Bl),Oe(P.$$.fragment,Bl),Bl.forEach(r),cl.forEach(r),X=O(S),T=p(S,"SECTION",{class:!0});var Ll=h(T);M=p(Ll,"H2",{class:!0});var Kt=h(M);B=E(Kt,"Positions"),Kt.forEach(r),Z=O(Ll),W=p(Ll,"DIV",{class:!0});var gl=h(W);J=p(gl,"DIV",{});var Fl=h(J);K=p(Fl,"P",{class:!0});var Qt=h(K);C=E(Qt,"\u{1F4CC} Corner 1"),Qt.forEach(r),Ce=O(Fl),Oe(q.$$.fragment,Fl),Fl.forEach(r),me=O(gl),ye=p(gl,"DIV",{});var Zl=h(ye);ae=p(Zl,"P",{class:!0});var $t=h(ae);il=E($t,"\u{1F4CD} Corner 2"),$t.forEach(r),De=O(Zl),Oe(oe.$$.fragment,Zl),Zl.forEach(r),le=O(gl),he=p(gl,"DIV",{class:!0});var ql=h(he);Ee=p(ql,"DIV",{});var Ol=h(Ee);Ae=p(Ol,"P",{class:!0});var xt=h(Ae);Ye=E(xt,"X-Overlap"),xt.forEach(r),fe=O(Ol),z=p(Ol,"INPUT",{type:!0,class:!0,step:!0,min:!0,max:!0}),U=E(Ol,`
          (0-1)`),Ol.forEach(r),_e=O(ql),re=p(ql,"DIV",{class:!0});var kl=h(re);pe=p(kl,"SPAN",{class:!0});var Tl=h(pe);Ve=E(Tl,we),Me=E(Tl," \xD7 "),Ue=E(Tl,Re),_t=E(Tl," mm."),Tl.forEach(r),pt=O(kl),je=p(kl,"SPAN",{class:!0});var Sl=h(je);Dl=E(Sl,zl),dt=E(Sl," columns of "),Al=E(Sl,Il),ct=E(Sl," bundles."),Sl.forEach(r),mt=O(kl),ze=p(kl,"SPAN",{class:!0});var Hl=h(ze);Vl=E(Hl,wl),ht=O(Hl),ie&&ie.l(Hl),Hl.forEach(r),kl.forEach(r),ql.forEach(r),gl.forEach(r),Ll.forEach(r),vt=O(S),Je=p(S,"SECTION",{class:!0});var Xl=h(Je);ml=p(Xl,"H2",{class:!0});var es=h(ml);bt=E(es,"Focus"),es.forEach(r),gt=O(Xl),Ke=p(Xl,"DIV",{class:!0});var Wl=h(Ke);Qe=p(Wl,"DIV",{class:!0});var Gl=h(Qe);fl=p(Gl,"DIV",{});var Yl=h(fl);hl=p(Yl,"P",{class:!0});var ls=h(hl);kt=E(ls,"Z Tilt"),ls.forEach(r),yt=O(Yl),$e=p(Yl,"DIV",{class:!0});var Rl=h($e);ve=p(Rl,"INPUT",{type:!0,class:!0,min:!0,max:!0}),Et=O(Rl),Oe(xe.$$.fragment,Rl),Rl.forEach(r),Yl.forEach(r),zt=O(Gl),_l=p(Gl,"DIV",{});var Jl=h(_l);vl=p(Jl,"P",{class:!0});var ts=h(vl);It=E(ts,"Z Objective"),ts.forEach(r),wt=O(Jl),Pe=p(Jl,"SPAN",{class:!0});var yl=h(Pe);be=p(yl,"INPUT",{type:!0,class:!0,min:!0,max:!0}),Pt=O(yl),Oe(el.$$.fragment,yl),Nt=O(yl),Be=p(yl,"BUTTON",{type:!0,class:!0});var Kl=h(Be);Le=ot(Kl,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var ss=h(Le);pl=ot(ss,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),h(pl).forEach(r),ss.forEach(r),Ot=O(Kl),Pl=p(Kl,"SPAN",{});var ns=h(Pl);Tt=E(ns,"Autofocus"),ns.forEach(r),Kl.forEach(r),yl.forEach(r),Jl.forEach(r),Gl.forEach(r),St=O(Wl),ll=p(Wl,"DIV",{class:!0});var Ql=h(ll);tl=p(Ql,"LABEL",{class:!0});var $l=h(tl);sl=p($l,"INPUT",{type:!0,class:!0}),Ct=O($l),Fe=p($l,"DIV",{class:!0});var xl=h(Fe);bl=p(xl,"DIV",{class:!0});var as=h(bl);Dt=E(as,"Z-Stack"),as.forEach(r),At=O(xl),se&&se.l(xl),xl.forEach(r),$l.forEach(r),Vt=O(Ql),Q=p(Ql,"DIV",{class:!0,id:!0});var ke=h(Q);Ze=p(ke,"SPAN",{class:!0});var os=h(Ze);Mt=E(os,"Spacing"),os.forEach(r),Ut=O(ke),$=p(ke,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),jt=O(ke),qe=p(ke,"SPAN",{class:!0});var rs=h(qe);Bt=E(rs,"From"),rs.forEach(r),Lt=O(ke),x=p(ke,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Ft=O(ke),He=p(ke,"SPAN",{class:!0});var is=h(He);Zt=E(is,"To"),is.forEach(r),qt=O(ke),ee=p(ke,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ke.forEach(r),Ql.forEach(r),Wl.forEach(r),Xl.forEach(r),S.forEach(r),this.h()},h(){n(o,"class","mt-1 text-lg svelte-1m4l8fo"),n(a,"type","text"),n(a,"class","flex-grow mb-4 pretty text-lg h-12"),A(a,"invalid",e[8](e[0].name)),n(f,"class","flex w-full max-w-md gap-x-2"),n(t,"class","flex flex-col text-lg font-medium"),n(g,"class","svelte-1m4l8fo"),n(w,"class","grid grid-cols-2"),A(w,"opacity-70",e[4].block),n(c,"class","font-medium leading-10 "),n(M,"class","svelte-1m4l8fo"),n(K,"class","svelte-1m4l8fo"),n(ae,"class","svelte-1m4l8fo"),n(Ae,"class","svelte-1m4l8fo"),n(z,"type","number"),n(z,"class","w-20 pr-2 pretty"),n(z,"step","0.01"),n(z,"min","0"),n(z,"max","0.99"),n(pe,"class","tabular-nums"),n(je,"class","tabular-nums"),n(ze,"class","tabular-nums"),A(ze,"font-semibold",!e[2]),n(re,"class","flex flex-col justify-center font-normal"),n(he,"class","flex gap-8"),n(W,"class","-mt-1 space-y-4"),n(T,"class","flex flex-col gap-2"),A(T,"-mt-20",e[3]),n(ml,"class","svelte-1m4l8fo"),n(hl,"class","svelte-1m4l8fo"),n(ve,"type","number"),n(ve,"class","w-28 pretty"),n(ve,"min","0"),n(ve,"max","25000"),n($e,"class","flex gap-2"),n(vl,"class","svelte-1m4l8fo"),n(be,"type","number"),n(be,"class","w-28 pretty"),n(be,"min","0"),n(be,"max","60000"),n(pl,"fill-rule","evenodd"),n(pl,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),n(pl,"clip-rule","evenodd"),n(Le,"xmlns","http://www.w3.org/2000/svg"),n(Le,"class","w-5 h-5 mr-1"),n(Le,"viewBox","0 0 20 20"),n(Le,"fill","currentColor"),n(Be,"type","button"),n(Be,"class","px-4 py-1 font-medium text-gray-900 rounded-lg w-36 white-button"),n(Pe,"class","flex gap-2"),n(Qe,"class","flex space-x-8"),n(sl,"type","checkbox"),n(sl,"class","mr-1 rounded"),n(bl,"class","pr-2"),n(Fe,"class","flex divide-x-2"),n(tl,"class","flex items-center gap-x-1"),n(Ze,"class","flex items-center border-l rounded-l-lg color-group svelte-1m4l8fo"),A(Ze,"span-disabled",e[4].block||!e[2]),n($,"type","number"),n($,"min","1"),n($,"max","60000"),n($,"step","1"),n($,"class","z-10 h-10 text-center rounded-none pretty w-28"),$.disabled=Ml=e[4].block||!e[2],A($,"disabled",e[4].block||!e[2]),n(qe,"class","flex items-center color-group svelte-1m4l8fo"),A(qe,"span-disabled",e[4].block||!e[2]),n(x,"type","number"),n(x,"min","-100"),n(x,"max","100"),n(x,"step","1"),n(x,"class","z-10 w-16 h-10 text-center rounded-none pretty"),x.disabled=Ul=e[4].block||!e[2],A(x,"disabled",e[4].block||!e[2]),n(He,"class","flex items-center color-group svelte-1m4l8fo"),A(He,"span-disabled",e[4].block||!e[2]),n(ee,"type","number"),n(ee,"min","-100"),n(ee,"max","100"),n(ee,"step","1"),n(ee,"class","z-10 w-16 h-10 text-center rounded-l-none rounded-r-lg pretty"),ee.disabled=jl=e[4].block||!e[2],A(ee,"disabled",e[4].block||!e[2]),n(Q,"class","flex font-medium"),n(Q,"id","zBox"),n(ll,"class","space-y-2"),n(Ke,"class","-mt-1 space-y-4"),n(Je,"class","flex flex-col gap-2"),n(l,"id","control"),n(l,"class","grid grid-cols-2 gap-y-6 gap-x-4")},m(d,S){L(d,l,S),s(l,t),s(t,o),s(o,v),s(t,u),s(t,f),s(f,a),H(a,e[0].name),s(f,b),Y&&Y.m(f,null),s(t,m),te&&te.m(t,null),s(l,V),s(l,c),s(c,g),s(g,I),s(c,j),s(c,w),Te(D,w,null),s(w,k),Te(P,w,null),s(l,X),s(l,T),s(T,M),s(M,B),s(T,Z),s(T,W),s(W,J),s(J,K),s(K,C),s(J,Ce),Te(q,J,null),s(W,me),s(W,ye),s(ye,ae),s(ae,il),s(ye,De),Te(oe,ye,null),s(W,le),s(W,he),s(he,Ee),s(Ee,Ae),s(Ae,Ye),s(Ee,fe),s(Ee,z),H(z,e[0].overlap),s(Ee,U),s(he,_e),s(he,re),s(re,pe),s(pe,Ve),s(pe,Me),s(pe,Ue),s(pe,_t),s(re,pt),s(re,je),s(je,Dl),s(je,dt),s(je,Al),s(je,ct),s(re,mt),s(re,ze),s(ze,Vl),s(ze,ht),ie&&ie.m(ze,null),s(l,vt),s(l,Je),s(Je,ml),s(ml,bt),s(Je,gt),s(Je,Ke),s(Ke,Qe),s(Qe,fl),s(fl,hl),s(hl,kt),s(fl,yt),s(fl,$e),s($e,ve),H(ve,e[0].z_tilt),s($e,Et),Te(xe,$e,null),s(Qe,zt),s(Qe,_l),s(_l,vl),s(vl,It),s(_l,wt),s(_l,Pe),s(Pe,be),H(be,e[0].z_obj),s(Pe,Pt),Te(el,Pe,null),s(Pe,Nt),s(Pe,Be),s(Be,Le),s(Le,pl),s(Be,Ot),s(Be,Pl),s(Pl,Tt),s(Ke,St),s(Ke,ll),s(ll,tl),s(tl,sl),sl.checked=e[2],s(tl,Ct),s(tl,Fe),s(Fe,bl),s(bl,Dt),s(Fe,At),se&&se.m(Fe,null),s(ll,Vt),s(ll,Q),s(Q,Ze),s(Ze,Mt),s(Q,Ut),s(Q,$),H($,e[0].z_spacing),s(Q,jt),s(Q,qe),s(qe,Bt),s(Q,Lt),s(Q,x),H(x,e[0].z_from),s(Q,Ft),s(Q,He),s(He,Zt),s(Q,qt),s(Q,ee),H(ee,e[0].z_to),ge=!0,Ht||(Xt=[G(a,"input",e[10]),G(z,"input",e[16]),de(We.call(null,z,[.01,.99])),G(ve,"input",e[17]),de(We.call(null,ve,[0,25e3])),G(be,"input",e[19]),de(We.call(null,be,[0,6e4])),G(sl,"change",e[21]),de(nt.call(null,Ze,"Nyquist is 232.")),G($,"input",e[22]),de(We.call(null,$,[1,6e4])),de(nt.call(null,qe,"Multiple of Spacing")),G(x,"input",e[23]),de(We.call(null,x,[-100,100])),de(nt.call(null,He,"Multiple of Spacing")),G(ee,"input",e[24]),de(We.call(null,ee,[-100,100]))],Ht=!0)},p(d,[S]){S&1&&a.value!==d[0].name&&H(a,d[0].name),S&257&&A(a,"invalid",d[8](d[0].name)),d[3]?Y?S&8&&ne(Y,1):(Y=_s(d),Y.c(),ne(Y,1),Y.m(f,null)):Y&&(hs(),ue(Y,1,1,()=>{Y=null}),vs()),d[3]?te&&(te.d(1),te=null):te?te.p(d,S):(te=ps(d),te.c(),te.m(t,null));const Xe={};!i&&S&1&&(i=!0,Xe.params=d[0],tt(()=>i=!1)),D.$set(Xe);const Nl={};!F&&S&1&&(F=!0,Nl.params=d[0],tt(()=>F=!1)),P.$set(Nl),S&16&&A(w,"opacity-70",d[4].block);const dl={};!rl&&S&1&&(rl=!0,dl.xy=d[0].xy0,tt(()=>rl=!1)),q.$set(dl);const cl={};!ul&&S&1&&(ul=!0,cl.xy=d[0].xy1,tt(()=>ul=!1)),oe.$set(cl),S&1&&R(z.value)!==d[0].overlap&&H(z,d[0].overlap),(!ge||S&2)&&we!==(we=d[1].width.toFixed(2)+"")&&ce(Ve,we),(!ge||S&2)&&Re!==(Re=d[1].height.toFixed(2)+"")&&ce(Ue,Re),(!ge||S&2)&&zl!==(zl=d[1].n_cols+"")&&ce(Dl,zl),(!ge||S&2)&&Il!==(Il=d[1].n_bundles+"")&&ce(Al,Il),(!ge||S&2)&&wl!==(wl=El(d[1].time)+"")&&ce(Vl,wl),d[2]?ie||(ie=ds(),ie.c(),ie.m(ze,null)):ie&&(ie.d(1),ie=null),S&4&&A(ze,"font-semibold",!d[2]),S&8&&A(T,"-mt-20",d[3]),S&1&&R(ve.value)!==d[0].z_tilt&&H(ve,d[0].z_tilt),S&1&&R(be.value)!==d[0].z_obj&&H(be,d[0].z_obj),S&4&&(sl.checked=d[2]),d[2]?se?se.p(d,S):(se=cs(d),se.c(),se.m(Fe,null)):se&&(se.d(1),se=null),S&20&&A(Ze,"span-disabled",d[4].block||!d[2]),(!ge||S&20&&Ml!==(Ml=d[4].block||!d[2]))&&($.disabled=Ml),S&1&&R($.value)!==d[0].z_spacing&&H($,d[0].z_spacing),S&20&&A($,"disabled",d[4].block||!d[2]),S&20&&A(qe,"span-disabled",d[4].block||!d[2]),(!ge||S&20&&Ul!==(Ul=d[4].block||!d[2]))&&(x.disabled=Ul),S&1&&R(x.value)!==d[0].z_from&&H(x,d[0].z_from),S&20&&A(x,"disabled",d[4].block||!d[2]),S&20&&A(He,"span-disabled",d[4].block||!d[2]),(!ge||S&20&&jl!==(jl=d[4].block||!d[2]))&&(ee.disabled=jl),S&1&&R(ee.value)!==d[0].z_to&&H(ee,d[0].z_to),S&20&&A(ee,"disabled",d[4].block||!d[2])},i(d){ge||(ne(Y),ne(D.$$.fragment,d),ne(P.$$.fragment,d),ne(q.$$.fragment,d),ne(oe.$$.fragment,d),ne(xe.$$.fragment,d),ne(el.$$.fragment,d),ge=!0)},o(d){ue(Y),ue(D.$$.fragment,d),ue(P.$$.fragment,d),ue(q.$$.fragment,d),ue(oe.$$.fragment,d),ue(xe.$$.fragment,d),ue(el.$$.fragment,d),ge=!1},d(d){d&&r(l),Y&&Y.d(),te&&te.d(),Se(D),Se(P),Se(q),Se(oe),ie&&ie.d(),Se(xe),Se(el),se&&se.d(),Ht=!1,ft(Xt)}}}function Gs(e,l){e&&(e.querySelectorAll("input").forEach(t=>t.disabled=l),e.querySelectorAll("select").forEach(t=>t.disabled=l),e.querySelectorAll("button").forEach(t=>t.disabled=l))}function El(e){const l=new Date(e*1e3).toISOString();return e>3600?`${l.substring(11,19)} hrs`:`${l.substring(14,19)} mins`}function Ys(e,l,t){let o,v,u;Ge(e,st,C=>t(4,o=C)),Ge(e,al,C=>t(25,v=C)),Ge(e,ol,C=>t(6,u=C));let{inAuto:f=!0}=l,{params:a}=l,{stats:b={height:0,width:0,n_cols:0,n_bundles:0,n_z:1,time:0}}=l,{z_stack:m=!1}=l,{fc_:V=0}=l,c="";fetch(`http://${window.location.hostname}:8000/path`).then(C=>C.json()).then(C=>t(5,c=C.path));function g(){Ie(al,v.image_params.xy0=a.xy0,v),Ie(al,v.image_params.xy1=a.xy1,v)}function I(C){if(!C)return!0;if(!f)return!1;const Ce=v.exps[V].cmds.filter(q=>q.cmd.op==="takeimage").map(q=>q.cmd.name);return Cs(Ce)[C]>1}function j(){a.name=this.value,t(0,a)}function w(){a.path=this.value,t(0,a)}function D(C){a=C,t(0,a)}function i(C){a=C,t(0,a)}function k(C){e.$$.not_equal(a.xy0,C)&&(a.xy0=C,t(0,a))}function P(C){e.$$.not_equal(a.xy1,C)&&(a.xy1=C,t(0,a))}function F(){a.overlap=R(this.value),t(0,a)}function X(){a.z_tilt=R(this.value),t(0,a)}const T=()=>Ie(ol,u={move:{z_tilt:a.z_tilt}},u);function M(){a.z_obj=R(this.value),t(0,a)}const B=()=>Ie(ol,u={move:{z_obj:a.z_obj}},u);function Z(){m=this.checked,t(2,m)}function W(){a.z_spacing=R(this.value),t(0,a)}function J(){a.z_from=R(this.value),t(0,a)}function K(){a.z_to=R(this.value),t(0,a)}return e.$$set=C=>{"inAuto"in C&&t(3,f=C.inAuto),"params"in C&&t(0,a=C.params),"stats"in C&&t(1,b=C.stats),"z_stack"in C&&t(2,m=C.z_stack),"fc_"in C&&t(9,V=C.fc_)},e.$$.update=()=>{e.$$.dirty&16&&Gs(document.getElementById("control"),o.block),e.$$.dirty&1&&t(1,b.height=Math.max(a.xy1[1],a.xy0[1])-Math.min(a.xy1[1],a.xy0[1]),b),e.$$.dirty&1&&t(1,b.width=Math.max(a.xy1[0],a.xy0[0])-Math.min(a.xy1[0],a.xy0[0]),b),e.$$.dirty&3&&t(1,b.n_cols=Math.ceil(b.width/(.768*(1-a.overlap))),b),e.$$.dirty&2&&t(1,b.n_bundles=Math.ceil(b.height/.048),b),e.$$.dirty&2&&t(1,b.time=b.n_bundles*b.n_cols/20,b),e.$$.dirty&1&&t(1,b.n_z=Math.abs(a.z_to-a.z_from)+1,b)},[a,b,m,f,o,c,u,g,I,V,j,w,D,i,k,P,F,X,T,M,B,Z,W,J,K]}class $s extends rt{constructor(l){super();it(this,l,Ys,Ws,ut,{inAuto:3,params:0,stats:1,z_stack:2,fc_:9})}}export{$s as T};
