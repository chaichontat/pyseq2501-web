var zs=Object.defineProperty;var us=Object.getOwnPropertySymbols;var Ps=Object.prototype.hasOwnProperty,ws=Object.prototype.propertyIsEnumerable;var fs=(e,l,t)=>l in e?zs(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,Ft=(e,l)=>{for(var t in l||(l={}))Ps.call(l,t)&&fs(e,t,l[t]);if(us)for(var t of us(l))ws.call(l,t)&&fs(e,t,l[t]);return e};import{ah as Ns,S as at,i as nt,s as ot,e as f,c as _,a as m,d as r,b as a,_ as el,g as U,n as bs,o as ue,p as gs,q as ae,F as Os,I as Ts,J as Ss,K as Cs,w as Ne,x as Oe,y as Te,M as Ds,B as Se,t as b,h as g,k as T,O as lt,m as S,P as tt,R as A,H as s,$ as W,T as Y,a0 as ye,Z as R,U as Ht,N as st,Y as As,j as de,Q as Kl,W as Ql,X as $l,V as xl}from"./vendor-b4247f54.js";import{s as Vs,u as et,c as Zt}from"./store-2be0a284.js";import{r as Ms}from"./coords-813c65ab.js";import{S as Us,c as Xe,a as Bs}from"./spinning-8a0bc7b0.js";var qt=(e,l,t)=>{e.setAttribute("aria-label",l),e.title="";const n=Ns(e,Ft({content:l,delay:[100,0]},t));return{update:p=>n.setProps(Ft({},p)),destroy:()=>n.destroy()}};function js(e){let l,t;const n=e[6].default,p=Os(n,e,e[5],null),d=p||Fs();return{c(){l=f("div"),d&&d.c(),this.h()},l(o){l=_(o,"DIV",{class:!0});var i=m(l);d&&d.l(i),i.forEach(r),this.h()},h(){a(l,"class","mx-auto")},m(o,i){U(o,l,i),d&&d.m(l,null),t=!0},p(o,i){p&&p.p&&(!t||i&32)&&Ts(p,n,o,o[5],t?Cs(n,o[5],i,null):Ss(o[5]),null)},i(o){t||(ae(d,o),t=!0)},o(o){ue(d,o),t=!1},d(o){o&&r(l),d&&d.d(o)}}}function Ls(e){let l,t,n;return t=new Us({props:{color:"black"}}),{c(){l=f("div"),Ne(t.$$.fragment),this.h()},l(p){l=_(p,"DIV",{class:!0});var d=m(l);Oe(t.$$.fragment,d),d.forEach(r),this.h()},h(){a(l,"class","mx-auto opacity-40")},m(p,d){U(p,l,d),Te(t,l,null),n=!0},p:Ds,i(p){n||(ae(t.$$.fragment,p),n=!0)},o(p){ue(t.$$.fragment,p),n=!1},d(p){p&&r(l),Se(t)}}}function Fs(e){let l;return{c(){l=b("Go")},l(t){l=g(t,"Go")},m(t,n){U(t,l,n)},d(t){t&&r(l)}}}function Zs(e){let l,t,n,p,d;const o=[Ls,js],i=[];function w(h,E){return h[1]?0:1}return t=w(e),n=i[t]=o[t](e),{c(){l=f("button"),n.c(),this.h()},l(h){l=_(h,"BUTTON",{type:!0,class:!0,tabindex:!0});var E=m(l);n.l(E),E.forEach(r),this.h()},h(){a(l,"type","button"),a(l,"class",p=el(`px-4 py-1 text-sm font-semibold rounded-lg white-button ${e[4][e[2]]} disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500 ${e[3]}`)+" svelte-1rnzpdo"),a(l,"tabindex","0"),l.disabled=e[0]},m(h,E){U(h,l,E),i[t].m(l,null),d=!0},p(h,[E]){let z=t;t=w(h),t===z?i[t].p(h,E):(bs(),ue(i[z],1,1,()=>{i[z]=null}),gs(),n=i[t],n?n.p(h,E):(n=i[t]=o[t](h),n.c()),ae(n,1),n.m(l,null)),(!d||E&12&&p!==(p=el(`px-4 py-1 text-sm font-semibold rounded-lg white-button ${h[4][h[2]]} disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500 ${h[3]}`)+" svelte-1rnzpdo"))&&a(l,"class",p),(!d||E&1)&&(l.disabled=h[0])},i(h){d||(ae(n),d=!0)},o(h){ue(n),d=!1},d(h){h&&r(l),i[t].d()}}}function qs(e,l,t){let{$$slots:n={},$$scope:p}=l,{disabled:d=!1}=l,{spin:o=!1}=l,{color:i="indigo"}=l,{cl:w=""}=l;const h={blue:"text-blue-800 border-blue-300 hover:bg-blue-100 active:bg-blue-200 bg-blue-50",indigo:"text-indigo-800 border-indigo-300 hover:bg-indigo-100 active:bg-indigo-200 bg-indigo-50",green:"text-green-800 border-green-300 hover:bg-green-100 active:bg-green-200 bg-green-50",sky:"text-sky-800 border-sky-300 hover:bg-sky-100 active:bg-sky-200 bg-sky-50"};return e.$$set=E=>{"disabled"in E&&t(0,d=E.disabled),"spin"in E&&t(1,o=E.spin),"color"in E&&t(2,i=E.color),"cl"in E&&t(3,w=E.cl),"$$scope"in E&&t(5,p=E.$$scope)},[d,o,i,w,h,p,n]}class Nl extends at{constructor(l){super();nt(this,l,qs,Zs,ot,{disabled:0,spin:1,color:2,cl:3})}}function Hs(e){let l,t,n,p,d,o,i,w,h,E,z,k,O,L,I,B,u,v,N,Z,H,j,X,F;return I=new Nl({props:{disabled:e[1].block}}),I.$on("click",e[8]),{c(){l=f("div"),t=f("div"),n=f("span"),p=b("X"),d=T(),o=f("input"),w=T(),h=f("span"),E=b("Y"),z=T(),k=f("input"),L=T(),Ne(I.$$.fragment),B=T(),u=f("button"),v=lt("svg"),N=lt("path"),Z=b(`
    Current`),this.h()},l(D){l=_(D,"DIV",{class:!0});var M=m(l);t=_(M,"DIV",{class:!0});var P=m(t);n=_(P,"SPAN",{class:!0});var J=m(n);p=g(J,"X"),J.forEach(r),d=S(P),o=_(P,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),w=S(P),h=_(P,"SPAN",{class:!0});var ne=m(h);E=g(ne,"Y"),ne.forEach(r),z=S(P),k=_(P,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),P.forEach(r),L=S(M),Oe(I.$$.fragment,M),B=S(M),u=_(M,"BUTTON",{type:!0,class:!0});var ke=m(u);v=tt(ke,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var q=m(v);N=tt(q,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(N).forEach(r),q.forEach(r),Z=g(ke,`
    Current`),ke.forEach(r),M.forEach(r),this.h()},h(){a(n,"class","flex items-center border-l rounded-l-lg color-group svelte-awp8a4"),A(n,"span-disabled",e[1].block),a(o,"type","number"),a(o,"min","-5"),a(o,"max","30"),a(o,"step","0.01"),a(o,"class","z-10 h-10 text-center rounded-none pretty w-28"),o.disabled=i=e[1].block,a(h,"class","flex items-center color-group svelte-awp8a4"),A(h,"span-disabled",e[1].block),a(k,"type","number"),a(k,"min","-5"),a(k,"max","80"),a(k,"step","0.01"),a(k,"class","z-10 h-10 text-center rounded-l-none rounded-r-lg pretty w-28"),k.disabled=O=e[1].block,a(t,"class","flex font-medium"),a(N,"stroke-linecap","round"),a(N,"stroke-linejoin","round"),a(N,"stroke-width","2"),a(N,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),a(v,"xmlns","http://www.w3.org/2000/svg"),a(v,"class","w-5 h-5 mr-1"),a(v,"fill","none"),a(v,"viewBox","0 0 24 24"),a(v,"stroke","currentColor"),a(u,"type","button"),a(u,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),u.disabled=H=e[1].block,a(l,"class","flex gap-x-2")},m(D,M){U(D,l,M),s(l,t),s(t,n),s(n,p),s(t,d),s(t,o),W(o,e[0][0]),s(t,w),s(t,h),s(h,E),s(t,z),s(t,k),W(k,e[0][1]),s(l,L),Te(I,l,null),s(l,B),s(l,u),s(u,v),s(v,N),s(u,Z),j=!0,X||(F=[Y(o,"input",e[4]),Y(o,"change",e[5]),ye(Xe.call(null,o,[-5,30])),Y(k,"input",e[6]),Y(k,"change",e[7]),ye(Xe.call(null,k,[-5,80])),Y(u,"click",e[3])],X=!0)},p(D,[M]){M&2&&A(n,"span-disabled",D[1].block),(!j||M&2&&i!==(i=D[1].block))&&(o.disabled=i),M&1&&R(o.value)!==D[0][0]&&W(o,D[0][0]),M&2&&A(h,"span-disabled",D[1].block),(!j||M&2&&O!==(O=D[1].block))&&(k.disabled=O),M&1&&R(k.value)!==D[0][1]&&W(k,D[0][1]);const P={};M&2&&(P.disabled=D[1].block),I.$set(P),(!j||M&2&&H!==(H=D[1].block))&&(u.disabled=H)},i(D){j||(ae(I.$$.fragment,D),j=!0)},o(D){ue(I.$$.fragment,D),j=!1},d(D){D&&r(l),Se(I),X=!1,Ht(F)}}}function Xs(e,l,t){let n,p;st(e,Vs,O=>t(9,n=O)),st(e,et,O=>t(1,p=O));let{xy:d=[-1,-1]}=l;const o=As();function i(){const{x:O,y:L}=Ms(p.image_params.fc,n.x,n.y);t(0,d[0]=Math.round((O+Number.EPSILON)*100)/100,d),t(0,d[1]=Math.round((L+Number.EPSILON)*100)/100,d)}function w(){d[0]=R(this.value),t(0,d)}const h=()=>o("change");function E(){d[1]=R(this.value),t(0,d)}const z=()=>o("change"),k=()=>o("go");return e.$$set=O=>{"xy"in O&&t(0,d=O.xy)},[d,p,o,i,w,h,E,z,k]}class _s extends at{constructor(l){super();nt(this,l,Xs,Hs,ot,{xy:0})}}function Ws(e){let l;return{c(){l=b("Set")},l(t){l=g(t,"Set")},m(t,n){U(t,l,n)},d(t){t&&r(l)}}}function Gs(e){let l,t,n,p,d,o,i,w,h,E,z,k,O,L,I,B;return{c(){l=f("option"),t=b("Open"),n=f("option"),p=b("0.2"),d=f("option"),o=b("0.5"),i=f("option"),w=b("0.6"),h=f("option"),E=b("1.0"),z=f("option"),k=b("2.4"),O=f("option"),L=b("4.0"),I=f("option"),B=b("Closed"),this.h()},l(u){l=_(u,"OPTION",{});var v=m(l);t=g(v,"Open"),v.forEach(r),n=_(u,"OPTION",{});var N=m(n);p=g(N,"0.2"),N.forEach(r),d=_(u,"OPTION",{});var Z=m(d);o=g(Z,"0.5"),Z.forEach(r),i=_(u,"OPTION",{});var H=m(i);w=g(H,"0.6"),H.forEach(r),h=_(u,"OPTION",{});var j=m(h);E=g(j,"1.0"),j.forEach(r),z=_(u,"OPTION",{});var X=m(z);k=g(X,"2.4"),X.forEach(r),O=_(u,"OPTION",{});var F=m(O);L=g(F,"4.0"),F.forEach(r),I=_(u,"OPTION",{});var D=m(I);B=g(D,"Closed"),D.forEach(r),this.h()},h(){l.__value="Open",l.value=l.__value,n.__value="0.2",n.value=n.__value,d.__value="0.5",d.value=d.__value,i.__value="0.6",i.value=i.__value,h.__value="1.0",h.value=h.__value,z.__value="2.4",z.value=z.__value,O.__value="4.0",O.value=O.__value,I.__value="Closed",I.value=I.__value},m(u,v){U(u,l,v),s(l,t),U(u,n,v),s(n,p),U(u,d,v),s(d,o),U(u,i,v),s(i,w),U(u,h,v),s(h,E),U(u,z,v),s(z,k),U(u,O,v),s(O,L),U(u,I,v),s(I,B)},d(u){u&&r(l),u&&r(n),u&&r(d),u&&r(i),u&&r(h),u&&r(z),u&&r(O),u&&r(I)}}}function Ys(e){let l,t,n,p,d,o,i,w,h,E,z,k,O,L,I,B;return{c(){l=f("option"),t=b("Open"),n=f("option"),p=b("1.0"),d=f("option"),o=b("2.0"),i=f("option"),w=b("3.5"),h=f("option"),E=b("3.8"),z=f("option"),k=b("4.0"),O=f("option"),L=b("4.5"),I=f("option"),B=b("Closed"),this.h()},l(u){l=_(u,"OPTION",{});var v=m(l);t=g(v,"Open"),v.forEach(r),n=_(u,"OPTION",{});var N=m(n);p=g(N,"1.0"),N.forEach(r),d=_(u,"OPTION",{});var Z=m(d);o=g(Z,"2.0"),Z.forEach(r),i=_(u,"OPTION",{});var H=m(i);w=g(H,"3.5"),H.forEach(r),h=_(u,"OPTION",{});var j=m(h);E=g(j,"3.8"),j.forEach(r),z=_(u,"OPTION",{});var X=m(z);k=g(X,"4.0"),X.forEach(r),O=_(u,"OPTION",{});var F=m(O);L=g(F,"4.5"),F.forEach(r),I=_(u,"OPTION",{});var D=m(I);B=g(D,"Closed"),D.forEach(r),this.h()},h(){l.__value="Open",l.value=l.__value,n.__value="1.0",n.value=n.__value,d.__value="2.0",d.value=d.__value,i.__value="3.5",i.value=i.__value,h.__value="3.8",h.value=h.__value,z.__value="4.0",z.value=z.__value,O.__value="4.5",O.value=O.__value,I.__value="Closed",I.value=I.__value},m(u,v){U(u,l,v),s(l,t),U(u,n,v),s(n,p),U(u,d,v),s(d,o),U(u,i,v),s(i,w),U(u,h,v),s(h,E),U(u,z,v),s(z,k),U(u,O,v),s(O,L),U(u,I,v),s(I,B)},d(u){u&&r(l),u&&r(n),u&&r(d),u&&r(i),u&&r(h),u&&r(z),u&&r(O),u&&r(I)}}}function Rs(e){let l,t,n,p,d,o,i,w=(Boolean(e[1])?660:532)+"",h,E,z,k,O,L,I,B,u,v,N,Z,H=2*e[1]+"",j,X,F,D,M,P,J=2*e[1]+1+"",ne,ke,q,ll,ce,Ee,oe,tl,Ce=(Number(e[0].od[e[1]]!=-1)*e[0].lasers[e[1]]*Math.pow(10,-e[0].od[e[1]])).toFixed(4)+"",ee,sl,le,me,Ie;I=new Nl({props:{$$slots:{default:[Ws]},$$scope:{ctx:e}}});function De(y,V){return y[1]==0?Ys:Gs}let We=De(e),fe=We(e);return{c(){l=f("p"),t=f("span"),n=f("label"),p=f("input"),o=T(),i=f("div"),h=b(w),E=b(" nm"),z=T(),k=f("input"),L=b(`
    mW
    `),Ne(I.$$.fragment),B=T(),u=f("label"),v=f("input"),Z=b(`
    Channel `),j=b(H),X=T(),F=f("label"),D=f("input"),P=b(`
    Channel `),ne=b(J),ke=T(),q=f("span"),ll=b(`Filter OD
    `),ce=f("select"),fe.c(),Ee=T(),oe=f("p"),tl=b("Effective: "),ee=b(Ce),sl=b(" mW"),this.h()},l(y){l=_(y,"P",{class:!0});var V=m(l);t=_(V,"SPAN",{class:!0});var _e=m(t);n=_(_e,"LABEL",{});var re=m(n);p=_(re,"INPUT",{type:!0,class:!0}),o=S(re),i=_(re,"DIV",{class:!0});var pe=m(i);h=g(pe,w),E=g(pe," nm"),pe.forEach(r),re.forEach(r),z=S(_e),k=_(_e,"INPUT",{type:!0,class:!0,min:!0,max:!0}),L=g(_e,`
    mW
    `),Oe(I.$$.fragment,_e),_e.forEach(r),B=S(V),u=_(V,"LABEL",{class:!0});var Pe=m(u);v=_(Pe,"INPUT",{type:!0,class:!0}),Z=g(Pe,`
    Channel `),j=g(Pe,H),Pe.forEach(r),X=S(V),F=_(V,"LABEL",{class:!0});var Ae=m(F);D=_(Ae,"INPUT",{type:!0,class:!0}),P=g(Ae,`
    Channel `),ne=g(Ae,J),Ae.forEach(r),ke=S(V),q=_(V,"SPAN",{class:!0});var Ve=m(q);ll=g(Ve,`Filter OD
    `),ce=_(Ve,"SELECT",{class:!0});var Ge=m(ce);fe.l(Ge),Ge.forEach(r),Ee=S(Ve),oe=_(Ve,"P",{class:!0});var Me=m(oe);tl=g(Me,"Effective: "),ee=g(Me,Ce),sl=g(Me," mW"),Me.forEach(r),Ve.forEach(r),V.forEach(r),this.h()},h(){a(p,"type","checkbox"),a(p,"class",d=el(`rounded mr-1 ${e[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"),a(i,"class","inline font-semibold"),A(i,"text-green-800",e[0].laser_onoff[e[1]]&&!e[1]),A(i,"text-red-800",e[0].laser_onoff[e[1]]&&e[1]),a(k,"type","number"),a(k,"class","w-20 h-8 pretty"),a(k,"min","0"),a(k,"max","500"),k.disabled=O=!e[0].laser_onoff[e[1]],A(k,"pretty-disabled",!e[0].laser_onoff[0]),a(t,"class","flex items-center gap-x-2"),A(t,"text-gray-400",!e[0].laser_onoff[e[1]]),a(v,"type","checkbox"),a(v,"class",N=el(`mr-1 rounded ${e[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"),a(u,"class","rounded-lg channel ring-red-500 svelte-6ipz4o"),A(u,"text-gray-400",!e[0].channels[2*e[1]]),a(D,"type","checkbox"),a(D,"class",M=el(`mr-1 rounded ${e[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"),a(F,"class","channel svelte-6ipz4o"),A(F,"text-gray-400",!e[0].channels[2*e[1]+1]),a(ce,"class","py-1 text-sm border-gray-400 rounded-lg disabled:border-gray-300"),a(oe,"class","ml-3 text-sm font-medium"),a(q,"class","ml-8 font-normal opacity-85"),a(l,"class","flex flex-col")},m(y,V){U(y,l,V),s(l,t),s(t,n),s(n,p),p.checked=e[0].laser_onoff[e[1]],s(n,o),s(n,i),s(i,h),s(i,E),s(t,z),s(t,k),W(k,e[0].lasers[e[1]]),s(t,L),Te(I,t,null),s(l,B),s(l,u),s(u,v),v.checked=e[0].channels[2*e[1]],s(u,Z),s(u,j),s(l,X),s(l,F),s(F,D),D.checked=e[0].channels[2*e[1]+1],s(F,P),s(F,ne),s(l,ke),s(l,q),s(q,ll),s(q,ce),fe.m(ce,null),s(q,Ee),s(q,oe),s(oe,tl),s(oe,ee),s(oe,sl),le=!0,me||(Ie=[Y(p,"change",e[3]),Y(k,"input",e[4]),ye(Xe.call(null,k,[0,500])),Y(v,"change",e[5]),Y(D,"change",e[6]),Y(ce,"change",e[2])],me=!0)},p(y,[V]){(!le||V&2&&d!==(d=el(`rounded mr-1 ${y[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"))&&a(p,"class",d),V&3&&(p.checked=y[0].laser_onoff[y[1]]),(!le||V&2)&&w!==(w=(Boolean(y[1])?660:532)+"")&&de(h,w),V&3&&A(i,"text-green-800",y[0].laser_onoff[y[1]]&&!y[1]),V&3&&A(i,"text-red-800",y[0].laser_onoff[y[1]]&&y[1]),(!le||V&3&&O!==(O=!y[0].laser_onoff[y[1]]))&&(k.disabled=O),V&3&&R(k.value)!==y[0].lasers[y[1]]&&W(k,y[0].lasers[y[1]]),V&1&&A(k,"pretty-disabled",!y[0].laser_onoff[0]);const _e={};V&128&&(_e.$$scope={dirty:V,ctx:y}),I.$set(_e),V&3&&A(t,"text-gray-400",!y[0].laser_onoff[y[1]]),(!le||V&2&&N!==(N=el(`mr-1 rounded ${y[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"))&&a(v,"class",N),V&3&&(v.checked=y[0].channels[2*y[1]]),(!le||V&2)&&H!==(H=2*y[1]+"")&&de(j,H),V&3&&A(u,"text-gray-400",!y[0].channels[2*y[1]]),(!le||V&2&&M!==(M=el(`mr-1 rounded ${y[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"))&&a(D,"class",M),V&3&&(D.checked=y[0].channels[2*y[1]+1]),(!le||V&2)&&J!==(J=2*y[1]+1+"")&&de(ne,J),V&3&&A(F,"text-gray-400",!y[0].channels[2*y[1]+1]),We!==(We=De(y))&&(fe.d(1),fe=We(y),fe&&(fe.c(),fe.m(ce,null))),(!le||V&3)&&Ce!==(Ce=(Number(y[0].od[y[1]]!=-1)*y[0].lasers[y[1]]*Math.pow(10,-y[0].od[y[1]])).toFixed(4)+"")&&de(ee,Ce)},i(y){le||(ae(I.$$.fragment,y),le=!0)},o(y){ue(I.$$.fragment,y),le=!1},d(y){y&&r(l),Se(I),fe.d(),me=!1,Ht(Ie)}}}function Js(e,l,t){let{params:n}=l,{i:p}=l;function d(E){let z;switch(E.currentTarget.value){case"Open":z=0;break;case"Closed":z=-1;break;default:z=Number(E.currentTarget.value)}t(0,n.od[p]=z,n)}function o(){n.laser_onoff[p]=this.checked,t(0,n)}function i(){n.lasers[p]=R(this.value),t(0,n)}function w(){n.channels[2*p]=this.checked,t(0,n)}function h(){n.channels[2*p+1]=this.checked,t(0,n)}return e.$$set=E=>{"params"in E&&t(0,n=E.params),"i"in E&&t(1,p=E.i)},[n,p,d,o,i,w,h]}class ps extends at{constructor(l){super();nt(this,l,Js,Rs,ot,{params:0,i:1})}}function ds(e){let l,t;return l=new Nl({props:{color:"sky",cl:"text-lg font-semibold shadow-md shadow-sky-700/10 h-12",$$slots:{default:[Ks]},$$scope:{ctx:e}}}),{c(){Ne(l.$$.fragment)},l(n){Oe(l.$$.fragment,n)},m(n,p){Te(l,n,p),t=!0},i(n){t||(ae(l.$$.fragment,n),t=!0)},o(n){ue(l.$$.fragment,n),t=!1},d(n){Se(l,n)}}}function Ks(e){let l;return{c(){l=b("Preview")},l(t){l=g(t,"Preview")},m(t,n){U(t,l,n)},d(t){t&&r(l)}}}function cs(e){let l,t,n,p,d,o;return{c(){l=f("p"),t=b("Image Path"),n=T(),p=f("input"),this.h()},l(i){l=_(i,"P",{class:!0});var w=m(l);t=g(w,"Image Path"),w.forEach(r),n=S(i),p=_(i,"INPUT",{type:!0,class:!0}),this.h()},h(){a(l,"class","text-lg svelte-1m4l8fo"),a(p,"type","text"),a(p,"class","max-w-md mb-4 pretty"),A(p,"invalid",!e[0].path)},m(i,w){U(i,l,w),s(l,t),U(i,n,w),U(i,p,w),W(p,e[0].path),d||(o=Y(p,"input",e[10]),d=!0)},p(i,w){w&1&&p.value!==i[0].path&&W(p,i[0].path),w&1&&A(p,"invalid",!i[0].path)},d(i){i&&r(l),i&&r(n),i&&r(p),d=!1,o()}}}function ms(e){let l;return{c(){l=b("per z-stack.")},l(t){l=g(t,"per z-stack.")},m(t,n){U(t,l,n)},d(t){t&&r(l)}}}function vs(e){let l,t=e[1].n_z+"",n,p,d,o=e[0].z_obj+e[0].z_from*e[0].z_spacing+"",i,w,h=e[0].z_obj+e[0].z_to*e[0].z_spacing+"",E,z,k,O,L=(e[1].n_z?bl(e[1].n_z*e[1].time):bl(e[1].time))+"",I,B,u=e[1].n_z>1&&hs();return{c(){l=f("div"),n=b(t),p=b(" Z step"),u&&u.c(),d=b(" from "),i=b(o),w=b(" to "),E=b(h),z=T(),k=f("div"),O=b("Total time: "),I=b(L),B=b("."),this.h()},l(v){l=_(v,"DIV",{class:!0});var N=m(l);n=g(N,t),p=g(N," Z step"),u&&u.l(N),d=g(N," from "),i=g(N,o),w=g(N," to "),E=g(N,h),N.forEach(r),z=S(v),k=_(v,"DIV",{class:!0});var Z=m(k);O=g(Z,"Total time: "),I=g(Z,L),B=g(Z,"."),Z.forEach(r),this.h()},h(){a(l,"class","px-2 font-base"),a(k,"class","px-2 font-semibold")},m(v,N){U(v,l,N),s(l,n),s(l,p),u&&u.m(l,null),s(l,d),s(l,i),s(l,w),s(l,E),U(v,z,N),U(v,k,N),s(k,O),s(k,I),s(k,B)},p(v,N){N&2&&t!==(t=v[1].n_z+"")&&de(n,t),v[1].n_z>1?u||(u=hs(),u.c(),u.m(l,d)):u&&(u.d(1),u=null),N&1&&o!==(o=v[0].z_obj+v[0].z_from*v[0].z_spacing+"")&&de(i,o),N&1&&h!==(h=v[0].z_obj+v[0].z_to*v[0].z_spacing+"")&&de(E,h),N&2&&L!==(L=(v[1].n_z?bl(v[1].n_z*v[1].time):bl(v[1].time))+"")&&de(I,L)},d(v){v&&r(l),u&&u.d(),v&&r(z),v&&r(k)}}}function hs(e){let l;return{c(){l=b("s")},l(t){l=g(t,"s")},m(t,n){U(t,l,n)},d(t){t&&r(l)}}}function Qs(e){let l,t,n,p,d,o,i,w,h,E,z,k,O,L,I,B,u,v,N,Z,H,j,X,F,D,M,P,J,ne,ke,q,ll,ce,Ee,oe,tl,Ce,ee,sl,le,me,Ie,De,We,fe,y,V,_e,re,pe,Pe=e[1].width.toFixed(2)+"",Ae,Ve,Ge=e[1].height.toFixed(2)+"",Me,rt,it,Ue,gl=e[1].n_cols+"",Ol,ut,yl=e[1].n_bundles+"",Tl,ft,_t,ze,kl=bl(e[1].time)+"",Sl,pt,dt,Ye,_l,ct,mt,Re,Je,al,pl,vt,ht,Ke,ve,bt,nl,gt,ol,dl,yt,kt,we,he,Et,rl,It,Be,je,il,zt,El,Pt,wt,Qe,$e,xe,Nt,Le,cl,Ot,Tt,St,K,Fe,Ct,Dt,Q,Cl,At,Ze,Vt,Mt,$,Dl,Ut,qe,Bt,jt,x,Al,be,Lt,Xt,G=e[3]&&ds(e),te=!e[3]&&cs(e);function ys(c){e[11](c)}let Wt={i:0};e[0]!==void 0&&(Wt.params=e[0]),B=new ps({props:Wt}),Kl.push(()=>Ql(B,"params",ys));function ks(c){e[12](c)}let Gt={i:1};e[0]!==void 0&&(Gt.params=e[0]),N=new ps({props:Gt}),Kl.push(()=>Ql(N,"params",ks));function Es(c){e[13](c)}let Yt={};e[0].xy0!==void 0&&(Yt.xy=e[0].xy0),q=new _s({props:Yt}),Kl.push(()=>Ql(q,"xy",Es)),q.$on("change",e[6]),q.$on("go",e[14]);function Is(c){e[15](c)}let Rt={};e[0].xy1!==void 0&&(Rt.xy=e[0].xy1),ee=new _s({props:Rt}),Kl.push(()=>Ql(ee,"xy",Is)),ee.$on("change",e[6]),ee.$on("go",e[16]);let ie=e[2]&&ms();nl=new Nl({}),rl=new Nl({});let se=e[2]&&vs(e);return{c(){l=f("div"),t=f("section"),n=f("p"),p=b("Name"),d=T(),o=f("div"),i=f("input"),w=T(),G&&G.c(),h=T(),te&&te.c(),E=T(),z=f("section"),k=f("h2"),O=b("Laser and Channels"),L=T(),I=f("div"),Ne(B.$$.fragment),v=T(),Ne(N.$$.fragment),H=T(),j=f("section"),X=f("h2"),F=b("Positions"),D=T(),M=f("div"),P=f("div"),J=f("p"),ne=b("\u{1F4CC} Corner 1"),ke=T(),Ne(q.$$.fragment),ce=T(),Ee=f("div"),oe=f("p"),tl=b("\u{1F4CD} Corner 2"),Ce=T(),Ne(ee.$$.fragment),le=T(),me=f("div"),Ie=f("div"),De=f("p"),We=b("X-Overlap"),fe=T(),y=f("input"),V=b(`
          (0-1)`),_e=T(),re=f("div"),pe=f("span"),Ae=b(Pe),Ve=b(" \xD7 "),Me=b(Ge),rt=b(" mm."),it=T(),Ue=f("span"),Ol=b(gl),ut=b(" columns of "),Tl=b(yl),ft=b(" bundles."),_t=T(),ze=f("span"),Sl=b(kl),pt=T(),ie&&ie.c(),dt=T(),Ye=f("section"),_l=f("h2"),ct=b("Focus"),mt=T(),Re=f("div"),Je=f("div"),al=f("div"),pl=f("p"),vt=b("Z Tilt"),ht=T(),Ke=f("div"),ve=f("input"),bt=T(),Ne(nl.$$.fragment),gt=T(),ol=f("div"),dl=f("p"),yt=b("Z Objective"),kt=T(),we=f("span"),he=f("input"),Et=T(),Ne(rl.$$.fragment),It=T(),Be=f("button"),je=lt("svg"),il=lt("path"),zt=T(),El=f("span"),Pt=b("Autofocus"),wt=T(),Qe=f("div"),$e=f("label"),xe=f("input"),Nt=T(),Le=f("div"),cl=f("div"),Ot=b("Z-Stack"),Tt=T(),se&&se.c(),St=T(),K=f("div"),Fe=f("span"),Ct=b("Spacing"),Dt=T(),Q=f("input"),At=T(),Ze=f("span"),Vt=b("From"),Mt=T(),$=f("input"),Ut=T(),qe=f("span"),Bt=b("To"),jt=T(),x=f("input"),this.h()},l(c){l=_(c,"DIV",{id:!0,class:!0});var C=m(l);t=_(C,"SECTION",{class:!0});var He=m(t);n=_(He,"P",{class:!0});var Il=m(n);p=g(Il,"Name"),Il.forEach(r),d=S(He),o=_(He,"DIV",{class:!0});var ul=m(o);i=_(ul,"INPUT",{type:!0,class:!0}),w=S(ul),G&&G.l(ul),ul.forEach(r),h=S(He),te&&te.l(He),He.forEach(r),E=S(C),z=_(C,"SECTION",{class:!0});var fl=m(z);k=_(fl,"H2",{class:!0});var Jt=m(k);O=g(Jt,"Laser and Channels"),Jt.forEach(r),L=S(fl),I=_(fl,"DIV",{class:!0});var Vl=m(I);Oe(B.$$.fragment,Vl),v=S(Vl),Oe(N.$$.fragment,Vl),Vl.forEach(r),fl.forEach(r),H=S(C),j=_(C,"SECTION",{class:!0});var Ml=m(j);X=_(Ml,"H2",{class:!0});var Kt=m(X);F=g(Kt,"Positions"),Kt.forEach(r),D=S(Ml),M=_(Ml,"DIV",{class:!0});var ml=m(M);P=_(ml,"DIV",{});var Ul=m(P);J=_(Ul,"P",{class:!0});var Qt=m(J);ne=g(Qt,"\u{1F4CC} Corner 1"),Qt.forEach(r),ke=S(Ul),Oe(q.$$.fragment,Ul),Ul.forEach(r),ce=S(ml),Ee=_(ml,"DIV",{});var Bl=m(Ee);oe=_(Bl,"P",{class:!0});var $t=m(oe);tl=g($t,"\u{1F4CD} Corner 2"),$t.forEach(r),Ce=S(Bl),Oe(ee.$$.fragment,Bl),Bl.forEach(r),le=S(ml),me=_(ml,"DIV",{class:!0});var jl=m(me);Ie=_(jl,"DIV",{});var zl=m(Ie);De=_(zl,"P",{class:!0});var xt=m(De);We=g(xt,"X-Overlap"),xt.forEach(r),fe=S(zl),y=_(zl,"INPUT",{type:!0,class:!0,step:!0,min:!0,max:!0}),V=g(zl,`
          (0-1)`),zl.forEach(r),_e=S(jl),re=_(jl,"DIV",{class:!0});var vl=m(re);pe=_(vl,"SPAN",{class:!0});var Pl=m(pe);Ae=g(Pl,Pe),Ve=g(Pl," \xD7 "),Me=g(Pl,Ge),rt=g(Pl," mm."),Pl.forEach(r),it=S(vl),Ue=_(vl,"SPAN",{class:!0});var wl=m(Ue);Ol=g(wl,gl),ut=g(wl," columns of "),Tl=g(wl,yl),ft=g(wl," bundles."),wl.forEach(r),_t=S(vl),ze=_(vl,"SPAN",{class:!0});var Ll=m(ze);Sl=g(Ll,kl),pt=S(Ll),ie&&ie.l(Ll),Ll.forEach(r),vl.forEach(r),jl.forEach(r),ml.forEach(r),Ml.forEach(r),dt=S(C),Ye=_(C,"SECTION",{class:!0});var Fl=m(Ye);_l=_(Fl,"H2",{class:!0});var es=m(_l);ct=g(es,"Focus"),es.forEach(r),mt=S(Fl),Re=_(Fl,"DIV",{class:!0});var Zl=m(Re);Je=_(Zl,"DIV",{class:!0});var ql=m(Je);al=_(ql,"DIV",{});var Hl=m(al);pl=_(Hl,"P",{class:!0});var ls=m(pl);vt=g(ls,"Z Tilt"),ls.forEach(r),ht=S(Hl),Ke=_(Hl,"DIV",{class:!0});var Xl=m(Ke);ve=_(Xl,"INPUT",{type:!0,class:!0,min:!0,max:!0}),bt=S(Xl),Oe(nl.$$.fragment,Xl),Xl.forEach(r),Hl.forEach(r),gt=S(ql),ol=_(ql,"DIV",{});var Wl=m(ol);dl=_(Wl,"P",{class:!0});var ts=m(dl);yt=g(ts,"Z Objective"),ts.forEach(r),kt=S(Wl),we=_(Wl,"SPAN",{class:!0});var hl=m(we);he=_(hl,"INPUT",{type:!0,class:!0,min:!0,max:!0}),Et=S(hl),Oe(rl.$$.fragment,hl),It=S(hl),Be=_(hl,"BUTTON",{type:!0,class:!0});var Gl=m(Be);je=tt(Gl,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var ss=m(je);il=tt(ss,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(il).forEach(r),ss.forEach(r),zt=S(Gl),El=_(Gl,"SPAN",{});var as=m(El);Pt=g(as,"Autofocus"),as.forEach(r),Gl.forEach(r),hl.forEach(r),Wl.forEach(r),ql.forEach(r),wt=S(Zl),Qe=_(Zl,"DIV",{class:!0});var Yl=m(Qe);$e=_(Yl,"LABEL",{class:!0});var Rl=m($e);xe=_(Rl,"INPUT",{type:!0,class:!0}),Nt=S(Rl),Le=_(Rl,"DIV",{class:!0});var Jl=m(Le);cl=_(Jl,"DIV",{class:!0});var ns=m(cl);Ot=g(ns,"Z-Stack"),ns.forEach(r),Tt=S(Jl),se&&se.l(Jl),Jl.forEach(r),Rl.forEach(r),St=S(Yl),K=_(Yl,"DIV",{class:!0,id:!0});var ge=m(K);Fe=_(ge,"SPAN",{class:!0});var os=m(Fe);Ct=g(os,"Spacing"),os.forEach(r),Dt=S(ge),Q=_(ge,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),At=S(ge),Ze=_(ge,"SPAN",{class:!0});var rs=m(Ze);Vt=g(rs,"From"),rs.forEach(r),Mt=S(ge),$=_(ge,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Ut=S(ge),qe=_(ge,"SPAN",{class:!0});var is=m(qe);Bt=g(is,"To"),is.forEach(r),jt=S(ge),x=_(ge,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ge.forEach(r),Yl.forEach(r),Zl.forEach(r),Fl.forEach(r),C.forEach(r),this.h()},h(){a(n,"class","mt-1 text-lg svelte-1m4l8fo"),a(i,"type","text"),a(i,"class","flex-grow mb-4 pretty text-lg h-12"),A(i,"invalid",e[7](e[0].name)),a(o,"class","flex w-full max-w-md gap-x-2"),a(t,"class","flex flex-col text-lg font-medium"),a(k,"class","svelte-1m4l8fo"),a(I,"class","grid grid-cols-2"),A(I,"opacity-70",e[4].block),a(z,"class","font-medium leading-10 "),a(X,"class","svelte-1m4l8fo"),a(J,"class","svelte-1m4l8fo"),a(oe,"class","svelte-1m4l8fo"),a(De,"class","svelte-1m4l8fo"),a(y,"type","number"),a(y,"class","w-20 pr-2 pretty"),a(y,"step","0.01"),a(y,"min","0"),a(y,"max","0.99"),a(pe,"class","tabular-nums"),a(Ue,"class","tabular-nums"),a(ze,"class","tabular-nums"),A(ze,"font-semibold",!e[2]),a(re,"class","flex flex-col justify-center font-normal"),a(me,"class","flex gap-8"),a(M,"class","-mt-1 space-y-4"),a(j,"class","flex flex-col gap-2"),A(j,"-mt-20",e[3]),a(_l,"class","svelte-1m4l8fo"),a(pl,"class","svelte-1m4l8fo"),a(ve,"type","number"),a(ve,"class","w-28 pretty"),a(ve,"min","0"),a(ve,"max","25000"),a(Ke,"class","flex gap-2"),a(dl,"class","svelte-1m4l8fo"),a(he,"type","number"),a(he,"class","w-28 pretty"),a(he,"min","0"),a(he,"max","60000"),a(il,"fill-rule","evenodd"),a(il,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),a(il,"clip-rule","evenodd"),a(je,"xmlns","http://www.w3.org/2000/svg"),a(je,"class","w-5 h-5 mr-1"),a(je,"viewBox","0 0 20 20"),a(je,"fill","currentColor"),a(Be,"type","button"),a(Be,"class","px-4 py-1 font-medium text-gray-900 rounded-lg w-36 white-button"),a(we,"class","flex gap-2"),a(Je,"class","flex space-x-8"),a(xe,"type","checkbox"),a(xe,"class","mr-1 rounded"),a(cl,"class","pr-2"),a(Le,"class","flex divide-x-2"),a($e,"class","flex items-center gap-x-1"),a(Fe,"class","flex items-center border-l rounded-l-lg color-group svelte-1m4l8fo"),A(Fe,"span-disabled",e[4].block||!e[2]),a(Q,"type","number"),a(Q,"min","1"),a(Q,"max","60000"),a(Q,"step","1"),a(Q,"class","z-10 h-10 text-center rounded-none pretty w-28"),Q.disabled=Cl=e[4].block||!e[2],A(Q,"disabled",e[4].block||!e[2]),a(Ze,"class","flex items-center color-group svelte-1m4l8fo"),A(Ze,"span-disabled",e[4].block||!e[2]),a($,"type","number"),a($,"min","-100"),a($,"max","100"),a($,"step","1"),a($,"class","z-10 w-16 h-10 text-center rounded-none pretty"),$.disabled=Dl=e[4].block||!e[2],A($,"disabled",e[4].block||!e[2]),a(qe,"class","flex items-center color-group svelte-1m4l8fo"),A(qe,"span-disabled",e[4].block||!e[2]),a(x,"type","number"),a(x,"min","-100"),a(x,"max","100"),a(x,"step","1"),a(x,"class","z-10 w-16 h-10 text-center rounded-l-none rounded-r-lg pretty"),x.disabled=Al=e[4].block||!e[2],A(x,"disabled",e[4].block||!e[2]),a(K,"class","flex font-medium"),a(K,"id","zBox"),a(Qe,"class","space-y-2"),a(Re,"class","-mt-1 space-y-4"),a(Ye,"class","flex flex-col gap-2"),a(l,"id","control"),a(l,"class","grid grid-cols-2 gap-y-6 gap-x-4")},m(c,C){U(c,l,C),s(l,t),s(t,n),s(n,p),s(t,d),s(t,o),s(o,i),W(i,e[0].name),s(o,w),G&&G.m(o,null),s(t,h),te&&te.m(t,null),s(l,E),s(l,z),s(z,k),s(k,O),s(z,L),s(z,I),Te(B,I,null),s(I,v),Te(N,I,null),s(l,H),s(l,j),s(j,X),s(X,F),s(j,D),s(j,M),s(M,P),s(P,J),s(J,ne),s(P,ke),Te(q,P,null),s(M,ce),s(M,Ee),s(Ee,oe),s(oe,tl),s(Ee,Ce),Te(ee,Ee,null),s(M,le),s(M,me),s(me,Ie),s(Ie,De),s(De,We),s(Ie,fe),s(Ie,y),W(y,e[0].overlap),s(Ie,V),s(me,_e),s(me,re),s(re,pe),s(pe,Ae),s(pe,Ve),s(pe,Me),s(pe,rt),s(re,it),s(re,Ue),s(Ue,Ol),s(Ue,ut),s(Ue,Tl),s(Ue,ft),s(re,_t),s(re,ze),s(ze,Sl),s(ze,pt),ie&&ie.m(ze,null),s(l,dt),s(l,Ye),s(Ye,_l),s(_l,ct),s(Ye,mt),s(Ye,Re),s(Re,Je),s(Je,al),s(al,pl),s(pl,vt),s(al,ht),s(al,Ke),s(Ke,ve),W(ve,e[0].z_tilt),s(Ke,bt),Te(nl,Ke,null),s(Je,gt),s(Je,ol),s(ol,dl),s(dl,yt),s(ol,kt),s(ol,we),s(we,he),W(he,e[0].z_obj),s(we,Et),Te(rl,we,null),s(we,It),s(we,Be),s(Be,je),s(je,il),s(Be,zt),s(Be,El),s(El,Pt),s(Re,wt),s(Re,Qe),s(Qe,$e),s($e,xe),xe.checked=e[2],s($e,Nt),s($e,Le),s(Le,cl),s(cl,Ot),s(Le,Tt),se&&se.m(Le,null),s(Qe,St),s(Qe,K),s(K,Fe),s(Fe,Ct),s(K,Dt),s(K,Q),W(Q,e[0].z_spacing),s(K,At),s(K,Ze),s(Ze,Vt),s(K,Mt),s(K,$),W($,e[0].z_from),s(K,Ut),s(K,qe),s(qe,Bt),s(K,jt),s(K,x),W(x,e[0].z_to),be=!0,Lt||(Xt=[Y(i,"input",e[9]),Y(y,"input",e[17]),ye(Xe.call(null,y,[.01,.99])),Y(ve,"input",e[18]),ye(Xe.call(null,ve,[0,25e3])),Y(he,"input",e[19]),ye(Xe.call(null,he,[0,6e4])),Y(xe,"change",e[20]),ye(qt.call(null,Fe,"Nyquist is 232.")),Y(Q,"input",e[21]),ye(Xe.call(null,Q,[1,6e4])),ye(qt.call(null,Ze,"Multiple of Spacing")),Y($,"input",e[22]),ye(Xe.call(null,$,[-100,100])),ye(qt.call(null,qe,"Multiple of Spacing")),Y(x,"input",e[23]),ye(Xe.call(null,x,[-100,100]))],Lt=!0)},p(c,[C]){C&1&&i.value!==c[0].name&&W(i,c[0].name),C&129&&A(i,"invalid",c[7](c[0].name)),c[3]?G?C&8&&ae(G,1):(G=ds(c),G.c(),ae(G,1),G.m(o,null)):G&&(bs(),ue(G,1,1,()=>{G=null}),gs()),c[3]?te&&(te.d(1),te=null):te?te.p(c,C):(te=cs(c),te.c(),te.m(t,null));const He={};!u&&C&1&&(u=!0,He.params=c[0],$l(()=>u=!1)),B.$set(He);const Il={};!Z&&C&1&&(Z=!0,Il.params=c[0],$l(()=>Z=!1)),N.$set(Il),C&16&&A(I,"opacity-70",c[4].block);const ul={};!ll&&C&1&&(ll=!0,ul.xy=c[0].xy0,$l(()=>ll=!1)),q.$set(ul);const fl={};!sl&&C&1&&(sl=!0,fl.xy=c[0].xy1,$l(()=>sl=!1)),ee.$set(fl),C&1&&R(y.value)!==c[0].overlap&&W(y,c[0].overlap),(!be||C&2)&&Pe!==(Pe=c[1].width.toFixed(2)+"")&&de(Ae,Pe),(!be||C&2)&&Ge!==(Ge=c[1].height.toFixed(2)+"")&&de(Me,Ge),(!be||C&2)&&gl!==(gl=c[1].n_cols+"")&&de(Ol,gl),(!be||C&2)&&yl!==(yl=c[1].n_bundles+"")&&de(Tl,yl),(!be||C&2)&&kl!==(kl=bl(c[1].time)+"")&&de(Sl,kl),c[2]?ie||(ie=ms(),ie.c(),ie.m(ze,null)):ie&&(ie.d(1),ie=null),C&4&&A(ze,"font-semibold",!c[2]),C&8&&A(j,"-mt-20",c[3]),C&1&&R(ve.value)!==c[0].z_tilt&&W(ve,c[0].z_tilt),C&1&&R(he.value)!==c[0].z_obj&&W(he,c[0].z_obj),C&4&&(xe.checked=c[2]),c[2]?se?se.p(c,C):(se=vs(c),se.c(),se.m(Le,null)):se&&(se.d(1),se=null),C&20&&A(Fe,"span-disabled",c[4].block||!c[2]),(!be||C&20&&Cl!==(Cl=c[4].block||!c[2]))&&(Q.disabled=Cl),C&1&&R(Q.value)!==c[0].z_spacing&&W(Q,c[0].z_spacing),C&20&&A(Q,"disabled",c[4].block||!c[2]),C&20&&A(Ze,"span-disabled",c[4].block||!c[2]),(!be||C&20&&Dl!==(Dl=c[4].block||!c[2]))&&($.disabled=Dl),C&1&&R($.value)!==c[0].z_from&&W($,c[0].z_from),C&20&&A($,"disabled",c[4].block||!c[2]),C&20&&A(qe,"span-disabled",c[4].block||!c[2]),(!be||C&20&&Al!==(Al=c[4].block||!c[2]))&&(x.disabled=Al),C&1&&R(x.value)!==c[0].z_to&&W(x,c[0].z_to),C&20&&A(x,"disabled",c[4].block||!c[2])},i(c){be||(ae(G),ae(B.$$.fragment,c),ae(N.$$.fragment,c),ae(q.$$.fragment,c),ae(ee.$$.fragment,c),ae(nl.$$.fragment,c),ae(rl.$$.fragment,c),be=!0)},o(c){ue(G),ue(B.$$.fragment,c),ue(N.$$.fragment,c),ue(q.$$.fragment,c),ue(ee.$$.fragment,c),ue(nl.$$.fragment,c),ue(rl.$$.fragment,c),be=!1},d(c){c&&r(l),G&&G.d(),te&&te.d(),Se(B),Se(N),Se(q),Se(ee),ie&&ie.d(),Se(nl),Se(rl),se&&se.d(),Lt=!1,Ht(Xt)}}}function $s(e,l){e&&(e.querySelectorAll("input").forEach(t=>t.disabled=l),e.querySelectorAll("select").forEach(t=>t.disabled=l),e.querySelectorAll("button").forEach(t=>t.disabled=l))}function bl(e){const l=new Date(e*1e3).toISOString();return e>3600?`${l.substring(11,19)} hrs`:`${l.substring(14,19)} mins`}function xs(e,l,t){let n,p;st(e,et,P=>t(4,n=P)),st(e,Zt,P=>t(5,p=P));let{inAuto:d=!0}=l,{params:o}=l,{stats:i={height:0,width:0,n_cols:0,n_bundles:0,n_z:1,time:0}}=l,{z_stack:w=!1}=l,{fc_:h=0}=l;function E(){xl(et,n.image_params.xy0=o.xy0,n),xl(et,n.image_params.xy1=o.xy1,n)}function z(P){if(!P)return!0;if(!d)return!1;const J=n.exps[h].cmds.filter(ne=>ne.cmd.op==="takeimage").map(ne=>ne.cmd.name);return Bs(J)[P]>1}function k(){o.name=this.value,t(0,o)}function O(){o.path=this.value,t(0,o)}function L(P){o=P,t(0,o)}function I(P){o=P,t(0,o)}function B(P){e.$$.not_equal(o.xy0,P)&&(o.xy0=P,t(0,o))}const u=()=>xl(Zt,p="move0",p);function v(P){e.$$.not_equal(o.xy1,P)&&(o.xy1=P,t(0,o))}const N=()=>xl(Zt,p="move1",p);function Z(){o.overlap=R(this.value),t(0,o)}function H(){o.z_tilt=R(this.value),t(0,o)}function j(){o.z_obj=R(this.value),t(0,o)}function X(){w=this.checked,t(2,w)}function F(){o.z_spacing=R(this.value),t(0,o)}function D(){o.z_from=R(this.value),t(0,o)}function M(){o.z_to=R(this.value),t(0,o)}return e.$$set=P=>{"inAuto"in P&&t(3,d=P.inAuto),"params"in P&&t(0,o=P.params),"stats"in P&&t(1,i=P.stats),"z_stack"in P&&t(2,w=P.z_stack),"fc_"in P&&t(8,h=P.fc_)},e.$$.update=()=>{e.$$.dirty&16&&$s(document.getElementById("control"),n.block),e.$$.dirty&1&&t(1,i.height=Math.max(o.xy1[1],o.xy0[1])-Math.min(o.xy1[1],o.xy0[1]),i),e.$$.dirty&1&&t(1,i.width=Math.max(o.xy1[0],o.xy0[0])-Math.min(o.xy1[0],o.xy0[0]),i),e.$$.dirty&3&&t(1,i.n_cols=Math.ceil(i.width/(.768*(1-o.overlap))),i),e.$$.dirty&2&&t(1,i.n_bundles=Math.ceil(i.height/.048),i),e.$$.dirty&2&&t(1,i.time=i.n_bundles*i.n_cols/20,i),e.$$.dirty&1&&t(1,i.n_z=Math.abs(o.z_to-o.z_from)+1,i)},[o,i,w,d,n,p,E,z,h,k,O,L,I,B,u,v,N,Z,H,j,X,F,D,M]}class na extends at{constructor(l){super();nt(this,l,xs,Qs,ot,{inAuto:3,params:0,stats:1,z_stack:2,fc_:8})}}export{na as T,qt as t};
