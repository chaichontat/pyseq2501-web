import{S as De,i as Oe,s as ze,V as Ie,Z as Ve,w as W,x as X,y as Y,_ as xe,q as J,o as K,B as R,N as he,O as we,e as h,t as T,k as N,c as v,a as d,h as S,d as u,m as C,b as o,g as y,H as i,j as de,P as ce,Q as fe,W as A,T as Ke,X as Ee,Y as Ze,ac as lt,am as rt,ae as Re,an as nt,ao as ot,af as ut,a3 as et,v as it,ah as ct,a4 as ft,ai as Be,a7 as $e}from"../chunks/vendor-791ea25a.js";import{P as pt,T as dt,a as _t}from"../chunks/takeimage-e415504b.js";import{s as Te,c as ke,l as at,u as qe}from"../chunks/utils-e33c5767.js";import{t as tt}from"../chunks/tooltip-d3775260.js";import"../chunks/go-7ea28e96.js";function mt(r){let e,t,s,a,n,c=r[1][0]+"",f,g,l,_=r[0].n_bundles+"",k,$,V,w,x,b,m,E=r[1][1]+"",le,O,ee,M=r[0].n_z+"",Z,re,F,Q,j,z,D,te=r[1][2]+"",se,H,ne,ae=r[0].n_cols+"",ie,_e,ve,P,B,p,I,oe,G,ue,me,L=r[0].n_bundles*r[0].n_cols/10+"",pe,ge;return{c(){e=h("div"),t=h("section"),s=h("div"),a=h("span"),n=h("span"),f=T(c),g=T(`
          /
          `),l=h("span"),k=T(_),$=T(`
      Bundles taken`),V=N(),w=h("section"),x=h("div"),b=h("span"),m=h("span"),le=T(E),O=T(`
          /
          `),ee=h("span"),Z=T(M),re=T(`
      Z-steps taken`),F=N(),Q=h("section"),j=h("div"),z=h("span"),D=h("span"),se=T(te),H=T(`
          /
          `),ne=h("span"),ie=T(ae),_e=T(`
      Columns taken`),ve=N(),P=h("section"),B=h("span"),p=T("Elapsed time: "),I=T(r[5]),oe=T(" s"),G=N(),ue=h("span"),me=T("Total time: "),pe=T(L),ge=T(" s"),this.h()},l(U){e=v(U,"DIV",{class:!0});var q=d(e);t=v(q,"SECTION",{class:!0});var je=d(t);s=v(je,"DIV",{class:!0});var He=d(s);a=v(He,"SPAN",{class:!0});var Se=d(a);n=v(Se,"SPAN",{class:!0});var Ge=d(n);f=S(Ge,c),Ge.forEach(u),g=S(Se,`
          /
          `),l=v(Se,"SPAN",{class:!0});var Le=d(l);k=S(Le,_),Le.forEach(u),Se.forEach(u),He.forEach(u),$=S(je,`
      Bundles taken`),je.forEach(u),V=C(q),w=v(q,"SECTION",{class:!0});var Me=d(w);x=v(Me,"DIV",{class:!0});var Fe=d(x);b=v(Fe,"SPAN",{class:!0});var ye=d(b);m=v(ye,"SPAN",{class:!0});var Qe=d(m);le=S(Qe,E),Qe.forEach(u),O=S(ye,`
          /
          `),ee=v(ye,"SPAN",{class:!0});var We=d(ee);Z=S(We,M),We.forEach(u),ye.forEach(u),Fe.forEach(u),re=S(Me,`
      Z-steps taken`),Me.forEach(u),F=C(q),Q=v(q,"SECTION",{class:!0});var Ue=d(Q);j=v(Ue,"DIV",{class:!0});var Xe=d(j);z=v(Xe,"SPAN",{class:!0});var Ne=d(z);D=v(Ne,"SPAN",{class:!0});var Ye=d(D);se=S(Ye,te),Ye.forEach(u),H=S(Ne,`
          /
          `),ne=v(Ne,"SPAN",{class:!0});var Je=d(ne);ie=S(Je,ae),Je.forEach(u),Ne.forEach(u),Xe.forEach(u),_e=S(Ue,`
      Columns taken`),Ue.forEach(u),ve=C(q),P=v(q,"SECTION",{class:!0});var Ce=d(P);B=v(Ce,"SPAN",{class:!0});var Pe=d(B);p=S(Pe,"Elapsed time: "),I=S(Pe,r[5]),oe=S(Pe," s"),Pe.forEach(u),G=C(Ce),ue=v(Ce,"SPAN",{class:!0});var Ae=d(ue);me=S(Ae,"Total time: "),pe=S(Ae,L),ge=S(Ae," s"),Ae.forEach(u),Ce.forEach(u),q.forEach(u),this.h()},h(){o(n,"class","font-mono"),o(l,"class","w-32 px-2 font-mono text-4xl font-bold "),o(a,"class","text-4xl font-bold"),o(s,"class","flex items-center"),o(t,"class","flex flex-col gap-y-1"),o(m,"class","font-mono"),o(ee,"class","w-32 px-2 font-mono text-4xl font-bold "),o(b,"class","text-4xl font-bold"),o(x,"class","flex items-center"),o(w,"class","flex flex-col gap-y-1"),o(D,"class","font-mono"),o(ne,"class","w-32 px-2 font-mono text-4xl font-bold "),o(z,"class","text-4xl font-bold"),o(j,"class","flex items-center"),o(Q,"class","flex flex-col gap-y-1"),o(B,"class","text-lg font-medium"),o(ue,"class","text-lg font-medium"),o(P,"class","flex flex-col"),o(e,"class","grid max-w-4xl grid-cols-4 mt-1")},m(U,q){y(U,e,q),i(e,t),i(t,s),i(s,a),i(a,n),i(n,f),i(a,g),i(a,l),i(l,k),i(t,$),i(e,V),i(e,w),i(w,x),i(x,b),i(b,m),i(m,le),i(b,O),i(b,ee),i(ee,Z),i(w,re),i(e,F),i(e,Q),i(Q,j),i(j,z),i(z,D),i(D,se),i(z,H),i(z,ne),i(ne,ie),i(Q,_e),i(e,ve),i(e,P),i(P,B),i(B,p),i(B,I),i(B,oe),i(P,G),i(P,ue),i(ue,me),i(ue,pe),i(ue,ge)},p(U,q){q&2&&c!==(c=U[1][0]+"")&&de(f,c),q&1&&_!==(_=U[0].n_bundles+"")&&de(k,_),q&2&&E!==(E=U[1][1]+"")&&de(le,E),q&1&&M!==(M=U[0].n_z+"")&&de(Z,M),q&2&&te!==(te=U[1][2]+"")&&de(se,te),q&1&&ae!==(ae=U[0].n_cols+"")&&de(ie,ae),q&32&&de(I,U[5]),q&1&&L!==(L=U[0].n_bundles*U[0].n_cols/10+"")&&de(pe,L)},d(U){U&&u(e)}}}function gt(r){let e,t,s,a;return{c(){e=ce("svg"),t=ce("path"),s=ce("path"),a=T(`
          Capture`),this.h()},l(n){e=fe(n,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var c=d(e);t=fe(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),d(t).forEach(u),s=fe(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),d(s).forEach(u),c.forEach(u),a=S(n,`
          Capture`),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"stroke-width","2"),o(t,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),o(s,"stroke-linecap","round"),o(s,"stroke-linejoin","round"),o(s,"stroke-width","2"),o(s,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","w-6 h-6 -ml-0.5 mr-1 -translate-y-[0.25px]"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor")},m(n,c){y(n,e,c),i(e,t),i(e,s),y(n,a,c)},d(n){n&&u(e),n&&u(a)}}}function ht(r){let e,t,s,a,n,c;return{c(){e=ce("svg"),t=ce("path"),s=ce("path"),a=N(),n=h("p"),c=T("Stop"),this.h()},l(f){e=fe(f,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var g=d(e);t=fe(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),d(t).forEach(u),s=fe(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),d(s).forEach(u),g.forEach(u),a=C(f),n=v(f,"P",{class:!0});var l=d(n);c=S(l,"Stop"),l.forEach(u),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"stroke-width","2"),o(t,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),o(s,"stroke-linecap","round"),o(s,"stroke-linejoin","round"),o(s,"stroke-width","2"),o(s,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","w-6 h-6 mr-1"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(n,"class","flex-grow")},m(f,g){y(f,e,g),i(e,t),i(e,s),y(f,a,g),y(f,n,g),i(n,c)},d(f){f&&u(e),f&&u(a),f&&u(n)}}}function vt(r){let e,t,s,a,n,c,f,g,l,_,k,$,V;function w(m,E){return m[3].block==="capturing"||m[3].block==="previewing"?ht:gt}let x=w(r),b=x(r);return{c(){e=h("div"),t=h("button"),s=h("div"),b.c(),n=N(),c=h("button"),f=h("div"),g=ce("svg"),l=ce("path"),_=T(`
        Preview`),this.h()},l(m){e=v(m,"DIV",{slot:!0,class:!0});var E=d(e);t=v(E,"BUTTON",{type:!0,class:!0});var le=d(t);s=v(le,"DIV",{class:!0});var O=d(s);b.l(O),O.forEach(u),le.forEach(u),n=C(E),c=v(E,"BUTTON",{type:!0,id:!0,class:!0});var ee=d(c);f=v(ee,"DIV",{class:!0});var M=d(f);g=fe(M,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var Z=d(g);l=fe(Z,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),d(l).forEach(u),Z.forEach(u),_=S(M,`
        Preview`),M.forEach(u),ee.forEach(u),E.forEach(u),this.h()},h(){o(s,"class","flex items-center h-12 text-lg cursor-pointer"),o(t,"type","button"),o(t,"class","text-lg text-white focus:ring-4 shadow-lg font-medium rounded-lg px-5 py-2.5 text-center mr-2 mb-2 svelte-1rgmygs"),t.disabled=a=r[4]!=="ok"||!r[6].connected,A(t,"focus:ring-blue-300",r[4]==="ok"),A(t,"focus:ring-orange-300",r[4]==="stop"),A(t,"start",r[4]==="ok"),A(t,"stop",r[4]==="stop"),o(l,"stroke-linecap","round"),o(l,"stroke-linejoin","round"),o(l,"stroke-width","2"),o(l,"d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),o(g,"xmlns","http://www.w3.org/2000/svg"),o(g,"class","w-6 h-6 mr-1"),o(g,"fill","none"),o(g,"viewBox","0 0 24 24"),o(g,"stroke","currentColor"),o(f,"class","flex items-center"),o(c,"type","button"),o(c,"id","preview"),o(c,"class","text-lg mt-2 text-white focus:ring-4 focus:ring-sky-300 font-medium rounded-lg shadow px-4 py-2.5 text-center inline-flex items-center mr-2 svelte-1rgmygs"),c.disabled=k=Boolean(r[3].block)||!r[6].connected,o(e,"slot","buttons"),o(e,"class","grid grid-flow-row w-36")},m(m,E){y(m,e,E),i(e,t),i(t,s),b.m(s,null),i(e,n),i(e,c),i(c,f),i(f,g),i(g,l),i(f,_),$||(V=[Ke(tt.call(null,t,"Take image and save.")),Ee(t,"click",r[7]),Ke(tt.call(null,c,"Take a 16-bundle image based on the current position without saving.")),Ee(c,"click",r[8])],$=!0)},p(m,E){x!==(x=w(m))&&(b.d(1),b=x(m),b&&(b.c(),b.m(s,null))),E&80&&a!==(a=m[4]!=="ok"||!m[6].connected)&&(t.disabled=a),E&16&&A(t,"focus:ring-blue-300",m[4]==="ok"),E&16&&A(t,"focus:ring-orange-300",m[4]==="stop"),E&16&&A(t,"start",m[4]==="ok"),E&16&&A(t,"stop",m[4]==="stop"),E&72&&k!==(k=Boolean(m[3].block)||!m[6].connected)&&(c.disabled=k)},d(m){m&&u(e),b.d(),$=!1,Ze(V)}}}function $t(r){let e,t,s;function a(c){r[12](c)}let n={$$slots:{buttons:[vt],default:[mt]},$$scope:{ctx:r}};return r[2]!==void 0&&(n.progress=r[2]),e=new pt({props:n}),Ie.push(()=>Ve(e,"progress",a)),{c(){W(e.$$.fragment)},l(c){X(e.$$.fragment,c)},m(c,f){Y(e,c,f),s=!0},p(c,[f]){const g={};f&16507&&(g.$$scope={dirty:f,ctx:c}),!t&&f&4&&(t=!0,g.progress=c[2],xe(()=>t=!1)),e.$set(g)},i(c){s||(J(e.$$.fragment,c),s=!0)},o(c){K(e.$$.fragment,c),s=!1},d(c){R(e,c)}}}function bt(r,e,t){let s,a,n;he(r,Te,b=>t(3,s=b)),he(r,ke,b=>t(11,a=b)),he(r,at,b=>t(6,n=b));let c=[0,0,0],f,{stats:g}=e;function l(){t(1,c=[0,0,0]),f.set(0)}let _="ok",k,$=0;function V(){k&&clearInterval(k),s.block==="capturing"?we(ke,a={cmd:"stop"},a):(t(5,$=0),t(10,k=setInterval(()=>{t(5,$+=1)},1e3)),we(ke,a={cmd:"capture"},a),we(Te,s.block="capturing",s),l())}function w(){k&&clearInterval(k),s.block==="previewing"?we(ke,a={cmd:"stop"},a):(t(5,$=0),t(10,k=setInterval(()=>{t(5,$+=1)},1e3)),we(ke,a={cmd:"preview"},a),we(Te,s.block="previewing",s),l())}function x(b){f=b,t(2,f)}return r.$$set=b=>{"stats"in b&&t(0,g=b.stats)},r.$$.update=()=>{r.$$.dirty&2055&&f&&(a==null?void 0:a.step)&&(t(1,c=a.step),f.set((c[2]*(g.n_z*g.n_bundles)+c[1]*g.n_bundles+c[0])/(g.n_bundles*g.n_cols*g.n_z))),r.$$.dirty&8&&t(4,_=s.block==="capturing"?"stop":"ok"),r.$$.dirty&8&&s.block,r.$$.dirty&1032&&!s.block&&k&&clearInterval(k)},[g,c,f,s,_,$,n,V,w,l,k,a,x]}class wt extends De{constructor(e){super();Oe(this,e,bt,$t,ze,{stats:0,resetProgress:9})}get resetProgress(){return this.$$.ctx[9]}}function kt(r){let e;return{c(){e=h("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){o(e,"class","axes svelte-o9151a")},m(t,s){y(t,e,s)},d(t){t&&u(e)}}}function Et(r){let e,t,s=r[2]+"",a;return{c(){e=h("div"),t=h("span"),a=T(s),this.h()},l(n){e=v(n,"DIV",{class:!0});var c=d(e);t=v(c,"SPAN",{class:!0});var f=d(t);a=S(f,s),f.forEach(u),c.forEach(u),this.h()},h(){o(t,"class","svelte-o9151a"),o(e,"class","grid-line vertical x label svelte-o9151a")},m(n,c){y(n,e,c),i(e,t),i(t,a)},p(n,c){c&4&&s!==(s=n[2]+"")&&de(a,s)},d(n){n&&u(e)}}}function It(r){let e,t=r[2]+"",s;return{c(){e=h("span"),s=T(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var n=d(e);s=S(n,t),n.forEach(u),this.h()},h(){o(e,"class","y label svelte-o9151a")},m(a,n){y(a,e,n),i(e,s)},p(a,n){n&4&&t!==(t=a[2]+"")&&de(s,t)},d(a){a&&u(e)}}}function Tt(r){let e,t;return{c(){e=ce("path"),this.h()},l(s){e=fe(s,"path",{class:!0,d:!0}),d(e).forEach(u),this.h()},h(){o(e,"class","data stroke-blue-300 svelte-o9151a"),o(e,"d",t=r[1])},m(s,a){y(s,e,a)},p(s,a){a&2&&t!==(t=s[1])&&o(e,"d",t)},d(s){s&&u(e)}}}function St(r){let e,t;return e=new ot({props:{data:r[0],$$slots:{default:[Tt,({d:s})=>({1:s}),({d:s})=>s?2:0]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,a){Y(e,s,a),t=!0},p(s,a){const n={};a&10&&(n.$$scope={dirty:a,ctx:s}),e.$set(n)},i(s){t||(J(e.$$.fragment,s),t=!0)},o(s){K(e.$$.fragment,s),t=!1},d(s){R(e,s)}}}function yt(r){let e,t,s,a,n,c,f,g;return e=new rt({props:{x2:10,y2:100,$$slots:{default:[kt]},$$scope:{ctx:r}}}),s=new Re({props:{vertical:!0,count:5,$$slots:{default:[Et,({value:l})=>({2:l}),({value:l})=>l?4:0]},$$scope:{ctx:r}}}),n=new Re({props:{horizontal:!0,count:3,$$slots:{default:[It,({value:l})=>({2:l}),({value:l})=>l?4:0]},$$scope:{ctx:r}}}),f=new nt({props:{$$slots:{default:[St]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment),t=N(),W(s.$$.fragment),a=N(),W(n.$$.fragment),c=N(),W(f.$$.fragment)},l(l){X(e.$$.fragment,l),t=C(l),X(s.$$.fragment,l),a=C(l),X(n.$$.fragment,l),c=C(l),X(f.$$.fragment,l)},m(l,_){Y(e,l,_),y(l,t,_),Y(s,l,_),y(l,a,_),Y(n,l,_),y(l,c,_),Y(f,l,_),g=!0},p(l,_){const k={};_&8&&(k.$$scope={dirty:_,ctx:l}),e.$set(k);const $={};_&12&&($.$$scope={dirty:_,ctx:l}),s.$set($);const V={};_&12&&(V.$$scope={dirty:_,ctx:l}),n.$set(V);const w={};_&8&&(w.$$scope={dirty:_,ctx:l}),f.$set(w)},i(l){g||(J(e.$$.fragment,l),J(s.$$.fragment,l),J(n.$$.fragment,l),J(f.$$.fragment,l),g=!0)},o(l){K(e.$$.fragment,l),K(s.$$.fragment,l),K(n.$$.fragment,l),K(f.$$.fragment,l),g=!1},d(l){R(e,l),l&&u(t),R(s,l),l&&u(a),R(n,l),l&&u(c),R(f,l)}}}function Nt(r){let e,t,s;return t=new lt({props:{x1:0,x2:10,y1:0,y2:100,$$slots:{default:[yt]},$$scope:{ctx:r}}}),{c(){e=h("div"),W(t.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=d(e);X(t.$$.fragment,n),n.forEach(u),this.h()},h(){o(e,"class","w-96 h-48 box-border chart")},m(a,n){y(a,e,n),Y(t,e,null),s=!0},p(a,[n]){const c={};n&8&&(c.$$scope={dirty:n,ctx:a}),t.$set(c)},i(a){s||(J(t.$$.fragment,a),s=!0)},o(a){K(t.$$.fragment,a),s=!1},d(a){a&&u(e),R(t)}}}function Ct(r){return[[{x:0,y:0},{x:1,y:1},{x:2,y:4},{x:3,y:9},{x:4,y:16},{x:5,y:25},{x:6,y:36},{x:7,y:49},{x:8,y:64},{x:9,y:81},{x:10,y:100}]]}class Pt extends De{constructor(e){super();Oe(this,e,Ct,Nt,ze,{})}}function At(r){let e,t,s;return{c(){e=h("button"),t=T("Channel 0"),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var n=d(e);t=S(n,"Channel 0"),n.forEach(u),this.h()},h(){o(e,"class",s=$e(be("green",r[14],r[3].image_params.channels[0]))+" svelte-1e6iagd"),A(e,"bg-green-600",r[14])},m(a,n){y(a,e,n),i(e,t)},p(a,n){n&16392&&s!==(s=$e(be("green",a[14],a[3].image_params.channels[0]))+" svelte-1e6iagd")&&o(e,"class",s),n&16392&&A(e,"bg-green-600",a[14])},d(a){a&&u(e)}}}function Bt(r){let e,t,s;return{c(){e=h("button"),t=T("Channel 1"),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var n=d(e);t=S(n,"Channel 1"),n.forEach(u),this.h()},h(){o(e,"class",s=$e(be("orange",r[14],r[3].image_params.channels[1]))+" svelte-1e6iagd"),A(e,"bg-orange-500",r[14])},m(a,n){y(a,e,n),i(e,t)},p(a,n){n&16392&&s!==(s=$e(be("orange",a[14],a[3].image_params.channels[1]))+" svelte-1e6iagd")&&o(e,"class",s),n&16392&&A(e,"bg-orange-500",a[14])},d(a){a&&u(e)}}}function Vt(r){let e,t,s;return{c(){e=h("button"),t=T("Channel 2"),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var n=d(e);t=S(n,"Channel 2"),n.forEach(u),this.h()},h(){o(e,"class",s=$e(be("rose",r[14],r[3].image_params.channels[2]))+" svelte-1e6iagd"),A(e,"bg-rose-600",r[14])},m(a,n){y(a,e,n),i(e,t)},p(a,n){n&16392&&s!==(s=$e(be("rose",a[14],a[3].image_params.channels[2]))+" svelte-1e6iagd")&&o(e,"class",s),n&16392&&A(e,"bg-rose-600",a[14])},d(a){a&&u(e)}}}function xt(r){let e,t,s;return{c(){e=h("button"),t=T("Channel 3"),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var n=d(e);t=S(n,"Channel 3"),n.forEach(u),this.h()},h(){o(e,"class",s=$e(be("amber",r[14],r[3].image_params.channels[3]))+" svelte-1e6iagd"),A(e,"bg-amber-800",r[14])},m(a,n){y(a,e,n),i(e,t)},p(a,n){n&16392&&s!==(s=$e(be("amber",a[14],a[3].image_params.channels[3]))+" svelte-1e6iagd")&&o(e,"class",s),n&16392&&A(e,"bg-amber-800",a[14])},d(a){a&&u(e)}}}function Dt(r){let e,t,s,a,n,c,f,g;return e=new Be({props:{$$slots:{default:[At,({selected:l})=>({14:l}),({selected:l})=>l?16384:0]},$$scope:{ctx:r}}}),s=new Be({props:{$$slots:{default:[Bt,({selected:l})=>({14:l}),({selected:l})=>l?16384:0]},$$scope:{ctx:r}}}),n=new Be({props:{$$slots:{default:[Vt,({selected:l})=>({14:l}),({selected:l})=>l?16384:0]},$$scope:{ctx:r}}}),f=new Be({props:{$$slots:{default:[xt,({selected:l})=>({14:l}),({selected:l})=>l?16384:0]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment),t=N(),W(s.$$.fragment),a=N(),W(n.$$.fragment),c=N(),W(f.$$.fragment)},l(l){X(e.$$.fragment,l),t=C(l),X(s.$$.fragment,l),a=C(l),X(n.$$.fragment,l),c=C(l),X(f.$$.fragment,l)},m(l,_){Y(e,l,_),y(l,t,_),Y(s,l,_),y(l,a,_),Y(n,l,_),y(l,c,_),Y(f,l,_),g=!0},p(l,_){const k={};_&49160&&(k.$$scope={dirty:_,ctx:l}),e.$set(k);const $={};_&49160&&($.$$scope={dirty:_,ctx:l}),s.$set($);const V={};_&49160&&(V.$$scope={dirty:_,ctx:l}),n.$set(V);const w={};_&49160&&(w.$$scope={dirty:_,ctx:l}),f.$set(w)},i(l){g||(J(e.$$.fragment,l),J(s.$$.fragment,l),J(n.$$.fragment,l),J(f.$$.fragment,l),g=!0)},o(l){K(e.$$.fragment,l),K(s.$$.fragment,l),K(n.$$.fragment,l),K(f.$$.fragment,l),g=!1},d(l){R(e,l),l&&u(t),R(s,l),l&&u(a),R(n,l),l&&u(c),R(f,l)}}}function Ot(r){let e,t;return e=new ct({props:{class:"grid grid-cols-4 p-1 space-x-1 rounded-lg bg-gray-50 white-button",$$slots:{default:[Dt]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,a){Y(e,s,a),t=!0},p(s,a){const n={};a&32776&&(n.$$scope={dirty:a,ctx:s}),e.$set(n)},i(s){t||(J(e.$$.fragment,s),t=!0)},o(s){K(e.$$.fragment,s),t=!1},d(s){R(e,s)}}}function zt(r){let e,t,s,a,n,c,f,g,l,_,k,$,V,w,x,b,m,E,le,O,ee,M,Z,re=r[6][r[0]]+"",F,Q,j,z,D,te,se,H,ne,ae,ie,_e,ve;return a=new ut({props:{$$slots:{default:[Ot]},$$scope:{ctx:r}}}),a.$on("change",r[8]),ae=new Pt({}),{c(){e=h("div"),t=h("div"),s=h("div"),W(a.$$.fragment),n=N(),c=h("button"),f=ce("svg"),g=ce("path"),l=N(),_=h("span"),k=T("Autofocus"),V=N(),w=h("div"),x=N(),b=h("div"),m=h("div"),E=h("canvas"),le=N(),O=h("div"),ee=N(),M=h("div"),Z=h("span"),F=T(re),Q=N(),j=h("button"),z=ce("svg"),D=ce("path"),te=T(`
          To Z Obj`),se=N(),H=h("input"),ne=N(),W(ae.$$.fragment),this.h()},l(P){e=v(P,"DIV",{class:!0});var B=d(e);t=v(B,"DIV",{class:!0});var p=d(t);s=v(p,"DIV",{class:!0});var I=d(s);X(a.$$.fragment,I),I.forEach(u),n=C(p),c=v(p,"BUTTON",{type:!0,class:!0});var oe=d(c);f=fe(oe,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var G=d(f);g=fe(G,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),d(g).forEach(u),G.forEach(u),l=C(oe),_=v(oe,"SPAN",{});var ue=d(_);k=S(ue,"Autofocus"),ue.forEach(u),oe.forEach(u),p.forEach(u),V=C(B),w=v(B,"DIV",{class:!0}),d(w).forEach(u),x=C(B),b=v(B,"DIV",{class:!0});var me=d(b);m=v(me,"DIV",{class:!0});var L=d(m);E=v(L,"CANVAS",{width:!0,height:!0,class:!0}),d(E).forEach(u),le=C(L),O=v(L,"DIV",{class:!0}),d(O).forEach(u),ee=C(L),M=v(L,"DIV",{class:!0});var pe=d(M);Z=v(pe,"SPAN",{class:!0});var ge=d(Z);F=S(ge,re),ge.forEach(u),Q=C(pe),j=v(pe,"BUTTON",{type:!0,class:!0});var U=d(j);z=fe(U,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var q=d(z);D=fe(q,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),d(D).forEach(u),q.forEach(u),te=S(U,`
          To Z Obj`),U.forEach(u),pe.forEach(u),se=C(L),H=v(L,"INPUT",{type:!0,min:!0,max:!0,class:!0}),ne=C(L),X(ae.$$.fragment,L),L.forEach(u),me.forEach(u),B.forEach(u),this.h()},h(){o(s,"class","flex-grow"),o(g,"fill-rule","evenodd"),o(g,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),o(g,"clip-rule","evenodd"),o(f,"xmlns","http://www.w3.org/2000/svg"),o(f,"class","w-5 h-5 mr-1"),o(f,"viewBox","0 0 20 20"),o(f,"fill","currentColor"),o(c,"type","button"),c.disabled=$=r[5].block,o(c,"class","px-4 py-1 font-medium text-gray-900 rounded-lg w-36 white-button"),o(t,"class","flex gap-x-4 max-w-lg mx-auto"),o(w,"class","w-[80%] mx-auto bg-gray-200 h-[1px]"),o(E,"width",256),o(E,"height",64),o(E,"class","svelte-1e6iagd"),o(O,"class","h-[32px]"),o(Z,"class","rounded-lg bg-blue-50 py-2 px-4 font-medium"),o(D,"stroke-linecap","round"),o(D,"stroke-linejoin","round"),o(D,"stroke-width","2"),o(D,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),o(z,"xmlns","http://www.w3.org/2000/svg"),o(z,"class","w-5 h-5 mr-1"),o(z,"fill","none"),o(z,"viewBox","0 0 24 24"),o(z,"stroke","currentColor"),o(j,"type","button"),o(j,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),o(M,"class","flex gap-x-4"),o(H,"type","range"),o(H,"min","0"),o(H,"max","258"),o(H,"class","range"),o(m,"class","flex flex-col items-center max-w-md mx-auto gap-y-6"),o(b,"class","flex items-center"),o(e,"class","space-y-12")},m(P,B){y(P,e,B),i(e,t),i(t,s),Y(a,s,null),i(t,n),i(t,c),i(c,f),i(f,g),i(c,l),i(c,_),i(_,k),i(e,V),i(e,w),i(e,x),i(e,b),i(b,m),i(m,E),r[10](E),i(m,le),i(m,O),i(m,ee),i(m,M),i(M,Z),i(Z,F),i(M,Q),i(M,j),i(j,z),i(z,D),i(j,te),i(m,se),i(m,H),et(H,r[0]),i(m,ne),Y(ae,m,null),ie=!0,_e||(ve=[Ee(c,"click",r[9]),Ee(H,"change",r[11]),Ee(H,"input",r[11])],_e=!0)},p(P,[B]){const p={};B&32776&&(p.$$scope={dirty:B,ctx:P}),a.$set(p),(!ie||B&32&&$!==($=P[5].block))&&(c.disabled=$),(!ie||B&1)&&re!==(re=P[6][P[0]]+"")&&de(F,re),B&1&&et(H,P[0])},i(P){ie||(J(a.$$.fragment,P),J(ae.$$.fragment,P),ie=!0)},o(P){K(a.$$.fragment,P),K(ae.$$.fragment,P),ie=!1},d(P){P&&u(e),R(a),r[10](null),R(ae),_e=!1,Ze(ve)}}}const st=60292,jt=2621,Mt=259;function be(r,e,t){return`tab-button ${e?"text-white":`${t?`text-gray-700 hover:text-black bg-gray-50 hover:bg-${r}-300`:"text-gray-400"}`}`}function Ut(r,e,t){let s,a,n,c;he(r,at,m=>t(7,s=m)),he(r,qe,m=>t(3,a=m)),he(r,ke,m=>t(4,n=m)),he(r,Te,m=>t(5,c=m));let f,g,l,_=0;const k=[...Array(259)].map((m,E)=>Math.round(st-(st-jt)*E/Mt));let $=0;it(()=>{l=f.getContext("2d")}),g=new Image,g.onload=()=>l==null?void 0:l.drawImage(g,0,0);const V=m=>t(2,$=m.detail),w=()=>we(ke,n={cmd:"autofocus"},n);function x(m){Ie[m?"unshift":"push"](()=>{f=m,t(1,f)})}function b(){_=ft(this.value),t(0,_)}return r.$$.update=()=>{r.$$.dirty&129&&(g.src=s.afimg[_])},[_,f,$,a,n,c,k,s,V,w,x,b]}class qt extends De{constructor(e){super();Oe(this,e,Ut,zt,ze,{})}}function Zt(r){let e,t,s,a,n,c,f,g,l,_,k,$,V,w,x,b,m,E,le,O,ee,M,Z,re,F,Q,j,z,D,te,se,H,ne,ae;function ie(p){r[4](p)}let _e={};r[0]!==void 0&&(_e.stats=r[0]),a=new wt({props:_e}),Ie.push(()=>Ve(a,"stats",ie));function ve(p){r[5](p)}function P(p){r[6](p)}let B={inAuto:!1};return r[2].image_params!==void 0&&(B.params=r[2].image_params),r[0]!==void 0&&(B.stats=r[0]),_=new dt({props:B}),Ie.push(()=>Ve(_,"params",ve)),Ie.push(()=>Ve(_,"stats",P)),j=new _t({}),se=new qt({}),{c(){e=h("div"),t=h("div"),s=N(),W(a.$$.fragment),c=N(),f=h("p"),g=T("Capture Parameters"),l=N(),W(_.$$.fragment),V=N(),w=h("div"),x=h("div"),b=N(),m=h("button"),E=T("Preview"),le=N(),O=h("button"),ee=T("Autofocus"),M=N(),Z=h("div"),re=N(),F=h("section"),Q=h("div"),W(j.$$.fragment),z=N(),D=h("section"),te=h("div"),W(se.$$.fragment),this.h()},l(p){e=v(p,"DIV",{class:!0});var I=d(e);t=v(I,"DIV",{class:!0}),d(t).forEach(u),s=C(I),X(a.$$.fragment,I),I.forEach(u),c=C(p),f=v(p,"P",{class:!0});var oe=d(f);g=S(oe,"Capture Parameters"),oe.forEach(u),l=C(p),X(_.$$.fragment,p),V=C(p),w=v(p,"DIV",{class:!0});var G=d(w);x=v(G,"DIV",{class:!0}),d(x).forEach(u),b=C(G),m=v(G,"BUTTON",{class:!0});var ue=d(m);E=S(ue,"Preview"),ue.forEach(u),le=C(G),O=v(G,"BUTTON",{class:!0});var me=d(O);ee=S(me,"Autofocus"),me.forEach(u),M=C(G),Z=v(G,"DIV",{class:!0}),d(Z).forEach(u),G.forEach(u),re=C(p),F=v(p,"SECTION",{class:!0});var L=d(F);Q=v(L,"DIV",{class:!0});var pe=d(Q);X(j.$$.fragment,pe),pe.forEach(u),L.forEach(u),z=C(p),D=v(p,"SECTION",{class:!0});var ge=d(D);te=v(ge,"DIV",{class:!0});var U=d(te);X(se.$$.fragment,U),U.forEach(u),ge.forEach(u),this.h()},h(){o(t,"class","w-full h-4"),o(e,"class","box-border sticky z-40 -mx-10 px-10 pb-6 shadow-md bg-white/[0.95] border-b top-16 "),o(f,"class","mt-6 title"),o(x,"class","-ml-10 cursor-default tab tab-lifted"),o(m,"class","font-medium tab tab-lg tab-lifted"),A(m,"tab-active",r[1]==="preview"),A(m,"text-gray-800",r[1]==="preview"),o(O,"class","font-medium tab tab-lg tab-lifted"),A(O,"tab-active",r[1]==="autofocus"),A(O,"text-gray-800",r[1]==="autofocus"),o(Z,"class","flex-1 cursor-default tab tab-lifted"),o(w,"class","w-full mt-8 tabs"),o(Q,"class","my-4"),o(F,"class","relative"),A(F,"hidden",r[1]!=="preview"),o(te,"class","my-6"),o(D,"class","relative"),A(D,"hidden",r[1]!=="autofocus")},m(p,I){y(p,e,I),i(e,t),i(e,s),Y(a,e,null),y(p,c,I),y(p,f,I),i(f,g),y(p,l,I),Y(_,p,I),y(p,V,I),y(p,w,I),i(w,x),i(w,b),i(w,m),i(m,E),i(w,le),i(w,O),i(O,ee),i(w,M),i(w,Z),y(p,re,I),y(p,F,I),i(F,Q),Y(j,Q,null),y(p,z,I),y(p,D,I),i(D,te),Y(se,te,null),H=!0,ne||(ae=[Ee(m,"click",r[7]),Ee(O,"click",r[8])],ne=!0)},p(p,[I]){const oe={};!n&&I&1&&(n=!0,oe.stats=p[0],xe(()=>n=!1)),a.$set(oe);const G={};!k&&I&4&&(k=!0,G.params=p[2].image_params,xe(()=>k=!1)),!$&&I&1&&($=!0,G.stats=p[0],xe(()=>$=!1)),_.$set(G),I&2&&A(m,"tab-active",p[1]==="preview"),I&2&&A(m,"text-gray-800",p[1]==="preview"),I&2&&A(O,"tab-active",p[1]==="autofocus"),I&2&&A(O,"text-gray-800",p[1]==="autofocus"),I&2&&A(F,"hidden",p[1]!=="preview"),I&2&&A(D,"hidden",p[1]!=="autofocus")},i(p){H||(J(a.$$.fragment,p),J(_.$$.fragment,p),J(j.$$.fragment,p),J(se.$$.fragment,p),H=!0)},o(p){K(a.$$.fragment,p),K(_.$$.fragment,p),K(j.$$.fragment,p),K(se.$$.fragment,p),H=!1},d(p){p&&u(e),R(a),p&&u(c),p&&u(f),p&&u(l),R(_,p),p&&u(V),p&&u(w),p&&u(re),p&&u(F),R(j),p&&u(z),p&&u(D),R(se),ne=!1,Ze(ae)}}}function Ht(r,e){r&&(r.querySelectorAll("input").forEach(t=>t.disabled=e),r.querySelectorAll("select").forEach(t=>t.disabled=e),r.querySelectorAll("button").forEach(t=>t.disabled=e))}function Gt(r,e,t){let s,a;he(r,Te,$=>t(3,s=$)),he(r,qe,$=>t(2,a=$));let n={height:0,width:0,n_cols:0,n_bundles:0,n_z:1,time:0},c="preview";function f($){n=$,t(0,n)}function g($){r.$$.not_equal(a.image_params,$)&&(a.image_params=$,qe.set(a))}function l($){n=$,t(0,n)}const _=()=>t(1,c="preview"),k=()=>t(1,c="autofocus");return r.$$.update=()=>{r.$$.dirty&8&&Ht(document.getElementById("control"),Boolean(s.block))},[n,c,a,s,f,g,l,_,k]}class Yt extends De{constructor(e){super();Oe(this,e,Gt,Zt,ze,{})}}export{Yt as default};
