var kl=Object.defineProperty;var ml=Object.getOwnPropertySymbols;var El=Object.prototype.hasOwnProperty,wl=Object.prototype.propertyIsEnumerable;var dl=(a,t,n)=>t in a?kl(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,Is=(a,t)=>{for(var n in t||(t={}))El.call(t,n)&&dl(a,n,t[n]);if(ml)for(var n of ml(t))wl.call(t,n)&&dl(a,n,t[n]);return a};import{S as ia,i as ua,s as pa,a7 as yl,e as u,w as ie,c as p,a as c,x as ue,d as o,b as s,g as B,y as pe,q as J,o as K,B as ce,a8 as Pl,a9 as Nl,k as b,m as $,t as _,h,H as e,j as Ct,aa as Il,R as y,T as X,ab as Tl,U as Ta,N as St,v as Ol,ac as Cl,ad as Sl,Q as Ts,ae as Pa,_ as xt,af as xl,O as xe,P as ze,a0 as Os,M as Ia,V as aa,ag as zl,ah as Al,ai as Bl,$ as le,Z as Se,n as Dl,p as Vl,W as _l,X as hl}from"../chunks/vendor-298196a7.js";import{i as Cs,u as W,c as Na}from"../chunks/store-8185c253.js";/* empty css                                                      */import{S as Ul}from"../chunks/spinning-a18a96ab.js";import{l as jl}from"../chunks/coords-9a57de07.js";function Ml(a){let t;return{c(){t=u("div"),this.h()},l(n){t=p(n,"DIV",{class:!0}),c(t).forEach(o),this.h()},h(){s(t,"class","absolute w-full bg-blue-800 bottom-6 h-[90%] opacity-60")},m(n,l){B(n,t,l)},d(n){n&&o(t)}}}function Ll(a){let t,n=a[3]+"",l;return{c(){t=u("span"),l=_(n),this.h()},l(i){t=p(i,"SPAN",{class:!0});var r=c(t);l=h(r,n),r.forEach(o),this.h()},h(){s(t,"class","absolute bottom-0 right-0 text-sm text-center translate-x-1 vert svelte-b05ewu")},m(i,r){B(i,t,r),e(t,l)},p(i,r){r&8&&n!==(n=i[3]+"")&&Ct(l,n)},d(i){i&&o(t)}}}function Fl(a){let t,n,l,i;return t=new Pl({props:{data:a[1],width:80,$$slots:{default:[Ml]},$$scope:{ctx:a}}}),l=new Nl({props:{vertical:!0,count:5,$$slots:{default:[Ll,({value:r})=>({3:r}),({value:r})=>r?8:0]},$$scope:{ctx:a}}}),{c(){ie(t.$$.fragment),n=b(),ie(l.$$.fragment)},l(r){ue(t.$$.fragment,r),n=$(r),ue(l.$$.fragment,r)},m(r,m){pe(t,r,m),B(r,n,m),pe(l,r,m),i=!0},p(r,m){const v={};m&2&&(v.data=r[1]),m&16&&(v.$$scope={dirty:m,ctx:r}),t.$set(v);const g={};m&24&&(g.$$scope={dirty:m,ctx:r}),l.$set(g)},i(r){i||(J(t.$$.fragment,r),J(l.$$.fragment,r),i=!0)},o(r){K(t.$$.fragment,r),K(l.$$.fragment,r),i=!1},d(r){ce(t,r),r&&o(n),ce(l,r)}}}function Hl(a){let t,n,l;return n=new yl({props:{x1:-10,x2:4096+10,y1:0,y2:a[0],$$slots:{default:[Fl]},$$scope:{ctx:a}}}),{c(){t=u("div"),ie(n.$$.fragment),this.h()},l(i){t=p(i,"DIV",{class:!0});var r=c(t);ue(n.$$.fragment,r),r.forEach(o),this.h()},h(){s(t,"class","w-full h-full box-border")},m(i,r){B(i,t,r),pe(n,t,null),l=!0},p(i,[r]){const m={};r&1&&(m.y2=i[0]),r&18&&(m.$$scope={dirty:r,ctx:i}),n.$set(m)},i(i){l||(J(n.$$.fragment,i),l=!0)},o(i){K(n.$$.fragment,i),l=!1},d(i){i&&o(t),ce(n)}}}function Wl(a,t){return a.map((n,l)=>({x:n,y:t[l]}))}function Zl(a,t,n){let{hist:l}=t,i,r=[{x:0,y:0},{x:2e3,y:10}];return a.$$set=m=>{"hist"in m&&n(2,l=m.hist)},a.$$.update=()=>{a.$$.dirty&4&&l&&(n(1,r=Wl(l.bin_edges,l.counts)),n(0,i=Math.max(...l.counts)))},[i,r,l]}class ql extends ia{constructor(t){super();ua(this,t,Zl,Hl,pa,{hist:2})}}function Gl(a){let t,n,l;return{c(){t=u("button"),n=_("Channel 0"),this.h()},l(i){t=p(i,"BUTTON",{class:!0});var r=c(t);n=h(r,"Channel 0"),r.forEach(o),this.h()},h(){s(t,"class",l=xt(zt("green",a[12],a[5].image_params.channels[0]))+" svelte-1ex0yha"),y(t,"bg-green-600",a[12])},m(i,r){B(i,t,r),e(t,n)},p(i,r){r&4128&&l!==(l=xt(zt("green",i[12],i[5].image_params.channels[0]))+" svelte-1ex0yha")&&s(t,"class",l),r&4128&&y(t,"bg-green-600",i[12])},d(i){i&&o(t)}}}function Xl(a){let t,n,l;return{c(){t=u("button"),n=_("Channel 1"),this.h()},l(i){t=p(i,"BUTTON",{class:!0});var r=c(t);n=h(r,"Channel 1"),r.forEach(o),this.h()},h(){s(t,"class",l=xt(zt("orange",a[12],a[5].image_params.channels[1]))+" svelte-1ex0yha"),y(t,"bg-orange-500",a[12])},m(i,r){B(i,t,r),e(t,n)},p(i,r){r&4128&&l!==(l=xt(zt("orange",i[12],i[5].image_params.channels[1]))+" svelte-1ex0yha")&&s(t,"class",l),r&4128&&y(t,"bg-orange-500",i[12])},d(i){i&&o(t)}}}function Rl(a){let t,n,l;return{c(){t=u("button"),n=_("Channel 2"),this.h()},l(i){t=p(i,"BUTTON",{class:!0});var r=c(t);n=h(r,"Channel 2"),r.forEach(o),this.h()},h(){s(t,"class",l=xt(zt("rose",a[12],a[5].image_params.channels[2]))+" svelte-1ex0yha"),y(t,"bg-rose-600",a[12])},m(i,r){B(i,t,r),e(t,n)},p(i,r){r&4128&&l!==(l=xt(zt("rose",i[12],i[5].image_params.channels[2]))+" svelte-1ex0yha")&&s(t,"class",l),r&4128&&y(t,"bg-rose-600",i[12])},d(i){i&&o(t)}}}function Yl(a){let t,n,l;return{c(){t=u("button"),n=_("Channel 3"),this.h()},l(i){t=p(i,"BUTTON",{class:!0});var r=c(t);n=h(r,"Channel 3"),r.forEach(o),this.h()},h(){s(t,"class",l=xt(zt("amber",a[12],a[5].image_params.channels[3]))+" svelte-1ex0yha"),y(t,"bg-amber-800",a[12])},m(i,r){B(i,t,r),e(t,n)},p(i,r){r&4128&&l!==(l=xt(zt("amber",i[12],i[5].image_params.channels[3]))+" svelte-1ex0yha")&&s(t,"class",l),r&4128&&y(t,"bg-amber-800",i[12])},d(i){i&&o(t)}}}function Ql(a){let t,n,l,i,r,m,v,g;return t=new Pa({props:{disabled:!a[5].image_params.channels[0],$$slots:{default:[Gl,({selected:f})=>({12:f}),({selected:f})=>f?4096:0]},$$scope:{ctx:a}}}),l=new Pa({props:{disabled:!a[5].image_params.channels[1],$$slots:{default:[Xl,({selected:f})=>({12:f}),({selected:f})=>f?4096:0]},$$scope:{ctx:a}}}),r=new Pa({props:{disabled:!a[5].image_params.channels[2],$$slots:{default:[Rl,({selected:f})=>({12:f}),({selected:f})=>f?4096:0]},$$scope:{ctx:a}}}),v=new Pa({props:{disabled:!a[5].image_params.channels[3],$$slots:{default:[Yl,({selected:f})=>({12:f}),({selected:f})=>f?4096:0]},$$scope:{ctx:a}}}),{c(){ie(t.$$.fragment),n=b(),ie(l.$$.fragment),i=b(),ie(r.$$.fragment),m=b(),ie(v.$$.fragment)},l(f){ue(t.$$.fragment,f),n=$(f),ue(l.$$.fragment,f),i=$(f),ue(r.$$.fragment,f),m=$(f),ue(v.$$.fragment,f)},m(f,k){pe(t,f,k),B(f,n,k),pe(l,f,k),B(f,i,k),pe(r,f,k),B(f,m,k),pe(v,f,k),g=!0},p(f,k){const A={};k&32&&(A.disabled=!f[5].image_params.channels[0]),k&12320&&(A.$$scope={dirty:k,ctx:f}),t.$set(A);const P={};k&32&&(P.disabled=!f[5].image_params.channels[1]),k&12320&&(P.$$scope={dirty:k,ctx:f}),l.$set(P);const T={};k&32&&(T.disabled=!f[5].image_params.channels[2]),k&12320&&(T.$$scope={dirty:k,ctx:f}),r.$set(T);const N={};k&32&&(N.disabled=!f[5].image_params.channels[3]),k&12320&&(N.$$scope={dirty:k,ctx:f}),v.$set(N)},i(f){g||(J(t.$$.fragment,f),J(l.$$.fragment,f),J(r.$$.fragment,f),J(v.$$.fragment,f),g=!0)},o(f){K(t.$$.fragment,f),K(l.$$.fragment,f),K(r.$$.fragment,f),K(v.$$.fragment,f),g=!1},d(f){ce(t,f),f&&o(n),ce(l,f),f&&o(i),ce(r,f),f&&o(m),ce(v,f)}}}function Jl(a){let t,n;return t=new Sl({props:{class:"p-1 bg-white shadow grid grid-cols-4 space-x-1 rounded-xl opacity-90 ",$$slots:{default:[Ql]},$$scope:{ctx:a}}}),{c(){ie(t.$$.fragment)},l(l){ue(t.$$.fragment,l)},m(l,i){pe(t,l,i),n=!0},p(l,i){const r={};i&8224&&(r.$$scope={dirty:i,ctx:l}),t.$set(r)},i(l){n||(J(t.$$.fragment,l),n=!0)},o(l){K(t.$$.fragment,l),n=!1},d(l){ce(t,l)}}}function Kl(a){var D;let t,n,l,i,r,m,v,g,f,k,A,P,T,N,w,O;return r=new Il({props:{$$slots:{default:[Jl]},$$scope:{ctx:a}}}),r.$on("change",a[7]),T=new ql({props:{hist:(D=a[1])==null?void 0:D.hist[a[0]]}}),{c(){t=u("div"),n=u("canvas"),l=b(),i=u("div"),ie(r.$$.fragment),m=b(),v=u("div"),g=u("span"),f=u("input"),k=_(`
      Show Histogram`),A=b(),P=u("div"),ie(T.$$.fragment),this.h()},l(C){t=p(C,"DIV",{id:!0,class:!0});var S=c(t);n=p(S,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),c(n).forEach(o),l=$(S),i=p(S,"DIV",{class:!0});var V=c(i);ue(r.$$.fragment,V),V.forEach(o),m=$(S),v=p(S,"DIV",{class:!0});var z=c(v);g=p(z,"SPAN",{class:!0});var U=c(g);f=p(U,"INPUT",{type:!0,class:!0}),k=h(U,`
      Show Histogram`),U.forEach(o),z.forEach(o),A=$(S),P=p(S,"DIV",{id:!0,class:!0});var fe=c(P);ue(T.$$.fragment,fe),fe.forEach(o),S.forEach(o),this.h()},h(){s(n,"id","canvas"),s(n,"width",1024),s(n,"height",128),s(n,"class","svelte-1ex0yha"),s(i,"class","absolute z-40 w-2/5 h-10 top-4 left-4"),s(f,"type","checkbox"),s(f,"class","mr-1 text-blue-500 rounded focus:ring-blue-300"),s(g,"class","mx-4 font-medium cursor-pointer"),s(v,"class","absolute z-40 inline-flex items-center h-12 bg-white border rounded-lg shadow-lg top-4 right-8 opacity-90"),s(P,"id","histogram"),s(P,"class","absolute z-30 p-6 pb-3 bg-white rounded-lg shadow-lg shadow-gray-500 bottom-8 right-8 opacity-90 w-[400px] h-[300px]"),y(P,"hidden",!a[4]),s(t,"id","frame"),s(t,"class","relative z-10 w-11/12 mx-auto mt-4 border border-gray-300 rounded-md resize-y min-h-[40vh] svelte-1ex0yha")},m(C,S){B(C,t,S),e(t,n),a[6](n),e(t,l),e(t,i),pe(r,i,null),e(t,m),e(t,v),e(v,g),e(g,f),f.checked=a[4],e(g,k),e(t,A),e(t,P),pe(T,P,null),N=!0,w||(O=[X(n,"wheel",function(){Tl(a[3].zoomWithWheel)&&a[3].zoomWithWheel.apply(this,arguments)}),X(f,"change",a[8]),X(g,"click",a[9])],w=!0)},p(C,[S]){var U;a=C;const V={};S&8224&&(V.$$scope={dirty:S,ctx:a}),r.$set(V),S&16&&(f.checked=a[4]);const z={};S&3&&(z.hist=(U=a[1])==null?void 0:U.hist[a[0]]),T.$set(z),S&16&&y(P,"hidden",!a[4])},i(C){N||(J(r.$$.fragment,C),J(T.$$.fragment,C),N=!0)},o(C){K(r.$$.fragment,C),K(T.$$.fragment,C),N=!1},d(C){C&&o(t),a[6](null),ce(r),ce(T),w=!1,Ta(O)}}}function zt(a,t,n){return`tab-button ${t?"text-white":`${n?`text-gray-700 hover:text-black bg-white hover:bg-${a}-300`:"text-gray-400"}`}`}function en(a,t,n){let l,i;St(a,Cs,w=>n(1,l=w)),St(a,W,w=>n(5,i=w));let r,m,v,g,f=!0,k=0;Ol(()=>{g=r.getContext("2d"),n(3,v=Cl(r,{maxZoom:5}))}),m=new Image,m.onload=()=>g==null?void 0:g.drawImage(m,0,0);function A(w){Ts[w?"unshift":"push"](()=>{r=w,n(2,r)})}const P=w=>n(0,k=w.detail);function T(){f=this.checked,n(4,f)}const N=()=>n(4,f=!f);return a.$$.update=()=>{a.$$.dirty&3&&(m.src=l==null?void 0:l.img[k])},[k,l,r,v,f,i,A,P,T,N]}class tn extends ia{constructor(t){super();ua(this,t,en,Kl,pa,{})}}var Ss=(a,t,n)=>{a.setAttribute("aria-label",t),a.title="";const l=xl(a,Is({content:t},n));return{update:i=>l.setProps(Is({content:t},i)),destroy:()=>l.destroy()}};function an(a){let t,n,l,i;return{c(){t=xe("svg"),n=xe("path"),l=xe("path"),i=_(`
          Capture`),this.h()},l(r){t=ze(r,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var m=c(t);n=ze(m,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(n).forEach(o),l=ze(m,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(l).forEach(o),m.forEach(o),i=h(r,`
          Capture`),this.h()},h(){s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"stroke-width","2"),s(n,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),s(l,"stroke-linecap","round"),s(l,"stroke-linejoin","round"),s(l,"stroke-width","2"),s(l,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"class","w-6 h-6 -ml-0.5 mr-1 -translate-y-[0.25px]"),s(t,"fill","none"),s(t,"viewBox","0 0 24 24"),s(t,"stroke","currentColor")},m(r,m){B(r,t,m),e(t,n),e(t,l),B(r,i,m)},d(r){r&&o(t),r&&o(i)}}}function sn(a){let t,n,l,i,r,m;return{c(){t=xe("svg"),n=xe("path"),l=xe("path"),i=b(),r=u("p"),m=_("Stop"),this.h()},l(v){t=ze(v,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var g=c(t);n=ze(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(n).forEach(o),l=ze(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(l).forEach(o),g.forEach(o),i=$(v),r=p(v,"P",{class:!0});var f=c(r);m=h(f,"Stop"),f.forEach(o),this.h()},h(){s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"stroke-width","2"),s(n,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),s(l,"stroke-linecap","round"),s(l,"stroke-linejoin","round"),s(l,"stroke-width","2"),s(l,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"class","w-6 h-6 mr-1"),s(t,"fill","none"),s(t,"viewBox","0 0 24 24"),s(t,"stroke","currentColor"),s(r,"class","flex-grow")},m(v,g){B(v,t,g),e(t,n),e(t,l),B(v,i,g),B(v,r,g),e(r,m)},d(v){v&&o(t),v&&o(i),v&&o(r)}}}function ln(a){let t,n,l,i,r,m,v,g,f,k,A,P,T,N,w,O,D,C,S,V,z=a[4]*a[3]+"",U,fe,Y,j,Z,R=a[1].toFixed(3)+"",ne,q,Le,I,L,M=a[0].toFixed(3)+"",Ae,Fe,G,Q,re,ut,ge,ve,At,Bt,ee,Pe,Re=(a[2].image_params.z_n?a[2].image_params.z_n:1)+"",pt,Be,He,H,Ne,Ye=a[4]*a[3]/10+"",be,Dt,Ie,We,te,Vt,De;function Wt(x,F){return x[2].block?sn:an}let $e=Wt(a),ke=$e(a);return{c(){t=u("span"),n=u("div"),l=u("button"),i=u("div"),ke.c(),r=b(),m=u("button"),v=u("div"),g=xe("svg"),f=xe("path"),k=_(`
        Preview`),P=b(),T=u("content"),N=u("div"),w=u("section"),O=u("span"),D=u("span"),C=_(gl),S=_(`
          /
          `),V=u("span"),U=_(z),fe=b(),Y=u("section"),j=u("span"),Z=_("Width "),ne=_(R),q=_(" mm"),Le=b(),I=u("span"),L=_("Height "),Ae=_(M),Fe=_(" mm"),G=b(),Q=u("section"),re=u("span"),ut=_(a[3]),ge=_(" Columns of "),ve=_(a[4]),At=_(" Bundles"),Bt=b(),ee=u("span"),Pe=_("Z-Stack depth of "),pt=_(Re),Be=b(),He=u("section"),H=u("span"),Ne=_("Total time: "),be=_(Ye),Dt=_(" s"),Ie=_(`

    
    Bundles taken
    `),We=u("div"),te=u("progress"),this.h()},l(x){t=p(x,"SPAN",{class:!0});var F=c(t);n=p(F,"DIV",{class:!0});var Ee=c(n);l=p(Ee,"BUTTON",{type:!0,class:!0});var Zt=c(l);i=p(Zt,"DIV",{class:!0});var qt=c(i);ke.l(qt),qt.forEach(o),Zt.forEach(o),r=$(Ee),m=p(Ee,"BUTTON",{type:!0,id:!0,class:!0});var oe=c(m);v=p(oe,"DIV",{class:!0});var me=c(v);g=ze(me,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var Ve=c(g);f=ze(Ve,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(f).forEach(o),Ve.forEach(o),k=h(me,`
        Preview`),me.forEach(o),oe.forEach(o),Ee.forEach(o),P=$(F),T=p(F,"CONTENT",{class:!0});var we=c(T);N=p(we,"DIV",{class:!0});var Te=c(N);w=p(Te,"SECTION",{class:!0});var Ue=c(w);O=p(Ue,"SPAN",{class:!0});var ct=c(O);D=p(ct,"SPAN",{class:!0});var Gt=c(D);C=h(Gt,gl),Gt.forEach(o),S=h(ct,`
          /
          `),V=p(ct,"SPAN",{class:!0});var ae=c(V);U=h(ae,z),ae.forEach(o),ct.forEach(o),Ue.forEach(o),fe=$(Te),Y=p(Te,"SECTION",{class:!0});var Qe=c(Y);j=p(Qe,"SPAN",{});var ft=c(j);Z=h(ft,"Width "),ne=h(ft,R),q=h(ft," mm"),ft.forEach(o),Le=$(Qe),I=p(Qe,"SPAN",{});var mt=c(I);L=h(mt,"Height "),Ae=h(mt,M),Fe=h(mt," mm"),mt.forEach(o),Qe.forEach(o),G=$(Te),Q=p(Te,"SECTION",{class:!0});var de=c(Q);re=p(de,"SPAN",{});var _e=c(re);ut=h(_e,a[3]),ge=h(_e," Columns of "),ve=h(_e,a[4]),At=h(_e," Bundles"),_e.forEach(o),Bt=$(de),ee=p(de,"SPAN",{});var Ut=c(ee);Pe=h(Ut,"Z-Stack depth of "),pt=h(Ut,Re),Ut.forEach(o),de.forEach(o),Be=$(Te),He=p(Te,"SECTION",{class:!0});var Xt=c(He);H=p(Xt,"SPAN",{class:!0});var he=c(H);Ne=h(he,"Total time: "),be=h(he,Ye),Dt=h(he," s"),he.forEach(o),Xt.forEach(o),Te.forEach(o),Ie=h(we,`

    
    Bundles taken
    `),We=p(we,"DIV",{class:!0});var je=c(We);te=p(je,"PROGRESS",{class:!0}),c(te).forEach(o),je.forEach(o),we.forEach(o),F.forEach(o),this.h()},h(){s(i,"class","flex items-center h-12 text-lg"),s(l,"type","button"),s(l,"class","text-lg text-white focus:ring-4 focus:ring-blue-300 shadow-lg font-medium rounded-lg px-5 py-2.5 text-center mr-2 mb-2 svelte-4f7jci"),y(l,"start",!a[2].block),y(l,"stop",a[2].block),s(f,"stroke-linecap","round"),s(f,"stroke-linejoin","round"),s(f,"stroke-width","2"),s(f,"d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),s(g,"xmlns","http://www.w3.org/2000/svg"),s(g,"class","w-6 h-6 mr-1"),s(g,"fill","none"),s(g,"viewBox","0 0 24 24"),s(g,"stroke","currentColor"),s(v,"class","flex items-center"),s(m,"type","button"),s(m,"id","preview"),s(m,"class","text-lg mt-2 text-white focus:ring-4 focus:ring-sky-300 font-medium rounded-lg shadow px-4 py-2.5 text-center inline-flex items-center mr-2 svelte-4f7jci"),m.disabled=A=Boolean(a[2].block),s(n,"class","grid grid-flow-row w-36"),s(D,"class","font-mono"),s(V,"class","w-32 px-2 font-mono text-4xl font-bold "),s(O,"class","text-4xl font-bold"),s(w,"class","flex items-center"),s(Y,"class","flex flex-col tabular-nums"),s(Q,"class","flex flex-col"),s(H,"class","text-lg font-medium"),s(He,"class","flex items-center"),s(N,"class","grid max-w-4xl grid-cols-4 mt-1"),s(te,"class","relative w-full h-2 overflow-hidden rounded-lg shadow appearance-none svelte-4f7jci"),te.value=a[6],s(We,"class","mt-1"),s(T,"class","flex-grow px-4 py-2 border rounded-lg border-base-300"),s(t,"class","z-40 flex w-full space-x-2")},m(x,F){B(x,t,F),e(t,n),e(n,l),e(l,i),ke.m(i,null),e(n,r),e(n,m),e(m,v),e(v,g),e(g,f),e(v,k),e(t,P),e(t,T),e(T,N),e(N,w),e(w,O),e(O,D),e(D,C),e(O,S),e(O,V),e(V,U),e(N,fe),e(N,Y),e(Y,j),e(j,Z),e(j,ne),e(j,q),e(Y,Le),e(Y,I),e(I,L),e(I,Ae),e(I,Fe),e(N,G),e(N,Q),e(Q,re),e(re,ut),e(re,ge),e(re,ve),e(re,At),e(Q,Bt),e(Q,ee),e(ee,Pe),e(ee,pt),e(N,Be),e(N,He),e(He,H),e(H,Ne),e(H,be),e(H,Dt),e(T,Ie),e(T,We),e(We,te),Vt||(De=[Os(Ss.call(null,l,"Take image and save.")),X(l,"click",a[8]),X(m,"click",a[9])],Vt=!0)},p(x,[F]){$e!==($e=Wt(x))&&(ke.d(1),ke=$e(x),ke&&(ke.c(),ke.m(i,null))),F&4&&y(l,"start",!x[2].block),F&4&&y(l,"stop",x[2].block),F&4&&A!==(A=Boolean(x[2].block))&&(m.disabled=A),F&24&&z!==(z=x[4]*x[3]+"")&&Ct(U,z),F&2&&R!==(R=x[1].toFixed(3)+"")&&Ct(ne,R),F&1&&M!==(M=x[0].toFixed(3)+"")&&Ct(Ae,M),F&8&&Ct(ut,x[3]),F&16&&Ct(ve,x[4]),F&4&&Re!==(Re=(x[2].image_params.z_n?x[2].image_params.z_n:1)+"")&&Ct(pt,Re),F&24&&Ye!==(Ye=x[4]*x[3]/10+"")&&Ct(be,Ye),F&64&&(te.value=x[6])},i:Ia,o:Ia,d(x){x&&o(t),ke.d(),Vt=!1,Ta(De)}}}let gl="  --";function nn(a,t,n){let l,i,r,m;St(a,W,w=>n(2,l=w)),St(a,Cs,w=>n(10,i=w)),St(a,Na,w=>n(5,r=w));let v=0,g=0,f=1,k=1;const A=Na.subscribe(w=>{fetch(`http://${window.location.hostname}:8000/img`).then(O=>O.json()).then(O=>{aa(Cs,i=O,i)})}),P=zl(0,{duration:400,easing:Bl});St(a,P,w=>n(6,m=w)),Al(A);const T=()=>{aa(W,l.block="capturing",l),aa(Na,r="capture",r)},N=()=>{aa(W,l.block="previewing",l),aa(Na,r="preview",r)};return a.$$.update=()=>{a.$$.dirty&4&&n(0,v=Math.max(l.image_params.xy1[1],l.image_params.xy0[1])-Math.min(l.image_params.xy1[1],l.image_params.xy0[1])),a.$$.dirty&4&&n(1,g=Math.max(l.image_params.xy1[0],l.image_params.xy0[0])-Math.min(l.image_params.xy1[0],l.image_params.xy0[0])),a.$$.dirty&2&&n(3,f=Math.ceil(g/.768)),a.$$.dirty&1&&n(4,k=Math.ceil(v/.048))},[v,g,l,f,k,r,m,P,T,N]}class rn extends ia{constructor(t){super();ua(this,t,nn,ln,pa,{})}}function on(a){let t;return{c(){t=_("Go")},l(n){t=h(n,"Go")},m(n,l){B(n,t,l)},i:Ia,o:Ia,d(n){n&&o(t)}}}function un(a){let t,n,l;return n=new Ul({props:{color:"white"}}),{c(){t=u("div"),ie(n.$$.fragment),this.h()},l(i){t=p(i,"DIV",{class:!0});var r=c(t);ue(n.$$.fragment,r),r.forEach(o),this.h()},h(){s(t,"class","ml-4")},m(i,r){B(i,t,r),pe(n,t,null),l=!0},i(i){l||(J(n.$$.fragment,i),l=!0)},o(i){K(n.$$.fragment,i),l=!1},d(i){i&&o(t),ce(n)}}}function pn(a){let t,n,l,i,r,m,v,g,f,k,A,P,T,N,w,O,D,C,S,V,z,U,fe,Y,j,Z,R;const ne=[un,on],q=[];function Le(I,L){return I[1].block?1:0}return O=Le(a),D=q[O]=ne[O](a),{c(){t=u("div"),n=u("div"),l=u("span"),i=_("X"),r=b(),m=u("input"),g=b(),f=u("span"),k=_("Y"),A=b(),P=u("input"),N=b(),w=u("button"),D.c(),S=b(),V=u("button"),z=xe("svg"),U=xe("path"),fe=_(`
    Current`),this.h()},l(I){t=p(I,"DIV",{class:!0});var L=c(t);n=p(L,"DIV",{class:!0});var M=c(n);l=p(M,"SPAN",{class:!0});var Ae=c(l);i=h(Ae,"X"),Ae.forEach(o),r=$(M),m=p(M,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),g=$(M),f=p(M,"SPAN",{class:!0});var Fe=c(f);k=h(Fe,"Y"),Fe.forEach(o),A=$(M),P=p(M,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),M.forEach(o),N=$(L),w=p(L,"BUTTON",{type:!0,class:!0,tabindex:!0});var G=c(w);D.l(G),G.forEach(o),S=$(L),V=p(L,"BUTTON",{type:!0,class:!0});var Q=c(V);z=ze(Q,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var re=c(z);U=ze(re,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(U).forEach(o),re.forEach(o),fe=h(Q,`
    Current`),Q.forEach(o),L.forEach(o),this.h()},h(){s(l,"class","flex items-center border-l rounded-l-lg color-group svelte-awp8a4"),y(l,"span-disabled",a[1].block),s(m,"type","number"),s(m,"min","-5"),s(m,"max","30"),s(m,"step","0.01"),s(m,"class","z-10 h-10 text-center rounded-none pretty w-28"),m.disabled=v=a[1].block,s(f,"class","flex items-center color-group svelte-awp8a4"),y(f,"span-disabled",a[1].block),s(P,"type","number"),s(P,"min","-5"),s(P,"max","80"),s(P,"step","0.01"),s(P,"class","z-10 h-10 text-center rounded-l-none rounded-r-lg pretty w-28"),P.disabled=T=a[1].block,s(n,"class","flex font-medium"),s(w,"type","button"),s(w,"class","px-4 py-1 text-sm font-medium text-blue-800 border-blue-300 rounded-lg hover:bg-blue-100 active:bg-blue-200 bg-blue-50 white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),s(w,"tabindex","0"),w.disabled=C=Boolean(a[1].block),s(U,"stroke-linecap","round"),s(U,"stroke-linejoin","round"),s(U,"stroke-width","2"),s(U,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),s(z,"xmlns","http://www.w3.org/2000/svg"),s(z,"class","w-5 h-5 mr-1"),s(z,"fill","none"),s(z,"viewBox","0 0 24 24"),s(z,"stroke","currentColor"),s(V,"type","button"),s(V,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),V.disabled=Y=a[1].block,s(t,"class","flex gap-x-2")},m(I,L){B(I,t,L),e(t,n),e(n,l),e(l,i),e(n,r),e(n,m),le(m,a[0][0]),e(n,g),e(n,f),e(f,k),e(n,A),e(n,P),le(P,a[0][1]),e(t,N),e(t,w),q[O].m(w,null),e(t,S),e(t,V),e(V,z),e(z,U),e(V,fe),j=!0,Z||(R=[X(m,"input",a[3]),X(P,"input",a[4]),X(w,"click",a[2])],Z=!0)},p(I,[L]){L&2&&y(l,"span-disabled",I[1].block),(!j||L&2&&v!==(v=I[1].block))&&(m.disabled=v),L&1&&Se(m.value)!==I[0][0]&&le(m,I[0][0]),L&2&&y(f,"span-disabled",I[1].block),(!j||L&2&&T!==(T=I[1].block))&&(P.disabled=T),L&1&&Se(P.value)!==I[0][1]&&le(P,I[0][1]);let M=O;O=Le(I),O!==M&&(Dl(),K(q[M],1,1,()=>{q[M]=null}),Vl(),D=q[O],D||(D=q[O]=ne[O](I),D.c()),J(D,1),D.m(w,null)),(!j||L&2&&C!==(C=Boolean(I[1].block)))&&(w.disabled=C),(!j||L&2&&Y!==(Y=I[1].block))&&(V.disabled=Y)},i(I){j||(J(D),j=!0)},o(I){K(D),j=!1},d(I){I&&o(t),q[O].d(),Z=!1,Ta(R)}}}function cn(a,t,n){let l;St(a,W,g=>n(1,l=g));let{xy:i=[-1,-1]}=t;function r(){jl(l.image_params.fc,i[0],i[1]),aa(W,l.block=!0,l)}function m(){i[0]=Se(this.value),n(0,i)}function v(){i[1]=Se(this.value),n(0,i)}return a.$$set=g=>{"xy"in g&&n(0,i=g.xy)},[i,l,r,m,v]}class vl extends ia{constructor(t){super();ua(this,t,cn,pn,pa,{xy:0})}}function fn(a){let t,n,l,i,r,m,v,g,f,k,A,P,T,N,w,O,D,C,S,V,z,U,fe,Y,j,Z,R,ne,q,Le,I,L,M,Ae,Fe,G,Q,re,ut,ge,ve,At,Bt,ee,Pe,Re,pt,Be,He,H,Ne,Ye,be,Dt,Ie,We,te,Vt,De,Wt,$e,ke,x,F,Ee,Zt,qt,oe,me,Ve,we,Te,Ue,ct,Gt,ae,Qe,ft,mt,de,_e,Ut,Xt,he,je,Oa,Ca,jt,Sa,ye,dt,xa,_t,za,ht,Aa,gt,Ba,vt,Da,bt,Va,$t,Ua,kt,ja,Ma,Ze,Rt,La,Fa,Et,Yt,Ha,Wa,Je,Za,qa,Mt,Qt,Ga,Xa,Ke,Ra,Ya,wt,Jt,Qa,Ja,Oe,Kt,Ka,et,es,ea,ts,yt,tt,as,at,st,Lt,ss,sa,ls,ns,la,rs,os,se,Pt,is,us,qe,ca,ps,lt,cs,fs,Ge,fa,ms,nt,ds,_s,Xe,ma,da,Ft,hs,_a,Ht,rt,gs,xs;i=new rn({});function bl(d){a[11](d)}let zs={};a[0].image_params.xy0!==void 0&&(zs.xy=a[0].image_params.xy0),Je=new vl({props:zs}),Ts.push(()=>_l(Je,"xy",bl));function $l(d){a[12](d)}let As={};return a[0].image_params.xy1!==void 0&&(As.xy=a[0].image_params.xy1),Ke=new vl({props:As}),Ts.push(()=>_l(Ke,"xy",$l)),Ht=new tn({}),{c(){t=u("div"),n=u("div"),l=b(),ie(i.$$.fragment),r=b(),m=u("p"),v=_("Capture Parameters"),g=b(),f=u("div"),k=u("section"),A=u("p"),P=_("Name"),T=b(),N=u("input"),w=b(),O=u("p"),D=_("Image Path"),C=b(),S=u("input"),V=b(),z=u("section"),U=u("h2"),fe=_("Laser and Channels"),Y=b(),j=u("div"),Z=u("p"),R=u("span"),ne=u("label"),q=u("input"),Le=b(),I=u("div"),L=_(`Laser:
              `),M=u("div"),Ae=_("532 nm"),Fe=b(),G=u("input"),re=_(`
          mW`),ut=b(),ge=u("label"),ve=u("input"),At=_(`
          Channel 0`),Bt=b(),ee=u("label"),Pe=u("input"),Re=_(`
          Channel 1`),pt=b(),Be=u("span"),He=_(`Filter OD
          `),H=u("select"),Ne=u("option"),Ye=_("Open"),be=u("option"),Dt=_("1.0"),Ie=u("option"),We=_("2.0"),te=u("option"),Vt=_("3.5"),De=u("option"),Wt=_("3.8"),$e=u("option"),ke=_("4.0"),x=u("option"),F=_("4.5"),Ee=u("option"),Zt=_("Closed"),qt=b(),oe=u("p"),me=u("span"),Ve=u("label"),we=u("input"),Te=_(`
            Laser:
            `),Ue=u("div"),ct=_("660 nm"),Gt=b(),ae=u("input"),ft=_(`
          mW`),mt=b(),de=u("label"),_e=u("input"),Ut=_(`
          Channel 2`),Xt=b(),he=u("label"),je=u("input"),Oa=_(`
          Channel 3`),Ca=b(),jt=u("span"),Sa=_(`Filter OD
          `),ye=u("select"),dt=u("option"),xa=_("Open"),_t=u("option"),za=_("0.2"),ht=u("option"),Aa=_("0.5"),gt=u("option"),Ba=_("0.6"),vt=u("option"),Da=_("1.0"),bt=u("option"),Va=_("2.4"),$t=u("option"),Ua=_("4.0"),kt=u("option"),ja=_("Closed"),Ma=b(),Ze=u("section"),Rt=u("h2"),La=_("Positions"),Fa=b(),Et=u("div"),Yt=u("p"),Ha=_("\u{1F4CC} Corner 1"),Wa=b(),ie(Je.$$.fragment),qa=b(),Mt=u("div"),Qt=u("p"),Ga=_("\u{1F4CD} Corner 2"),Xa=b(),ie(Ke.$$.fragment),Ya=b(),wt=u("section"),Jt=u("h2"),Qa=_("Focus"),Ja=b(),Oe=u("div"),Kt=u("p"),Ka=_(`Z Tilt
        `),et=u("input"),es=b(),ea=u("div"),ts=_(`Z Objective
        `),yt=u("span"),tt=u("input"),as=b(),at=u("button"),st=xe("svg"),Lt=xe("path"),ss=b(),sa=u("span"),ls=_("Autofocus"),ns=b(),la=u("div"),rs=_("Z-Stack"),os=b(),se=u("div"),Pt=u("span"),is=_("Spacing"),us=b(),qe=u("input"),ps=b(),lt=u("span"),cs=_("From"),fs=b(),Ge=u("input"),ms=b(),nt=u("span"),ds=_("To"),_s=b(),Xe=u("input"),da=b(),Ft=u("p"),hs=_("Preview"),_a=b(),ie(Ht.$$.fragment),this.h()},l(d){t=p(d,"DIV",{class:!0});var E=c(t);n=p(E,"DIV",{class:!0}),c(n).forEach(o),l=$(E),ue(i.$$.fragment,E),E.forEach(o),r=$(d),m=p(d,"P",{class:!0});var na=c(m);v=h(na,"Capture Parameters"),na.forEach(o),g=$(d),f=p(d,"DIV",{id:!0,class:!0});var Me=c(f);k=p(Me,"SECTION",{class:!0});var Nt=c(k);A=p(Nt,"P",{class:!0});var Bs=c(A);P=h(Bs,"Name"),Bs.forEach(o),T=$(Nt),N=p(Nt,"INPUT",{type:!0,class:!0}),w=$(Nt),O=p(Nt,"P",{class:!0});var Ds=c(O);D=h(Ds,"Image Path"),Ds.forEach(o),C=$(Nt),S=p(Nt,"INPUT",{type:!0,class:!0}),Nt.forEach(o),V=$(Me),z=p(Me,"SECTION",{class:!0});var ha=c(z);U=p(ha,"H2",{class:!0});var Vs=c(U);fe=h(Vs,"Laser and Channels"),Vs.forEach(o),Y=$(ha),j=p(ha,"DIV",{class:!0});var ga=c(j);Z=p(ga,"P",{class:!0});var It=c(Z);R=p(It,"SPAN",{});var ra=c(R);ne=p(ra,"LABEL",{});var va=c(ne);q=p(va,"INPUT",{type:!0,class:!0}),Le=$(va),I=p(va,"DIV",{class:!0});var vs=c(I);L=h(vs,`Laser:
              `),M=p(vs,"DIV",{class:!0});var Us=c(M);Ae=h(Us,"532 nm"),Us.forEach(o),vs.forEach(o),va.forEach(o),Fe=$(ra),G=p(ra,"INPUT",{type:!0,class:!0}),re=h(ra,`
          mW`),ra.forEach(o),ut=$(It),ge=p(It,"LABEL",{class:!0});var bs=c(ge);ve=p(bs,"INPUT",{type:!0,class:!0}),At=h(bs,`
          Channel 0`),bs.forEach(o),Bt=$(It),ee=p(It,"LABEL",{class:!0});var $s=c(ee);Pe=p($s,"INPUT",{type:!0,class:!0}),Re=h($s,`
          Channel 1`),$s.forEach(o),pt=$(It),Be=p(It,"SPAN",{class:!0});var ks=c(Be);He=h(ks,`Filter OD
          `),H=p(ks,"SELECT",{class:!0});var ot=c(H);Ne=p(ot,"OPTION",{});var js=c(Ne);Ye=h(js,"Open"),js.forEach(o),be=p(ot,"OPTION",{});var Ms=c(be);Dt=h(Ms,"1.0"),Ms.forEach(o),Ie=p(ot,"OPTION",{});var Ls=c(Ie);We=h(Ls,"2.0"),Ls.forEach(o),te=p(ot,"OPTION",{});var Fs=c(te);Vt=h(Fs,"3.5"),Fs.forEach(o),De=p(ot,"OPTION",{});var Hs=c(De);Wt=h(Hs,"3.8"),Hs.forEach(o),$e=p(ot,"OPTION",{});var Ws=c($e);ke=h(Ws,"4.0"),Ws.forEach(o),x=p(ot,"OPTION",{});var Zs=c(x);F=h(Zs,"4.5"),Zs.forEach(o),Ee=p(ot,"OPTION",{});var qs=c(Ee);Zt=h(qs,"Closed"),qs.forEach(o),ot.forEach(o),ks.forEach(o),It.forEach(o),qt=$(ga),oe=p(ga,"P",{class:!0});var Tt=c(oe);me=p(Tt,"SPAN",{});var oa=c(me);Ve=p(oa,"LABEL",{class:!0});var ba=c(Ve);we=p(ba,"INPUT",{type:!0,class:!0}),Te=h(ba,`
            Laser:
            `),Ue=p(ba,"DIV",{class:!0});var Gs=c(Ue);ct=h(Gs,"660 nm"),Gs.forEach(o),ba.forEach(o),Gt=$(oa),ae=p(oa,"INPUT",{type:!0,class:!0}),ft=h(oa,`
          mW`),oa.forEach(o),mt=$(Tt),de=p(Tt,"LABEL",{class:!0});var Es=c(de);_e=p(Es,"INPUT",{type:!0,class:!0}),Ut=h(Es,`
          Channel 2`),Es.forEach(o),Xt=$(Tt),he=p(Tt,"LABEL",{class:!0});var ws=c(he);je=p(ws,"INPUT",{type:!0,class:!0}),Oa=h(ws,`
          Channel 3`),ws.forEach(o),Ca=$(Tt),jt=p(Tt,"SPAN",{class:!0});var ys=c(jt);Sa=h(ys,`Filter OD
          `),ye=p(ys,"SELECT",{class:!0});var it=c(ye);dt=p(it,"OPTION",{});var Xs=c(dt);xa=h(Xs,"Open"),Xs.forEach(o),_t=p(it,"OPTION",{});var Rs=c(_t);za=h(Rs,"0.2"),Rs.forEach(o),ht=p(it,"OPTION",{});var Ys=c(ht);Aa=h(Ys,"0.5"),Ys.forEach(o),gt=p(it,"OPTION",{});var Qs=c(gt);Ba=h(Qs,"0.6"),Qs.forEach(o),vt=p(it,"OPTION",{});var Js=c(vt);Da=h(Js,"1.0"),Js.forEach(o),bt=p(it,"OPTION",{});var Ks=c(bt);Va=h(Ks,"2.4"),Ks.forEach(o),$t=p(it,"OPTION",{});var el=c($t);Ua=h(el,"4.0"),el.forEach(o),kt=p(it,"OPTION",{});var tl=c(kt);ja=h(tl,"Closed"),tl.forEach(o),it.forEach(o),ys.forEach(o),Tt.forEach(o),ga.forEach(o),ha.forEach(o),Ma=$(Me),Ze=p(Me,"SECTION",{class:!0});var ta=c(Ze);Rt=p(ta,"H2",{class:!0});var al=c(Rt);La=h(al,"Positions"),al.forEach(o),Fa=$(ta),Et=p(ta,"DIV",{class:!0});var $a=c(Et);Yt=p($a,"P",{class:!0});var sl=c(Yt);Ha=h(sl,"\u{1F4CC} Corner 1"),sl.forEach(o),Wa=$($a),ue(Je.$$.fragment,$a),$a.forEach(o),qa=$(ta),Mt=p(ta,"DIV",{});var ka=c(Mt);Qt=p(ka,"P",{class:!0});var ll=c(Qt);Ga=h(ll,"\u{1F4CD} Corner 2"),ll.forEach(o),Xa=$(ka),ue(Ke.$$.fragment,ka),ka.forEach(o),ta.forEach(o),Ya=$(Me),wt=p(Me,"SECTION",{class:!0});var Ea=c(wt);Jt=p(Ea,"H2",{class:!0});var nl=c(Jt);Qa=h(nl,"Focus"),nl.forEach(o),Ja=$(Ea),Oe=p(Ea,"DIV",{class:!0});var Ot=c(Oe);Kt=p(Ot,"P",{});var Ps=c(Kt);Ka=h(Ps,`Z Tilt
        `),et=p(Ps,"INPUT",{type:!0,class:!0}),Ps.forEach(o),es=$(Ot),ea=p(Ot,"DIV",{});var Ns=c(ea);ts=h(Ns,`Z Objective
        `),yt=p(Ns,"SPAN",{class:!0});var wa=c(yt);tt=p(wa,"INPUT",{type:!0,class:!0}),as=$(wa),at=p(wa,"BUTTON",{type:!0,class:!0});var ya=c(at);st=ze(ya,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var rl=c(st);Lt=ze(rl,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),c(Lt).forEach(o),rl.forEach(o),ss=$(ya),sa=p(ya,"SPAN",{});var ol=c(sa);ls=h(ol,"Autofocus"),ol.forEach(o),ya.forEach(o),wa.forEach(o),Ns.forEach(o),ns=$(Ot),la=p(Ot,"DIV",{});var il=c(la);rs=h(il,"Z-Stack"),il.forEach(o),os=$(Ot),se=p(Ot,"DIV",{class:!0});var Ce=c(se);Pt=p(Ce,"SPAN",{class:!0});var ul=c(Pt);is=h(ul,"Spacing"),ul.forEach(o),us=$(Ce),qe=p(Ce,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ps=$(Ce),lt=p(Ce,"SPAN",{class:!0});var pl=c(lt);cs=h(pl,"From"),pl.forEach(o),fs=$(Ce),Ge=p(Ce,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ms=$(Ce),nt=p(Ce,"SPAN",{class:!0});var cl=c(nt);ds=h(cl,"To"),cl.forEach(o),_s=$(Ce),Xe=p(Ce,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Ce.forEach(o),Ot.forEach(o),Ea.forEach(o),Me.forEach(o),da=$(d),Ft=p(d,"P",{class:!0});var fl=c(Ft);hs=h(fl,"Preview"),fl.forEach(o),_a=$(d),ue(Ht.$$.fragment,d),this.h()},h(){s(n,"class","w-full h-4"),s(t,"class","box-border sticky z-40 -mx-10 px-10 pb-6 shadow-md bg-white/[0.95] border-b top-16 "),s(m,"class","mt-6 title"),s(A,"class","text-lg"),s(N,"type","text"),s(N,"class","max-w-md mt-1 mb-4 pretty"),s(O,"class","text-lg"),s(S,"type","text"),s(S,"class","max-w-md mt-1 mb-4 pretty"),s(k,"class","flex flex-col text-lg font-medium"),s(U,"class"," svelte-gftuz3"),s(q,"type","checkbox"),s(q,"class","mr-1 rounded text-lime-500 focus:ring-lime-300"),s(M,"class","inline"),y(M,"text-green-800",a[0].image_params.laser_onoff[0]),s(I,"class","inline"),s(G,"type","number"),s(G,"class","w-20 h-8 mr-1 pretty"),G.disabled=Q=!a[0].image_params.laser_onoff[0],y(G,"pretty-disabled",!a[0].image_params.laser_onoff[0]),y(R,"text-gray-400",!a[0].image_params.laser_onoff[0]),s(ve,"type","checkbox"),s(ve,"class","mr-1 text-green-500 rounded focus:ring-green-300"),s(ge,"class","rounded-lg channel ring-red-500 svelte-gftuz3"),y(ge,"text-gray-400",!a[0].image_params.channels[0]),s(Pe,"type","checkbox"),s(Pe,"class","mr-1 text-orange-600 rounded focus:ring-orange-300"),s(ee,"class","channel svelte-gftuz3"),y(ee,"text-gray-400",!a[0].image_params.channels[1]),Ne.__value="Open",Ne.value=Ne.__value,be.__value="1.0",be.value=be.__value,Ie.__value="2.0",Ie.value=Ie.__value,te.__value="3.5",te.value=te.__value,De.__value="3.8",De.value=De.__value,$e.__value="4.0",$e.value=$e.__value,x.__value="4.5",x.value=x.__value,Ee.__value="Closed",Ee.value=Ee.__value,s(H,"class","py-1 text-sm border-gray-400 rounded disabled:border-gray-300"),s(Be,"class","ml-8 font-normal opacity-85"),s(Z,"class","flex flex-col"),s(we,"type","checkbox"),s(we,"class","mr-1 text-red-600 rounded focus:ring-red-300"),s(Ue,"class","inline"),y(Ue,"text-red-800",a[0].image_params.laser_onoff[1]),s(Ve,"class","whitespace-nowrap"),s(ae,"type","number"),s(ae,"class","w-20 h-8 mr-1 pretty"),ae.disabled=Qe=a[0].image_params.laser_onoff[1],y(ae,"pretty-disabled",!a[0].image_params.laser_onoff[1]),y(me,"text-gray-400",!a[0].image_params.laser_onoff[1]),s(_e,"type","checkbox"),s(_e,"class","mr-1 rounded text-rose-700 focus:ring-rose-500"),s(de,"class","channel svelte-gftuz3"),y(de,"text-gray-500",!a[0].image_params.channels[2]),s(je,"type","checkbox"),s(je,"class","mr-1 rounded text-amber-900 focus:ring-amber-700"),s(he,"class","channel svelte-gftuz3"),y(he,"text-gray-500",!a[0].image_params.channels[3]),dt.__value="Open",dt.value=dt.__value,_t.__value="0.2",_t.value=_t.__value,ht.__value="0.5",ht.value=ht.__value,gt.__value="0.6",gt.value=gt.__value,vt.__value="1.0",vt.value=vt.__value,bt.__value="2.4",bt.value=bt.__value,$t.__value="4.0",$t.value=$t.__value,kt.__value="Closed",kt.value=kt.__value,s(ye,"class","py-1 text-sm border-gray-400 rounded disabled:border-gray-300"),s(jt,"class","ml-8 font-normal opacity-85"),s(oe,"class","flex flex-col"),s(j,"class","grid grid-cols-2"),y(j,"opacity-70",a[0].block),s(z,"class","font-medium leading-10"),s(Rt,"class","mb-1 text-xl font-semibold svelte-gftuz3"),s(Yt,"class","mb-1"),s(Et,"class","mb-1"),s(Qt,"class","mb-1"),s(Ze,"class","flex flex-col gap-2"),s(Jt,"class"," svelte-gftuz3"),s(et,"type","number"),s(et,"class","w-28 pretty"),s(tt,"type","number"),s(tt,"class","w-28 pretty"),s(Lt,"fill-rule","evenodd"),s(Lt,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),s(Lt,"clip-rule","evenodd"),s(st,"xmlns","http://www.w3.org/2000/svg"),s(st,"class","w-5 h-5 mr-1"),s(st,"viewBox","0 0 20 20"),s(st,"fill","currentColor"),s(at,"type","button"),s(at,"class","px-4 py-1 font-medium text-gray-900 rounded-lg h-11 w-36 white-button"),s(yt,"class","flex gap-2"),s(Pt,"class","flex items-center border-l rounded-l-lg color-group"),y(Pt,"span-disabled",a[0].block),s(qe,"type","number"),s(qe,"min","1"),s(qe,"max","60000"),s(qe,"step","0.01"),s(qe,"class","z-10 h-10 text-center rounded-none pretty w-28"),qe.disabled=ca=a[0].block,s(lt,"class","flex items-center color-group"),y(lt,"span-disabled",a[0].block),s(Ge,"type","number"),s(Ge,"min","-100"),s(Ge,"max","100"),s(Ge,"step","0.01"),s(Ge,"class","z-10 h-10 text-center rounded-none pretty w-28 "),Ge.disabled=fa=a[0].block,s(nt,"class","flex items-center color-group"),y(nt,"span-disabled",a[0].block),s(Xe,"type","number"),s(Xe,"min","-100"),s(Xe,"max","100"),s(Xe,"step","0.01"),s(Xe,"class","z-10 w-20 h-10 text-center rounded-l-none rounded-r-lg pretty"),Xe.disabled=ma=a[0].block,s(se,"class","flex font-medium"),s(Oe,"class","grid grid-rows-2"),s(wt,"class","flex flex-col gap-2"),s(f,"id","control"),s(f,"class","grid grid-cols-2 gap-y-6 gap-x-4"),s(Ft,"class","title")},m(d,E){B(d,t,E),e(t,n),e(t,l),pe(i,t,null),B(d,r,E),B(d,m,E),e(m,v),B(d,g,E),B(d,f,E),e(f,k),e(k,A),e(A,P),e(k,T),e(k,N),le(N,a[0].image_params.name),e(k,w),e(k,O),e(O,D),e(k,C),e(k,S),le(S,a[0].image_params.path),e(f,V),e(f,z),e(z,U),e(U,fe),e(z,Y),e(z,j),e(j,Z),e(Z,R),e(R,ne),e(ne,q),q.checked=a[0].image_params.laser_onoff[0],e(ne,Le),e(ne,I),e(I,L),e(I,M),e(M,Ae),e(R,Fe),e(R,G),le(G,a[0].image_params.lasers[1]),e(R,re),e(Z,ut),e(Z,ge),e(ge,ve),ve.checked=a[0].image_params.channels[0],e(ge,At),e(Z,Bt),e(Z,ee),e(ee,Pe),Pe.checked=a[0].image_params.channels[1],e(ee,Re),e(Z,pt),e(Z,Be),e(Be,He),e(Be,H),e(H,Ne),e(Ne,Ye),e(H,be),e(be,Dt),e(H,Ie),e(Ie,We),e(H,te),e(te,Vt),e(H,De),e(De,Wt),e(H,$e),e($e,ke),e(H,x),e(x,F),e(H,Ee),e(Ee,Zt),e(j,qt),e(j,oe),e(oe,me),e(me,Ve),e(Ve,we),we.checked=a[0].image_params.laser_onoff[1],e(Ve,Te),e(Ve,Ue),e(Ue,ct),e(me,Gt),e(me,ae),le(ae,a[0].image_params.lasers[1]),e(me,ft),e(oe,mt),e(oe,de),e(de,_e),_e.checked=a[0].image_params.channels[2],e(de,Ut),e(oe,Xt),e(oe,he),e(he,je),je.checked=a[0].image_params.channels[3],e(he,Oa),e(oe,Ca),e(oe,jt),e(jt,Sa),e(jt,ye),e(ye,dt),e(dt,xa),e(ye,_t),e(_t,za),e(ye,ht),e(ht,Aa),e(ye,gt),e(gt,Ba),e(ye,vt),e(vt,Da),e(ye,bt),e(bt,Va),e(ye,$t),e($t,Ua),e(ye,kt),e(kt,ja),e(f,Ma),e(f,Ze),e(Ze,Rt),e(Rt,La),e(Ze,Fa),e(Ze,Et),e(Et,Yt),e(Yt,Ha),e(Et,Wa),pe(Je,Et,null),e(Ze,qa),e(Ze,Mt),e(Mt,Qt),e(Qt,Ga),e(Mt,Xa),pe(Ke,Mt,null),e(f,Ya),e(f,wt),e(wt,Jt),e(Jt,Qa),e(wt,Ja),e(wt,Oe),e(Oe,Kt),e(Kt,Ka),e(Kt,et),le(et,a[0].image_params.z_tilt),e(Oe,es),e(Oe,ea),e(ea,ts),e(ea,yt),e(yt,tt),le(tt,a[0].image_params.z_obj),e(yt,as),e(yt,at),e(at,st),e(st,Lt),e(at,ss),e(at,sa),e(sa,ls),e(Oe,ns),e(Oe,la),e(la,rs),e(Oe,os),e(Oe,se),e(se,Pt),e(Pt,is),e(se,us),e(se,qe),e(se,ps),e(se,lt),e(lt,cs),e(se,fs),e(se,Ge),e(se,ms),e(se,nt),e(nt,ds),e(se,_s),e(se,Xe),B(d,da,E),B(d,Ft,E),e(Ft,hs),B(d,_a,E),pe(Ht,d,E),rt=!0,gs||(xs=[X(N,"input",a[1]),X(S,"input",a[2]),X(q,"change",a[3]),X(G,"input",a[4]),X(ve,"change",a[5]),X(Pe,"change",a[6]),X(we,"change",a[7]),X(ae,"input",a[8]),X(_e,"change",a[9]),X(je,"change",a[10]),X(et,"input",a[13]),X(tt,"input",a[14]),Os(Ss.call(null,lt,"Multiple of Spacing")),Os(Ss.call(null,nt,"Multiple of Spacing"))],gs=!0)},p(d,[E]){E&1&&N.value!==d[0].image_params.name&&le(N,d[0].image_params.name),E&1&&S.value!==d[0].image_params.path&&le(S,d[0].image_params.path),E&1&&(q.checked=d[0].image_params.laser_onoff[0]),E&1&&y(M,"text-green-800",d[0].image_params.laser_onoff[0]),(!rt||E&1&&Q!==(Q=!d[0].image_params.laser_onoff[0]))&&(G.disabled=Q),E&1&&Se(G.value)!==d[0].image_params.lasers[1]&&le(G,d[0].image_params.lasers[1]),E&1&&y(G,"pretty-disabled",!d[0].image_params.laser_onoff[0]),E&1&&y(R,"text-gray-400",!d[0].image_params.laser_onoff[0]),E&1&&(ve.checked=d[0].image_params.channels[0]),E&1&&y(ge,"text-gray-400",!d[0].image_params.channels[0]),E&1&&(Pe.checked=d[0].image_params.channels[1]),E&1&&y(ee,"text-gray-400",!d[0].image_params.channels[1]),E&1&&(we.checked=d[0].image_params.laser_onoff[1]),E&1&&y(Ue,"text-red-800",d[0].image_params.laser_onoff[1]),(!rt||E&1&&Qe!==(Qe=d[0].image_params.laser_onoff[1]))&&(ae.disabled=Qe),E&1&&Se(ae.value)!==d[0].image_params.lasers[1]&&le(ae,d[0].image_params.lasers[1]),E&1&&y(ae,"pretty-disabled",!d[0].image_params.laser_onoff[1]),E&1&&y(me,"text-gray-400",!d[0].image_params.laser_onoff[1]),E&1&&(_e.checked=d[0].image_params.channels[2]),E&1&&y(de,"text-gray-500",!d[0].image_params.channels[2]),E&1&&(je.checked=d[0].image_params.channels[3]),E&1&&y(he,"text-gray-500",!d[0].image_params.channels[3]),E&1&&y(j,"opacity-70",d[0].block);const na={};!Za&&E&1&&(Za=!0,na.xy=d[0].image_params.xy0,hl(()=>Za=!1)),Je.$set(na);const Me={};!Ra&&E&1&&(Ra=!0,Me.xy=d[0].image_params.xy1,hl(()=>Ra=!1)),Ke.$set(Me),E&1&&Se(et.value)!==d[0].image_params.z_tilt&&le(et,d[0].image_params.z_tilt),E&1&&Se(tt.value)!==d[0].image_params.z_obj&&le(tt,d[0].image_params.z_obj),E&1&&y(Pt,"span-disabled",d[0].block),(!rt||E&1&&ca!==(ca=d[0].block))&&(qe.disabled=ca),E&1&&y(lt,"span-disabled",d[0].block),(!rt||E&1&&fa!==(fa=d[0].block))&&(Ge.disabled=fa),E&1&&y(nt,"span-disabled",d[0].block),(!rt||E&1&&ma!==(ma=d[0].block))&&(Xe.disabled=ma)},i(d){rt||(J(i.$$.fragment,d),J(Je.$$.fragment,d),J(Ke.$$.fragment,d),J(Ht.$$.fragment,d),rt=!0)},o(d){K(i.$$.fragment,d),K(Je.$$.fragment,d),K(Ke.$$.fragment,d),K(Ht.$$.fragment,d),rt=!1},d(d){d&&o(t),ce(i),d&&o(r),d&&o(m),d&&o(g),d&&o(f),ce(Je),ce(Ke),d&&o(da),d&&o(Ft),d&&o(_a),ce(Ht,d),gs=!1,Ta(xs)}}}function mn(a,t){a&&(a.querySelectorAll("input").forEach(n=>n.disabled=t),a.querySelectorAll("select").forEach(n=>n.disabled=t),a.querySelectorAll("button").forEach(n=>n.disabled=t))}function dn(a,t,n){let l;St(a,W,C=>n(0,l=C));function i(){l.image_params.name=this.value,W.set(l)}function r(){l.image_params.path=this.value,W.set(l)}function m(){l.image_params.laser_onoff[0]=this.checked,W.set(l)}function v(){l.image_params.lasers[1]=Se(this.value),W.set(l)}function g(){l.image_params.channels[0]=this.checked,W.set(l)}function f(){l.image_params.channels[1]=this.checked,W.set(l)}function k(){l.image_params.laser_onoff[1]=this.checked,W.set(l)}function A(){l.image_params.lasers[1]=Se(this.value),W.set(l)}function P(){l.image_params.channels[2]=this.checked,W.set(l)}function T(){l.image_params.channels[3]=this.checked,W.set(l)}function N(C){a.$$.not_equal(l.image_params.xy0,C)&&(l.image_params.xy0=C,W.set(l))}function w(C){a.$$.not_equal(l.image_params.xy1,C)&&(l.image_params.xy1=C,W.set(l))}function O(){l.image_params.z_tilt=Se(this.value),W.set(l)}function D(){l.image_params.z_obj=Se(this.value),W.set(l)}return a.$$.update=()=>{a.$$.dirty&1&&mn(document.getElementById("control"),l.block)},[l,i,r,m,v,g,f,k,A,P,T,N,w,O,D]}class kn extends ia{constructor(t){super();ua(this,t,dn,fn,pa,{})}}export{kn as default};
