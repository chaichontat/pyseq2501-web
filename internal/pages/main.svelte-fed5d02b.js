import{S as ce,i as de,s as fe,e as f,c as h,a as m,d as c,b as l,K as xe,f as Z,F as s,L as he,J as C,M as X,u as ze,P as Be,N as Ue,O as je,t as g,j as y,g as b,l as N,Q as Ie,h as me,R as Pe,T as Ce,U as Re,v as Te,E as We,w as Ae,x as Ve,p as De,n as ke,A as Oe}from"../chunks/vendor-88195046.js";import{m as pe,u as _e}from"../chunks/store-5f3e0299.js";function qe(r){let a,t,n,o,u;return{c(){a=f("div"),t=f("canvas"),this.h()},l(e){a=h(e,"DIV",{class:!0,style:!0});var d=m(a);t=h(d,"CANVAS",{id:!0,width:!0,height:!0,style:!0}),m(t).forEach(c),d.forEach(c),this.h()},h(){l(t,"id","canvas"),l(t,"width",2048),l(t,"height",n=128*r[1].n),xe(t,"border","2px solid #000000"),l(a,"class","mt-4 center shadow border border-gray-400"),xe(a,"height","75vh")},m(e,d){Z(e,a,d),s(a,t),r[6](t),o||(u=he(a,"wheel",function(){Ue(r[2].zoomWithWheel)&&r[2].zoomWithWheel.apply(this,arguments)}),o=!0)},p(e,[d]){r=e,d&2&&n!==(n=128*r[1].n)&&l(t,"height",n)},i:C,o:C,d(e){e&&c(a),r[6](null),o=!1,u()}}}function Fe(r,a,t){let n,o;X(r,pe,i=>t(5,n=i)),X(r,_e,i=>t(1,o=i));let u,e,d,E;ze(()=>{t(4,E=u.getContext("2d")),t(2,d=Be(u,{maxZoom:5})),d.zoom(.25,{animate:!0})});function w(i){je[i?"unshift":"push"](()=>{u=i,t(0,u)})}return r.$$.update=()=>{r.$$.dirty&59&&u&&n&&(n.n==1&&E.clearRect(0,0,u.width,u.height),t(3,e=new Image),t(3,e.onload=()=>E.drawImage(e,0,128*(o.n-n.n)),e),t(3,e.src="data:image/jpg;base64,"+n.img,e))},[u,o,d,e,E,n,w]}class Me extends ce{constructor(a){super();de(this,a,Fe,qe,fe,{})}}function He(r){let a,t,n,o,u,e,d,E,w,i,D,B,Y,x,I,k,R,$,v,ee,P,A,te,U=r[3].toFixed(3)+"",W,se,ae,V,ne,j=r[3]/2+"",q,re,le,O,oe,ue,z,S,F,M,ie,ve;return{c(){a=f("span"),t=f("content"),n=f("button"),o=g("Start"),u=y(),e=f("button"),d=g("Autofocus"),E=y(),w=f("div"),i=f("div"),D=f("div"),B=f("button"),Y=y(),x=f("div"),I=f("span"),k=f("span"),R=g(r[2]),$=g(`
          /
          `),v=f("input"),ee=y(),P=f("div"),A=f("span"),te=g("Height "),W=g(U),se=g(" mm"),ae=y(),V=f("span"),ne=g("Total time: "),q=g(j),re=g(" s"),le=y(),O=f("div"),oe=g("Bundles taken"),ue=y(),z=f("div"),S=f("progress"),this.h()},l(p){a=h(p,"SPAN",{class:!0});var _=m(a);t=h(_,"CONTENT",{class:!0});var H=m(t);n=h(H,"BUTTON",{class:!0});var ge=m(n);o=b(ge,"Start"),ge.forEach(c),u=N(H),e=h(H,"BUTTON",{class:!0});var be=m(e);d=b(be,"Autofocus"),be.forEach(c),H.forEach(c),E=N(_),w=h(_,"DIV",{class:!0});var Ee=m(w);i=h(Ee,"DIV",{class:!0});var T=m(i);D=h(T,"DIV",{class:!0});var we=m(D);B=h(we,"BUTTON",{class:!0}),m(B).forEach(c),we.forEach(c),Y=N(T),x=h(T,"DIV",{class:!0});var G=m(x);I=h(G,"SPAN",{class:!0});var J=m(I);k=h(J,"SPAN",{class:!0});var Se=m(k);R=b(Se,r[2]),Se.forEach(c),$=b(J,`
          /
          `),v=h(J,"INPUT",{type:!0,class:!0,min:!0,max:!0,placeholder:!0}),J.forEach(c),ee=N(G),P=h(G,"DIV",{class:!0});var K=m(P);A=h(K,"SPAN",{});var L=m(A);te=b(L,"Height "),W=b(L,U),se=b(L," mm"),L.forEach(c),ae=N(K),V=h(K,"SPAN",{});var Q=m(V);ne=b(Q,"Total time: "),q=b(Q,j),re=b(Q," s"),Q.forEach(c),K.forEach(c),G.forEach(c),le=N(T),O=h(T,"DIV",{class:!0});var ye=m(O);oe=b(ye,"Bundles taken"),ye.forEach(c),ue=N(T),z=h(T,"DIV",{class:!0});var Ne=m(z);S=h(Ne,"PROGRESS",{max:!0,class:!0}),m(S).forEach(c),Ne.forEach(c),T.forEach(c),Ee.forEach(c),_.forEach(c),this.h()},h(){l(n,"class","_btn btn--primary svelte-10c5x4u"),l(e,"class","_btn btn--secondary svelte-10c5x4u"),l(t,"class","grid grid-row-2 gap-y-2 w-32"),l(B,"class","btn loading btn-circle btn-lg bg-base-200 btn-ghost"),l(D,"class","stat-figure text-primary"),l(k,"class","font-mono"),l(v,"type","number"),l(v,"class","input stat-value w-36 text-right px-2"),l(v,"min","1"),l(v,"max","999"),l(v,"placeholder","1"),l(I,"class","stat-value"),l(P,"class","flex flex-col ml-4 opacity-75"),l(x,"class","flex"),l(O,"class","stat-title"),S.value=F=r[1].n,l(S,"max",M=r[0].n),l(S,"class","progress progress-secondary transition-all"),l(z,"class","stat-desc"),l(i,"class","stat"),l(w,"class","border stats border-base-300 flex-grow"),l(a,"class","flex flex-row gap-x-3 w-full")},m(p,_){Z(p,a,_),s(a,t),s(t,n),s(n,o),s(t,u),s(t,e),s(e,d),s(a,E),s(a,w),s(w,i),s(i,D),s(D,B),s(i,Y),s(i,x),s(x,I),s(I,k),s(k,R),s(I,$),s(I,v),Ie(v,r[0].n),s(x,ee),s(x,P),s(P,A),s(A,te),s(A,W),s(A,se),s(P,ae),s(P,V),s(V,ne),s(V,q),s(V,re),s(i,le),s(i,O),s(O,oe),s(i,ue),s(i,z),s(z,S),ie||(ve=[he(n,"click",r[4]),he(v,"input",r[6])],ie=!0)},p(p,[_]){_&4&&me(R,p[2]),_&1&&Pe(v.value)!==p[0].n&&Ie(v,p[0].n),_&8&&U!==(U=p[3].toFixed(3)+"")&&me(W,U),_&8&&j!==(j=p[3]/2+"")&&me(q,j),_&2&&F!==(F=p[1].n)&&(S.value=F),_&1&&M!==(M=p[0].n)&&l(S,"max",M)},i:C,o:C,d(p){p&&c(a),ie=!1,Ce(ve)}}}function Ge(r,a,t){let n,o;X(r,_e,i=>t(0,n=i)),X(r,pe,i=>t(1,o=i));let{curr:u}=a,e="  --",d=0;function E(){0<n.n&&n.n<1e3?Re(pe,o={cmd:"take",n:n.n},o):alert("Invalid number of bundles.")}function w(){n.n=Pe(this.value),_e.set(n)}return r.$$set=i=>{"curr"in i&&t(5,u=i.curr)},r.$$.update=()=>{r.$$.dirty&35&&(t(3,d=n.n*128*.375/1e3),t(5,u=o?o.n:-1),t(2,e=u==-1?"--":u))},[n,o,e,d,E,u,w]}class Je extends ce{constructor(a){super();de(this,a,Ge,He,fe,{curr:5})}}function Ke(r){let a,t,n,o,u;return t=new Je({props:{curr:null,full:null}}),o=new Me({}),{c(){a=y(),Te(t.$$.fragment),n=y(),Te(o.$$.fragment),this.h()},l(e){We('[data-svelte="svelte-1g6iwu5"]',document.head).forEach(c),a=N(e),Ae(t.$$.fragment,e),n=N(e),Ae(o.$$.fragment,e),this.h()},h(){document.title="PySeq 2501"},m(e,d){Z(e,a,d),Ve(t,e,d),Z(e,n,d),Ve(o,e,d),u=!0},p:C,i(e){u||(De(t.$$.fragment,e),De(o.$$.fragment,e),u=!0)},o(e){ke(t.$$.fragment,e),ke(o.$$.fragment,e),u=!1},d(e){e&&c(a),Oe(t,e),e&&c(n),Oe(o,e)}}}class Ze extends ce{constructor(a){super();de(this,a,null,Ke,fe,{})}}export{Ze as default};
