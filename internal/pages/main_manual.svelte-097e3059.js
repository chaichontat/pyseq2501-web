import{S as yt,i as Et,s as kt,e as c,O as qe,t as d,k as w,c as p,a as m,P as Ge,d as u,h as g,m as y,b as n,g as L,H as t,T as H,j as rt,M as Dt,U as Ot,N as Xe,V as la,ak as Ca,al as Ia,w as ae,x as se,y as ne,q as Y,o as Q,B as le,am as Sa,an as Aa,ao as Ba,R as S,ac as Ua,v as za,ap as Va,aq as Da,Q as ra,ar as zt,_ as Re,$ as K,Z as $e,n as Oa,p as La,W as Ea,X as ka}from"../chunks/vendor-58d6522a.js";import{u as G,i as oa,c as Vt,s as Ma}from"../chunks/store-426161a0.js";/* empty css                                                      */import{S as ja}from"../chunks/spinning-5aa7ef85.js";import{l as Ha}from"../chunks/coords-9a57de07.js";function Wa(a){let e,r,s,o,l,h,E,v,i,_,N,I,$,b,T,V,D,x,P,j,B=a[3]*a[2]+"",M,ue,ee,O,X,C=a[1].toFixed(3)+"",U,z,Pe,W,Ne,F=a[0].toFixed(3)+"",we,Qe,R,ce,_e,Le,pe,me,Je,Ke,Z,de,Se=a[3]*a[2]/10+"",Me,re,oe,J,ge,Te,ve,ot;return{c(){e=c("span"),r=c("div"),s=c("button"),o=qe("svg"),l=qe("path"),h=d(`
      Capture`),E=w(),v=c("button"),i=qe("svg"),_=qe("path"),N=d(`
      Preview`),I=w(),$=c("content"),b=c("div"),T=c("section"),V=c("span"),D=c("span"),x=d(xa),P=d(`
          /
          `),j=c("span"),M=d(B),ue=w(),ee=c("section"),O=c("span"),X=d("Width "),U=d(C),z=d(" mm"),Pe=w(),W=c("span"),Ne=d("Height "),we=d(F),Qe=d(" mm"),R=w(),ce=c("section"),_e=c("span"),Le=d(a[2]),pe=d(" columns of "),me=d(a[3]),Je=d(" bundles"),Ke=w(),Z=c("span"),de=d("Total time: "),Me=d(Se),re=d(" s"),oe=w(),J=c("div"),ge=d(`Bundles taken
      `),Te=c("progress"),this.h()},l(q){e=p(q,"SPAN",{class:!0});var A=m(e);r=p(A,"DIV",{class:!0});var Ae=m(r);s=p(Ae,"BUTTON",{type:!0,class:!0});var et=m(s);o=Ge(et,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0,xmlns:!0});var it=m(o);l=Ge(it,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(l).forEach(u),it.forEach(u),h=g(et,`
      Capture`),et.forEach(u),E=y(Ae),v=p(Ae,"BUTTON",{type:!0,class:!0});var fe=m(v);i=Ge(fe,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0,xmlns:!0});var ye=m(i);_=Ge(ye,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(_).forEach(u),ye.forEach(u),N=g(fe,`
      Preview`),fe.forEach(u),Ae.forEach(u),I=y(A),$=p(A,"CONTENT",{class:!0});var je=m($);b=p(je,"DIV",{class:!0});var Ce=m(b);T=p(Ce,"SECTION",{class:!0});var be=m(T);V=p(be,"SPAN",{class:!0});var he=m(V);D=p(he,"SPAN",{class:!0});var ut=m(D);x=g(ut,xa),ut.forEach(u),P=g(he,`
          /
          `),j=p(he,"SPAN",{class:!0});var ct=m(j);M=g(ct,B),ct.forEach(u),he.forEach(u),be.forEach(u),ue=y(Ce),ee=p(Ce,"SECTION",{class:!0});var te=m(ee);O=p(te,"SPAN",{});var Ee=m(O);X=g(Ee,"Width "),U=g(Ee,C),z=g(Ee," mm"),Ee.forEach(u),Pe=y(te),W=p(te,"SPAN",{});var He=m(W);Ne=g(He,"Height "),we=g(He,F),Qe=g(He," mm"),He.forEach(u),te.forEach(u),R=y(Ce),ce=p(Ce,"SECTION",{class:!0});var We=m(ce);_e=p(We,"SPAN",{});var ie=m(_e);Le=g(ie,a[2]),pe=g(ie," columns of "),me=g(ie,a[3]),Je=g(ie," bundles"),ie.forEach(u),Ke=y(We),Z=p(We,"SPAN",{class:!0});var ke=m(Z);de=g(ke,"Total time: "),Me=g(ke,Se),re=g(ke," s"),ke.forEach(u),We.forEach(u),Ce.forEach(u),oe=y(je),J=p(je,"DIV",{class:!0});var tt=m(J);ge=g(tt,`Bundles taken
      `),Te=p(tt,"PROGRESS",{class:!0}),m(Te).forEach(u),tt.forEach(u),je.forEach(u),A.forEach(u),this.h()},h(){n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"stroke-width","2"),n(l,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),n(o,"class","w-6 h-6 mr-1 -ml-2"),n(o,"fill","none"),n(o,"viewBox","0 0 24 24"),n(o,"stroke","currentColor"),n(o,"xmlns","http://www.w3.org/2000/svg"),n(s,"type","button"),n(s,"class","text-lg transition-colors shadow-md shadow-blue-500/50 text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 active:bg-blue-800 focus:ring-blue-300 font-medium rounded-lg px-4 py-2.5 text-center inline-flex items-center mr-2"),n(_,"stroke-linecap","round"),n(_,"stroke-linejoin","round"),n(_,"stroke-width","2"),n(_,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),n(i,"class","w-6 h-6 mr-1 -ml-2"),n(i,"fill","none"),n(i,"viewBox","0 0 24 24"),n(i,"stroke","currentColor"),n(i,"xmlns","http://www.w3.org/2000/svg"),n(v,"type","button"),n(v,"class","text-lg mt-2 transition-colors shadow-md shadow-blue-500/50 text-white bg-sky-500 hover:bg-sky-600 focus:ring-4 active:bg-sky-700 focus:ring-sky-300 font-medium rounded-lg px-4 py-2.5 text-center inline-flex items-center mr-2"),n(r,"class","grid grid-flow-row w-36"),n(D,"class","font-mono"),n(j,"class","w-32 px-2 font-mono text-4xl font-bold "),n(V,"class","text-4xl font-bold"),n(T,"class","flex items-center"),n(ee,"class","flex flex-col tabular-nums"),n(Z,"class","opacity-100"),n(ce,"class","flex flex-col"),n(b,"class","grid max-w-2xl grid-cols-3"),Te.value=16,n(Te,"class","transition-all progress progress-secondary"),n(J,"class",""),n($,"class","flex-grow px-4 py-2 border rounded-lg border-base-300 "),n(e,"class","z-40 flex w-full space-x-2")},m(q,A){L(q,e,A),t(e,r),t(r,s),t(s,o),t(o,l),t(s,h),t(r,E),t(r,v),t(v,i),t(i,_),t(v,N),t(e,I),t(e,$),t($,b),t(b,T),t(T,V),t(V,D),t(D,x),t(V,P),t(V,j),t(j,M),t(b,ue),t(b,ee),t(ee,O),t(O,X),t(O,U),t(O,z),t(ee,Pe),t(ee,W),t(W,Ne),t(W,we),t(W,Qe),t(b,R),t(b,ce),t(ce,_e),t(_e,Le),t(_e,pe),t(_e,me),t(_e,Je),t(ce,Ke),t(ce,Z),t(Z,de),t(Z,Me),t(Z,re),t($,oe),t($,J),t(J,ge),t(J,Te),ve||(ot=[H(s,"click",a[6]),H(v,"click",a[7])],ve=!0)},p(q,[A]){A&12&&B!==(B=q[3]*q[2]+"")&&rt(M,B),A&2&&C!==(C=q[1].toFixed(3)+"")&&rt(U,C),A&1&&F!==(F=q[0].toFixed(3)+"")&&rt(we,F),A&4&&rt(Le,q[2]),A&8&&rt(me,q[3]),A&12&&Se!==(Se=q[3]*q[2]/10+"")&&rt(Me,Se)},i:Dt,o:Dt,d(q){q&&u(e),ve=!1,Ot(ot)}}}let xa="  --";function Fa(a,e,r){let s,o,l;Xe(a,G,$=>r(5,s=$)),Xe(a,oa,$=>r(8,o=$)),Xe(a,Vt,$=>r(4,l=$));let h=0,E=0,v=1,i=1;const _=Vt.subscribe($=>{fetch(`http://${window.location.hostname}:8000/img`).then(b=>b.json()).then(b=>{la(oa,o=b,o)})});Ca(_);const N=()=>la(Vt,l="take",l),I=()=>la(Vt,l="take",l);return a.$$.update=()=>{a.$$.dirty&32&&r(0,h=Math.max(s.image_params.xy1[1],s.image_params.xy0[1])-Math.min(s.image_params.xy1[1],s.image_params.xy0[1])),a.$$.dirty&32&&r(1,E=Math.max(s.image_params.xy1[0],s.image_params.xy0[0])-Math.min(s.image_params.xy1[0],s.image_params.xy0[0])),a.$$.dirty&2&&r(2,v=Math.ceil(E/.768)),a.$$.dirty&1&&r(3,i=Math.ceil(h/.048))},[h,E,v,i,l,s,N,I]}class Za extends yt{constructor(e){super();Et(this,e,Fa,Wa,kt,{})}}function qa(a){let e;return{c(){e=c("div"),this.h()},l(r){e=p(r,"DIV",{class:!0}),m(e).forEach(u),this.h()},h(){n(e,"class","absolute w-full bg-blue-800 bottom-6 h-[90%] opacity-60")},m(r,s){L(r,e,s)},d(r){r&&u(e)}}}function Ga(a){let e,r=a[3]+"",s;return{c(){e=c("span"),s=d(r),this.h()},l(o){e=p(o,"SPAN",{class:!0});var l=m(e);s=g(l,r),l.forEach(u),this.h()},h(){n(e,"class","absolute bottom-0 right-0 text-sm text-center translate-x-1 vert svelte-b05ewu")},m(o,l){L(o,e,l),t(e,s)},p(o,l){l&8&&r!==(r=o[3]+"")&&rt(s,r)},d(o){o&&u(e)}}}function Xa(a){let e,r,s,o;return e=new Sa({props:{data:a[1],width:80,$$slots:{default:[qa]},$$scope:{ctx:a}}}),s=new Aa({props:{vertical:!0,count:5,$$slots:{default:[Ga,({value:l})=>({3:l}),({value:l})=>l?8:0]},$$scope:{ctx:a}}}),{c(){ae(e.$$.fragment),r=w(),ae(s.$$.fragment)},l(l){se(e.$$.fragment,l),r=y(l),se(s.$$.fragment,l)},m(l,h){ne(e,l,h),L(l,r,h),ne(s,l,h),o=!0},p(l,h){const E={};h&2&&(E.data=l[1]),h&16&&(E.$$scope={dirty:h,ctx:l}),e.$set(E);const v={};h&24&&(v.$$scope={dirty:h,ctx:l}),s.$set(v)},i(l){o||(Y(e.$$.fragment,l),Y(s.$$.fragment,l),o=!0)},o(l){Q(e.$$.fragment,l),Q(s.$$.fragment,l),o=!1},d(l){le(e,l),l&&u(r),le(s,l)}}}function Ra(a){let e,r,s;return r=new Ia({props:{x1:-10,x2:4096+10,y1:0,y2:a[0],$$slots:{default:[Xa]},$$scope:{ctx:a}}}),{c(){e=c("div"),ae(r.$$.fragment),this.h()},l(o){e=p(o,"DIV",{class:!0});var l=m(e);se(r.$$.fragment,l),l.forEach(u),this.h()},h(){n(e,"class","box-border w-full h-full")},m(o,l){L(o,e,l),ne(r,e,null),s=!0},p(o,[l]){const h={};l&1&&(h.y2=o[0]),l&18&&(h.$$scope={dirty:l,ctx:o}),r.$set(h)},i(o){s||(Y(r.$$.fragment,o),s=!0)},o(o){Q(r.$$.fragment,o),s=!1},d(o){o&&u(e),le(r)}}}function Ya(a,e){return a.map((r,s)=>({x:r,y:e[s]}))}function Qa(a,e,r){let{hist:s}=e,o,l=[{x:0,y:0},{x:2e3,y:10}];return a.$$set=h=>{"hist"in h&&r(2,s=h.hist)},a.$$.update=()=>{a.$$.dirty&4&&s&&(r(1,l=Ya(s.bin_edges,s.counts)),r(0,o=Math.max(...s.counts)))},[o,l,s]}class Ja extends yt{constructor(e){super();Et(this,e,Qa,Ra,kt,{hist:2})}}function Ka(a){let e,r,s;return{c(){e=c("button"),r=d("Channel 0"),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var l=m(e);r=g(l,"Channel 0"),l.forEach(u),this.h()},h(){n(e,"class",s=Re(Ye("green",a[12],a[5].image_params.channels[0]))+" svelte-1ex0yha"),S(e,"bg-green-600",a[12])},m(o,l){L(o,e,l),t(e,r)},p(o,l){l&4128&&s!==(s=Re(Ye("green",o[12],o[5].image_params.channels[0]))+" svelte-1ex0yha")&&n(e,"class",s),l&4128&&S(e,"bg-green-600",o[12])},d(o){o&&u(e)}}}function es(a){let e,r,s;return{c(){e=c("button"),r=d("Channel 1"),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var l=m(e);r=g(l,"Channel 1"),l.forEach(u),this.h()},h(){n(e,"class",s=Re(Ye("orange",a[12],a[5].image_params.channels[1]))+" svelte-1ex0yha"),S(e,"bg-orange-500",a[12])},m(o,l){L(o,e,l),t(e,r)},p(o,l){l&4128&&s!==(s=Re(Ye("orange",o[12],o[5].image_params.channels[1]))+" svelte-1ex0yha")&&n(e,"class",s),l&4128&&S(e,"bg-orange-500",o[12])},d(o){o&&u(e)}}}function ts(a){let e,r,s;return{c(){e=c("button"),r=d("Channel 2"),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var l=m(e);r=g(l,"Channel 2"),l.forEach(u),this.h()},h(){n(e,"class",s=Re(Ye("rose",a[12],a[5].image_params.channels[2]))+" svelte-1ex0yha"),S(e,"bg-rose-600",a[12])},m(o,l){L(o,e,l),t(e,r)},p(o,l){l&4128&&s!==(s=Re(Ye("rose",o[12],o[5].image_params.channels[2]))+" svelte-1ex0yha")&&n(e,"class",s),l&4128&&S(e,"bg-rose-600",o[12])},d(o){o&&u(e)}}}function as(a){let e,r,s;return{c(){e=c("button"),r=d("Channel 3"),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var l=m(e);r=g(l,"Channel 3"),l.forEach(u),this.h()},h(){n(e,"class",s=Re(Ye("amber",a[12],a[5].image_params.channels[3]))+" svelte-1ex0yha"),S(e,"bg-amber-800",a[12])},m(o,l){L(o,e,l),t(e,r)},p(o,l){l&4128&&s!==(s=Re(Ye("amber",o[12],o[5].image_params.channels[3]))+" svelte-1ex0yha")&&n(e,"class",s),l&4128&&S(e,"bg-amber-800",o[12])},d(o){o&&u(e)}}}function ss(a){let e,r,s,o,l,h,E,v;return e=new zt({props:{disabled:!a[5].image_params.channels[0],$$slots:{default:[Ka,({selected:i})=>({12:i}),({selected:i})=>i?4096:0]},$$scope:{ctx:a}}}),s=new zt({props:{disabled:!a[5].image_params.channels[1],$$slots:{default:[es,({selected:i})=>({12:i}),({selected:i})=>i?4096:0]},$$scope:{ctx:a}}}),l=new zt({props:{disabled:!a[5].image_params.channels[2],$$slots:{default:[ts,({selected:i})=>({12:i}),({selected:i})=>i?4096:0]},$$scope:{ctx:a}}}),E=new zt({props:{disabled:!a[5].image_params.channels[3],$$slots:{default:[as,({selected:i})=>({12:i}),({selected:i})=>i?4096:0]},$$scope:{ctx:a}}}),{c(){ae(e.$$.fragment),r=w(),ae(s.$$.fragment),o=w(),ae(l.$$.fragment),h=w(),ae(E.$$.fragment)},l(i){se(e.$$.fragment,i),r=y(i),se(s.$$.fragment,i),o=y(i),se(l.$$.fragment,i),h=y(i),se(E.$$.fragment,i)},m(i,_){ne(e,i,_),L(i,r,_),ne(s,i,_),L(i,o,_),ne(l,i,_),L(i,h,_),ne(E,i,_),v=!0},p(i,_){const N={};_&32&&(N.disabled=!i[5].image_params.channels[0]),_&12320&&(N.$$scope={dirty:_,ctx:i}),e.$set(N);const I={};_&32&&(I.disabled=!i[5].image_params.channels[1]),_&12320&&(I.$$scope={dirty:_,ctx:i}),s.$set(I);const $={};_&32&&($.disabled=!i[5].image_params.channels[2]),_&12320&&($.$$scope={dirty:_,ctx:i}),l.$set($);const b={};_&32&&(b.disabled=!i[5].image_params.channels[3]),_&12320&&(b.$$scope={dirty:_,ctx:i}),E.$set(b)},i(i){v||(Y(e.$$.fragment,i),Y(s.$$.fragment,i),Y(l.$$.fragment,i),Y(E.$$.fragment,i),v=!0)},o(i){Q(e.$$.fragment,i),Q(s.$$.fragment,i),Q(l.$$.fragment,i),Q(E.$$.fragment,i),v=!1},d(i){le(e,i),i&&u(r),le(s,i),i&&u(o),le(l,i),i&&u(h),le(E,i)}}}function ns(a){let e,r;return e=new Da({props:{class:"grid grid-cols-4 p-1 space-x-1 bg-white shadow rounded-xl opacity-90 ",$$slots:{default:[ss]},$$scope:{ctx:a}}}),{c(){ae(e.$$.fragment)},l(s){se(e.$$.fragment,s)},m(s,o){ne(e,s,o),r=!0},p(s,o){const l={};o&8224&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){r||(Y(e.$$.fragment,s),r=!0)},o(s){Q(e.$$.fragment,s),r=!1},d(s){le(e,s)}}}function ls(a){var D;let e,r,s,o,l,h,E,v,i,_,N,I,$,b,T,V;return l=new Ba({props:{$$slots:{default:[ns]},$$scope:{ctx:a}}}),l.$on("change",a[7]),$=new Ja({props:{hist:(D=a[1])==null?void 0:D.hist[a[0]]}}),{c(){e=c("div"),r=c("canvas"),s=w(),o=c("div"),ae(l.$$.fragment),h=w(),E=c("div"),v=c("span"),i=c("input"),_=d(`
      Show Histogram`),N=w(),I=c("div"),ae($.$$.fragment),this.h()},l(x){e=p(x,"DIV",{id:!0,class:!0});var P=m(e);r=p(P,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),m(r).forEach(u),s=y(P),o=p(P,"DIV",{class:!0});var j=m(o);se(l.$$.fragment,j),j.forEach(u),h=y(P),E=p(P,"DIV",{class:!0});var B=m(E);v=p(B,"SPAN",{class:!0});var M=m(v);i=p(M,"INPUT",{type:!0,class:!0}),_=g(M,`
      Show Histogram`),M.forEach(u),B.forEach(u),N=y(P),I=p(P,"DIV",{id:!0,class:!0});var ue=m(I);se($.$$.fragment,ue),ue.forEach(u),P.forEach(u),this.h()},h(){n(r,"id","canvas"),n(r,"width",1024),n(r,"height",128),n(r,"class","svelte-1ex0yha"),n(o,"class","absolute z-40 w-2/5 h-10 top-4 left-4"),n(i,"type","checkbox"),n(i,"class","mr-1 text-blue-500 rounded focus:ring-blue-300"),n(v,"class","mx-4 font-medium cursor-pointer"),n(E,"class","absolute z-40 inline-flex items-center h-12 bg-white border rounded-lg shadow-lg top-4 right-8 opacity-90"),n(I,"id","histogram"),n(I,"class","absolute z-30 p-6 pb-3 bg-white rounded-lg shadow-lg shadow-gray-500 bottom-8 right-8 opacity-90 w-[400px] h-[300px]"),S(I,"hidden",!a[4]),n(e,"id","frame"),n(e,"class","relative z-10 w-11/12 mx-auto mt-4 border border-gray-300 rounded-md resize-y min-h-[40vh] svelte-1ex0yha")},m(x,P){L(x,e,P),t(e,r),a[6](r),t(e,s),t(e,o),ne(l,o,null),t(e,h),t(e,E),t(E,v),t(v,i),i.checked=a[4],t(v,_),t(e,N),t(e,I),ne($,I,null),b=!0,T||(V=[H(r,"wheel",function(){Ua(a[3].zoomWithWheel)&&a[3].zoomWithWheel.apply(this,arguments)}),H(i,"change",a[8]),H(v,"click",a[9])],T=!0)},p(x,[P]){var M;a=x;const j={};P&8224&&(j.$$scope={dirty:P,ctx:a}),l.$set(j),P&16&&(i.checked=a[4]);const B={};P&3&&(B.hist=(M=a[1])==null?void 0:M.hist[a[0]]),$.$set(B),P&16&&S(I,"hidden",!a[4])},i(x){b||(Y(l.$$.fragment,x),Y($.$$.fragment,x),b=!0)},o(x){Q(l.$$.fragment,x),Q($.$$.fragment,x),b=!1},d(x){x&&u(e),a[6](null),le(l),le($),T=!1,Ot(V)}}}function Ye(a,e,r){return`tab-button ${e?"text-white":`${r?`text-gray-700 hover:text-black bg-white hover:bg-${a}-300`:"text-gray-400"}`}`}function rs(a,e,r){let s,o;Xe(a,oa,T=>r(1,s=T)),Xe(a,G,T=>r(5,o=T));let l,h,E,v,i=!0,_=0;za(()=>{v=l.getContext("2d"),r(3,E=Va(l,{maxZoom:5}))}),h=new Image,h.onload=()=>v==null?void 0:v.drawImage(h,0,0);function N(T){ra[T?"unshift":"push"](()=>{l=T,r(2,l)})}const I=T=>r(0,_=T.detail);function $(){i=this.checked,r(4,i)}const b=()=>r(4,i=!i);return a.$$.update=()=>{a.$$.dirty&3&&(h.src=s==null?void 0:s.img[_])},[_,s,l,E,i,o,N,I,$,b]}class os extends yt{constructor(e){super();Et(this,e,rs,ls,kt,{})}}function is(a){let e;return{c(){e=d("Go")},l(r){e=g(r,"Go")},m(r,s){L(r,e,s)},i:Dt,o:Dt,d(r){r&&u(e)}}}function us(a){let e,r,s;return r=new ja({props:{color:"white"}}),{c(){e=c("div"),ae(r.$$.fragment),this.h()},l(o){e=p(o,"DIV",{class:!0});var l=m(e);se(r.$$.fragment,l),l.forEach(u),this.h()},h(){n(e,"class","ml-4")},m(o,l){L(o,e,l),ne(r,e,null),s=!0},i(o){s||(Y(r.$$.fragment,o),s=!0)},o(o){Q(r.$$.fragment,o),s=!1},d(o){o&&u(e),le(r)}}}function cs(a){let e,r,s,o,l,h,E,v,i,_,N,I,$,b,T,V,D,x,P,j,B,M,ue;const ee=[us,is],O=[];function X(C,U){return C[1].moving?0:1}return b=X(a),T=O[b]=ee[b](a),{c(){e=c("div"),r=c("div"),s=c("span"),o=d("X"),l=w(),h=c("input"),E=w(),v=c("span"),i=d("Y"),_=w(),N=c("input"),I=w(),$=c("button"),T.c(),V=w(),D=c("button"),x=qe("svg"),P=qe("path"),j=d(`
    Current`),this.h()},l(C){e=p(C,"DIV",{class:!0});var U=m(e);r=p(U,"DIV",{class:!0});var z=m(r);s=p(z,"SPAN",{class:!0});var Pe=m(s);o=g(Pe,"X"),Pe.forEach(u),l=y(z),h=p(z,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),E=y(z),v=p(z,"SPAN",{class:!0});var W=m(v);i=g(W,"Y"),W.forEach(u),_=y(z),N=p(z,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),z.forEach(u),I=y(U),$=p(U,"BUTTON",{type:!0,class:!0,tabindex:!0});var Ne=m($);T.l(Ne),Ne.forEach(u),V=y(U),D=p(U,"BUTTON",{type:!0,class:!0});var F=m(D);x=Ge(F,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var we=m(x);P=Ge(we,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(P).forEach(u),we.forEach(u),j=g(F,`
    Current`),F.forEach(u),U.forEach(u),this.h()},h(){n(s,"class","flex items-center border-l rounded-l-lg svelte-1djtyld"),n(h,"type","number"),n(h,"min","-5"),n(h,"max","30"),n(h,"step","0.01"),n(h,"class","z-10 h-10 text-center rounded-none pretty w-28"),n(v,"class","flex items-center svelte-1djtyld"),n(N,"type","number"),n(N,"min","-5"),n(N,"max","80"),n(N,"step","0.01"),n(N,"class","z-10 h-10 text-center rounded-l-none rounded-r-lg pretty w-28"),n(r,"class","flex font-medium"),n($,"type","button"),n($,"class","px-4 py-1 text-sm font-medium rounded-lg white-button"),n($,"tabindex","0"),n(P,"stroke-linecap","round"),n(P,"stroke-linejoin","round"),n(P,"stroke-width","2"),n(P,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),n(x,"xmlns","http://www.w3.org/2000/svg"),n(x,"class","w-5 h-5 mr-1"),n(x,"fill","none"),n(x,"viewBox","0 0 24 24"),n(x,"stroke","currentColor"),n(D,"type","button"),n(D,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button"),n(e,"class","flex gap-x-2")},m(C,U){L(C,e,U),t(e,r),t(r,s),t(s,o),t(r,l),t(r,h),K(h,a[0][0]),t(r,E),t(r,v),t(v,i),t(r,_),t(r,N),K(N,a[0][1]),t(e,I),t(e,$),O[b].m($,null),t(e,V),t(e,D),t(D,x),t(x,P),t(D,j),B=!0,M||(ue=[H(h,"input",a[3]),H(N,"input",a[4]),H($,"click",a[2])],M=!0)},p(C,[U]){U&1&&$e(h.value)!==C[0][0]&&K(h,C[0][0]),U&1&&$e(N.value)!==C[0][1]&&K(N,C[0][1]);let z=b;b=X(C),b!==z&&(Oa(),Q(O[z],1,1,()=>{O[z]=null}),La(),T=O[b],T||(T=O[b]=ee[b](C),T.c()),Y(T,1),T.m($,null))},i(C){B||(Y(T),B=!0)},o(C){Q(T),B=!1},d(C){C&&u(e),O[b].d(),M=!1,Ot(ue)}}}function ps(a,e,r){let s,o;Xe(a,G,i=>r(5,s=i)),Xe(a,Ma,i=>r(1,o=i));let{xy:l=[-1,-1]}=e;function h(){Ha(s.image_params.flowcell,l[0],l[1])}function E(){l[0]=$e(this.value),r(0,l)}function v(){l[1]=$e(this.value),r(0,l)}return a.$$set=i=>{"xy"in i&&r(0,l=i.xy)},[l,o,h,E,v]}class Pa extends yt{constructor(e){super();Et(this,e,ps,cs,kt,{xy:0})}}function ms(a){let e,r,s,o,l,h,E,v,i,_,N,I,$,b,T,V,D,x,P,j,B,M,ue,ee,O,X,C,U,z,Pe,W,Ne,F,we,Qe,R,ce,_e,Le,pe,me,Je,Ke,Z,de,Se,Me,re,oe,J,ge,Te,ve,ot,q,A,Ae,et,it,fe,ye,je,Ce,be,he,ut,ct,te,Ee,He,We,ie,ke,tt,Lt,Be,Mt,jt,at,pt,Ht,Wt,Ue,Ft,Zt,Ie,mt,qt,Gt,ze,Xt,Fe,Ve,Rt,De,Oe,st,Yt,vt,Qt,xt,nt,Jt,Pt,lt,ft,Kt,ia;o=new Za({});function Na(f){a[11](f)}let ua={};a[0].image_params.xy0!==void 0&&(ua.xy=a[0].image_params.xy0),Be=new Pa({props:ua}),ra.push(()=>Ea(Be,"xy",Na));function Ta(f){a[12](f)}let ca={};return a[0].image_params.xy1!==void 0&&(ca.xy=a[0].image_params.xy1),Ue=new Pa({props:ca}),ra.push(()=>Ea(Ue,"xy",Ta)),lt=new os({}),{c(){e=c("div"),r=c("div"),s=w(),ae(o.$$.fragment),l=w(),h=c("p"),E=d("Capture Parameters"),v=w(),i=c("div"),_=c("section"),N=c("p"),I=d("Name"),$=w(),b=c("input"),T=w(),V=c("p"),D=d("Image Path"),x=w(),P=c("input"),j=w(),B=c("section"),M=c("h2"),ue=d("Laser and Channels"),ee=w(),O=c("div"),X=c("p"),C=c("span"),U=c("label"),z=c("input"),Pe=w(),W=c("div"),Ne=d(`Laser:
              `),F=c("div"),we=d("532 nm"),Qe=w(),R=c("input"),_e=d(`
          mW`),Le=w(),pe=c("label"),me=c("input"),Je=d(`
          Channel 0`),Ke=w(),Z=c("label"),de=c("input"),Se=d(`
          Channel 1`),Me=w(),re=c("p"),oe=c("span"),J=c("label"),ge=c("input"),Te=d(`
            Laser:
            `),ve=c("div"),ot=d("660 nm"),q=w(),A=c("input"),et=d(`
          mW`),it=w(),fe=c("label"),ye=c("input"),je=d(`
          Channel 2`),Ce=w(),be=c("label"),he=c("input"),ut=d(`
          Channel 3`),ct=w(),te=c("section"),Ee=c("h2"),He=d("Positions"),We=w(),ie=c("div"),ke=c("p"),tt=d("\u{1F4CC} Corner 1"),Lt=w(),ae(Be.$$.fragment),jt=w(),at=c("div"),pt=c("p"),Ht=d("\u{1F4CD} Corner 2"),Wt=w(),ae(Ue.$$.fragment),Zt=w(),Ie=c("section"),mt=c("h2"),qt=d("Focus"),Gt=d(`

    Z Tilt
    `),ze=c("input"),Xt=d(`

    Z Objective
    `),Fe=c("span"),Ve=c("input"),Rt=w(),De=c("button"),Oe=qe("svg"),st=qe("path"),Yt=w(),vt=c("span"),Qt=d("Autofocus"),xt=w(),nt=c("p"),Jt=d("Preview"),Pt=w(),ae(lt.$$.fragment),this.h()},l(f){e=p(f,"DIV",{class:!0});var k=m(e);r=p(k,"DIV",{class:!0}),m(r).forEach(u),s=y(k),se(o.$$.fragment,k),k.forEach(u),l=y(f),h=p(f,"P",{class:!0});var bt=m(h);E=g(bt,"Capture Parameters"),bt.forEach(u),v=y(f),i=p(f,"DIV",{class:!0});var xe=m(i);_=p(xe,"SECTION",{class:!0});var Ze=m(_);N=p(Ze,"P",{class:!0});var pa=m(N);I=g(pa,"Name"),pa.forEach(u),$=y(Ze),b=p(Ze,"INPUT",{type:!0,class:!0}),T=y(Ze),V=p(Ze,"P",{class:!0});var ma=m(V);D=g(ma,"Image Path"),ma.forEach(u),x=y(Ze),P=p(Ze,"INPUT",{type:!0,class:!0}),Ze.forEach(u),j=y(xe),B=p(xe,"SECTION",{class:!0});var Nt=m(B);M=p(Nt,"H2",{class:!0});var fa=m(M);ue=g(fa,"Laser and Channels"),fa.forEach(u),ee=y(Nt),O=p(Nt,"DIV",{class:!0});var Tt=m(O);X=p(Tt,"P",{class:!0});var ht=m(X);C=p(ht,"SPAN",{});var $t=m(C);U=p($t,"LABEL",{});var Ct=m(U);z=p(Ct,"INPUT",{type:!0,class:!0}),Pe=y(Ct),W=p(Ct,"DIV",{class:!0});var ea=m(W);Ne=g(ea,`Laser:
              `),F=p(ea,"DIV",{class:!0});var ha=m(F);we=g(ha,"532 nm"),ha.forEach(u),ea.forEach(u),Ct.forEach(u),Qe=y($t),R=p($t,"INPUT",{type:!0,class:!0}),_e=g($t,`
          mW`),$t.forEach(u),Le=y(ht),pe=p(ht,"LABEL",{class:!0});var ta=m(pe);me=p(ta,"INPUT",{type:!0,class:!0}),Je=g(ta,`
          Channel 0`),ta.forEach(u),Ke=y(ht),Z=p(ht,"LABEL",{class:!0});var aa=m(Z);de=p(aa,"INPUT",{type:!0,class:!0}),Se=g(aa,`
          Channel 1`),aa.forEach(u),ht.forEach(u),Me=y(Tt),re=p(Tt,"P",{class:!0});var _t=m(re);oe=p(_t,"SPAN",{});var wt=m(oe);J=p(wt,"LABEL",{class:!0});var It=m(J);ge=p(It,"INPUT",{type:!0,class:!0}),Te=g(It,`
            Laser:
            `),ve=p(It,"DIV",{class:!0});var _a=m(ve);ot=g(_a,"660 nm"),_a.forEach(u),It.forEach(u),q=y(wt),A=p(wt,"INPUT",{type:!0,class:!0}),et=g(wt,`
          mW`),wt.forEach(u),it=y(_t),fe=p(_t,"LABEL",{class:!0});var sa=m(fe);ye=p(sa,"INPUT",{type:!0,class:!0}),je=g(sa,`
          Channel 2`),sa.forEach(u),Ce=y(_t),be=p(_t,"LABEL",{class:!0});var na=m(be);he=p(na,"INPUT",{type:!0,class:!0}),ut=g(na,`
          Channel 3`),na.forEach(u),_t.forEach(u),Tt.forEach(u),Nt.forEach(u),ct=y(xe),te=p(xe,"SECTION",{class:!0});var dt=m(te);Ee=p(dt,"H2",{class:!0});var da=m(Ee);He=g(da,"Positions"),da.forEach(u),We=y(dt),ie=p(dt,"DIV",{class:!0});var St=m(ie);ke=p(St,"P",{class:!0});var ga=m(ke);tt=g(ga,"\u{1F4CC} Corner 1"),ga.forEach(u),Lt=y(St),se(Be.$$.fragment,St),St.forEach(u),jt=y(dt),at=p(dt,"DIV",{});var At=m(at);pt=p(At,"P",{class:!0});var va=m(pt);Ht=g(va,"\u{1F4CD} Corner 2"),va.forEach(u),Wt=y(At),se(Ue.$$.fragment,At),At.forEach(u),dt.forEach(u),Zt=y(xe),Ie=p(xe,"SECTION",{class:!0});var gt=m(Ie);mt=p(gt,"H2",{class:!0});var ba=m(mt);qt=g(ba,"Focus"),ba.forEach(u),Gt=g(gt,`

    Z Tilt
    `),ze=p(gt,"INPUT",{type:!0,class:!0}),Xt=g(gt,`

    Z Objective
    `),Fe=p(gt,"SPAN",{class:!0});var Bt=m(Fe);Ve=p(Bt,"INPUT",{type:!0,class:!0}),Rt=y(Bt),De=p(Bt,"BUTTON",{type:!0,class:!0});var Ut=m(De);Oe=Ge(Ut,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var $a=m(Oe);st=Ge($a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(st).forEach(u),$a.forEach(u),Yt=y(Ut),vt=p(Ut,"SPAN",{});var wa=m(vt);Qt=g(wa,"Autofocus"),wa.forEach(u),Ut.forEach(u),Bt.forEach(u),gt.forEach(u),xe.forEach(u),xt=y(f),nt=p(f,"P",{class:!0});var ya=m(nt);Jt=g(ya,"Preview"),ya.forEach(u),Pt=y(f),se(lt.$$.fragment,f),this.h()},h(){n(r,"class","w-full h-4"),n(e,"class","box-border sticky z-40 -mx-10 px-10 pb-6 shadow-md bg-white/[0.95] border-b top-16 "),n(h,"class","mt-6 title"),n(N,"class","text-lg"),n(b,"type","text"),n(b,"class","max-w-md mt-1 mb-4 pretty"),n(V,"class","text-lg"),n(P,"type","text"),n(P,"class","max-w-md mt-1 mb-4 pretty"),n(_,"class","flex flex-col text-lg font-medium"),n(M,"class"," svelte-g1wiba"),n(z,"type","checkbox"),n(z,"class","mr-1 rounded text-lime-500 focus:ring-lime-300"),n(F,"class","inline"),S(F,"text-green-800",a[0].image_params.laser_onoff[0]),n(W,"class","inline"),n(R,"type","number"),n(R,"class","w-20 h-8 mr-1 pretty"),R.disabled=ce=!a[0].image_params.laser_onoff[0],S(R,"pretty-disabled",!a[0].image_params.laser_onoff[0]),S(C,"text-gray-400",!a[0].image_params.laser_onoff[0]),n(me,"type","checkbox"),n(me,"class","mr-1 text-green-500 rounded focus:ring-green-300"),n(pe,"class","rounded-lg channel ring-red-500 svelte-g1wiba"),S(pe,"text-gray-400",!a[0].image_params.channels[0]),n(de,"type","checkbox"),n(de,"class","mr-1 text-orange-600 rounded focus:ring-orange-300"),n(Z,"class","channel svelte-g1wiba"),S(Z,"text-gray-400",!a[0].image_params.channels[1]),n(X,"class","flex flex-col"),n(ge,"type","checkbox"),n(ge,"class","mr-1 text-red-600 rounded focus:ring-red-300"),n(ve,"class","inline"),S(ve,"text-red-800",a[0].image_params.laser_onoff[1]),n(J,"class","whitespace-nowrap"),n(A,"type","number"),n(A,"class","w-20 h-8 mr-1 pretty"),A.disabled=Ae=a[0].image_params.laser_onoff[1],S(A,"pretty-disabled",!a[0].image_params.laser_onoff[1]),S(oe,"text-gray-400",!a[0].image_params.laser_onoff[1]),n(ye,"type","checkbox"),n(ye,"class","mr-1 rounded text-rose-700 focus:ring-rose-500"),n(fe,"class","channel svelte-g1wiba"),S(fe,"text-gray-500",!a[0].image_params.channels[2]),n(he,"type","checkbox"),n(he,"class","mr-1 rounded text-amber-900 focus:ring-amber-700"),n(be,"class","channel svelte-g1wiba"),S(be,"text-gray-500",!a[0].image_params.channels[3]),n(re,"class","flex flex-col"),n(O,"class","grid grid-cols-2"),n(B,"class","font-medium leading-10"),n(Ee,"class","mb-1 text-xl font-semibold svelte-g1wiba"),n(ke,"class","mb-1"),n(ie,"class","mb-1"),n(pt,"class","mb-1"),n(te,"class","flex flex-col gap-2"),n(mt,"class"," svelte-g1wiba"),n(ze,"type","number"),n(ze,"class","w-28 pretty"),n(Ve,"type","number"),n(Ve,"class","w-28 pretty"),n(st,"fill-rule","evenodd"),n(st,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),n(st,"clip-rule","evenodd"),n(Oe,"xmlns","http://www.w3.org/2000/svg"),n(Oe,"class","w-5 h-5 mr-1"),n(Oe,"viewBox","0 0 20 20"),n(Oe,"fill","currentColor"),n(De,"type","button"),n(De,"class","px-4 py-1 font-medium text-gray-900 rounded-lg h-11 w-36 white-button"),n(Fe,"class","flex gap-2"),n(Ie,"class","flex flex-col gap-2"),n(i,"class","grid grid-cols-2 gap-y-6 gap-x-4"),n(nt,"class","title")},m(f,k){L(f,e,k),t(e,r),t(e,s),ne(o,e,null),L(f,l,k),L(f,h,k),t(h,E),L(f,v,k),L(f,i,k),t(i,_),t(_,N),t(N,I),t(_,$),t(_,b),K(b,a[0].image_params.name),t(_,T),t(_,V),t(V,D),t(_,x),t(_,P),K(P,a[0].image_params.path),t(i,j),t(i,B),t(B,M),t(M,ue),t(B,ee),t(B,O),t(O,X),t(X,C),t(C,U),t(U,z),z.checked=a[0].image_params.laser_onoff[0],t(U,Pe),t(U,W),t(W,Ne),t(W,F),t(F,we),t(C,Qe),t(C,R),K(R,a[0].image_params.lasers[1]),t(C,_e),t(X,Le),t(X,pe),t(pe,me),me.checked=a[0].image_params.channels[0],t(pe,Je),t(X,Ke),t(X,Z),t(Z,de),de.checked=a[0].image_params.channels[1],t(Z,Se),t(O,Me),t(O,re),t(re,oe),t(oe,J),t(J,ge),ge.checked=a[0].image_params.laser_onoff[1],t(J,Te),t(J,ve),t(ve,ot),t(oe,q),t(oe,A),K(A,a[0].image_params.lasers[1]),t(oe,et),t(re,it),t(re,fe),t(fe,ye),ye.checked=a[0].image_params.channels[2],t(fe,je),t(re,Ce),t(re,be),t(be,he),he.checked=a[0].image_params.channels[3],t(be,ut),t(i,ct),t(i,te),t(te,Ee),t(Ee,He),t(te,We),t(te,ie),t(ie,ke),t(ke,tt),t(ie,Lt),ne(Be,ie,null),t(te,jt),t(te,at),t(at,pt),t(pt,Ht),t(at,Wt),ne(Ue,at,null),t(i,Zt),t(i,Ie),t(Ie,mt),t(mt,qt),t(Ie,Gt),t(Ie,ze),K(ze,a[0].image_params.z_tilt),t(Ie,Xt),t(Ie,Fe),t(Fe,Ve),K(Ve,a[0].image_params.z_obj),t(Fe,Rt),t(Fe,De),t(De,Oe),t(Oe,st),t(De,Yt),t(De,vt),t(vt,Qt),L(f,xt,k),L(f,nt,k),t(nt,Jt),L(f,Pt,k),ne(lt,f,k),ft=!0,Kt||(ia=[H(b,"input",a[1]),H(P,"input",a[2]),H(z,"change",a[3]),H(R,"input",a[4]),H(me,"change",a[5]),H(de,"change",a[6]),H(ge,"change",a[7]),H(A,"input",a[8]),H(ye,"change",a[9]),H(he,"change",a[10]),H(ze,"input",a[13]),H(Ve,"input",a[14])],Kt=!0)},p(f,[k]){k&1&&b.value!==f[0].image_params.name&&K(b,f[0].image_params.name),k&1&&P.value!==f[0].image_params.path&&K(P,f[0].image_params.path),k&1&&(z.checked=f[0].image_params.laser_onoff[0]),k&1&&S(F,"text-green-800",f[0].image_params.laser_onoff[0]),(!ft||k&1&&ce!==(ce=!f[0].image_params.laser_onoff[0]))&&(R.disabled=ce),k&1&&$e(R.value)!==f[0].image_params.lasers[1]&&K(R,f[0].image_params.lasers[1]),k&1&&S(R,"pretty-disabled",!f[0].image_params.laser_onoff[0]),k&1&&S(C,"text-gray-400",!f[0].image_params.laser_onoff[0]),k&1&&(me.checked=f[0].image_params.channels[0]),k&1&&S(pe,"text-gray-400",!f[0].image_params.channels[0]),k&1&&(de.checked=f[0].image_params.channels[1]),k&1&&S(Z,"text-gray-400",!f[0].image_params.channels[1]),k&1&&(ge.checked=f[0].image_params.laser_onoff[1]),k&1&&S(ve,"text-red-800",f[0].image_params.laser_onoff[1]),(!ft||k&1&&Ae!==(Ae=f[0].image_params.laser_onoff[1]))&&(A.disabled=Ae),k&1&&$e(A.value)!==f[0].image_params.lasers[1]&&K(A,f[0].image_params.lasers[1]),k&1&&S(A,"pretty-disabled",!f[0].image_params.laser_onoff[1]),k&1&&S(oe,"text-gray-400",!f[0].image_params.laser_onoff[1]),k&1&&(ye.checked=f[0].image_params.channels[2]),k&1&&S(fe,"text-gray-500",!f[0].image_params.channels[2]),k&1&&(he.checked=f[0].image_params.channels[3]),k&1&&S(be,"text-gray-500",!f[0].image_params.channels[3]);const bt={};!Mt&&k&1&&(Mt=!0,bt.xy=f[0].image_params.xy0,ka(()=>Mt=!1)),Be.$set(bt);const xe={};!Ft&&k&1&&(Ft=!0,xe.xy=f[0].image_params.xy1,ka(()=>Ft=!1)),Ue.$set(xe),k&1&&$e(ze.value)!==f[0].image_params.z_tilt&&K(ze,f[0].image_params.z_tilt),k&1&&$e(Ve.value)!==f[0].image_params.z_obj&&K(Ve,f[0].image_params.z_obj)},i(f){ft||(Y(o.$$.fragment,f),Y(Be.$$.fragment,f),Y(Ue.$$.fragment,f),Y(lt.$$.fragment,f),ft=!0)},o(f){Q(o.$$.fragment,f),Q(Be.$$.fragment,f),Q(Ue.$$.fragment,f),Q(lt.$$.fragment,f),ft=!1},d(f){f&&u(e),le(o),f&&u(l),f&&u(h),f&&u(v),f&&u(i),le(Be),le(Ue),f&&u(xt),f&&u(nt),f&&u(Pt),le(lt,f),Kt=!1,Ot(ia)}}}function fs(a,e,r){let s;Xe(a,G,x=>r(0,s=x));function o(){s.image_params.name=this.value,G.set(s)}function l(){s.image_params.path=this.value,G.set(s)}function h(){s.image_params.laser_onoff[0]=this.checked,G.set(s)}function E(){s.image_params.lasers[1]=$e(this.value),G.set(s)}function v(){s.image_params.channels[0]=this.checked,G.set(s)}function i(){s.image_params.channels[1]=this.checked,G.set(s)}function _(){s.image_params.laser_onoff[1]=this.checked,G.set(s)}function N(){s.image_params.lasers[1]=$e(this.value),G.set(s)}function I(){s.image_params.channels[2]=this.checked,G.set(s)}function $(){s.image_params.channels[3]=this.checked,G.set(s)}function b(x){a.$$.not_equal(s.image_params.xy0,x)&&(s.image_params.xy0=x,G.set(s))}function T(x){a.$$.not_equal(s.image_params.xy1,x)&&(s.image_params.xy1=x,G.set(s))}function V(){s.image_params.z_tilt=$e(this.value),G.set(s)}function D(){s.image_params.z_obj=$e(this.value),G.set(s)}return[s,o,l,h,E,v,i,_,N,I,$,b,T,V,D]}class bs extends yt{constructor(e){super();Et(this,e,fs,ms,kt,{})}}export{bs as default};
