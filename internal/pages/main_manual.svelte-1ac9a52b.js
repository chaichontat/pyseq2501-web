var gs=Object.defineProperty;var us=Object.getOwnPropertySymbols;var $s=Object.prototype.hasOwnProperty,ks=Object.prototype.propertyIsEnumerable;var ps=(t,e,s)=>e in t?gs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Lt=(t,e)=>{for(var s in e||(e={}))$s.call(e,s)&&ps(t,s,e[s]);if(us)for(var s of us(e))ks.call(e,s)&&ps(t,s,e[s]);return t};import{S as ut,i as pt,s as ft,a7 as ws,e as p,w as ue,c as f,a as c,x as pe,d as i,b as r,g as z,y as fe,q as se,o as ae,B as ce,a8 as Es,a9 as ys,k as T,m as O,t as g,h as $,H as l,j as De,aa as Ps,R as F,T as ie,ab as Ns,U as It,N as Xe,v as Is,ac as Ts,ad as Os,Q as $t,ae as Mt,_ as Ie,af as Cs,O as Ve,P as Me,a0 as Wt,M as kt,V as it,ag as Ss,ah as zs,ai as As,$ as $e,Z as Ue,n as Bs,p as Ds,W as Pt,X as Nt}from"../chunks/vendor-298196a7.js";import{i as xt,u as xe,c as Ut}from"../chunks/store-4f64ec1c.js";/* empty css                                                      */import{S as Vs}from"../chunks/spinning-a18a96ab.js";import{l as Ms}from"../chunks/coords-9a57de07.js";function Us(t){let e;return{c(){e=p("div"),this.h()},l(s){e=f(s,"DIV",{class:!0}),c(e).forEach(i),this.h()},h(){r(e,"class","absolute w-full bg-blue-800 bottom-6 h-[90%] opacity-60")},m(s,a){z(s,e,a)},d(s){s&&i(e)}}}function js(t){let e,s=t[3]+"",a;return{c(){e=p("span"),a=g(s),this.h()},l(o){e=f(o,"SPAN",{class:!0});var n=c(e);a=$(n,s),n.forEach(i),this.h()},h(){r(e,"class","absolute bottom-0 right-0 text-sm text-center translate-x-1 vert svelte-b05ewu")},m(o,n){z(o,e,n),l(e,a)},p(o,n){n&8&&s!==(s=o[3]+"")&&De(a,s)},d(o){o&&i(e)}}}function Fs(t){let e,s,a,o;return e=new Es({props:{data:t[1],width:80,$$slots:{default:[Us]},$$scope:{ctx:t}}}),a=new ys({props:{vertical:!0,count:5,$$slots:{default:[js,({value:n})=>({3:n}),({value:n})=>n?8:0]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment),s=T(),ue(a.$$.fragment)},l(n){pe(e.$$.fragment,n),s=O(n),pe(a.$$.fragment,n)},m(n,d){fe(e,n,d),z(n,s,d),fe(a,n,d),o=!0},p(n,d){const _={};d&2&&(_.data=n[1]),d&16&&(_.$$scope={dirty:d,ctx:n}),e.$set(_);const v={};d&24&&(v.$$scope={dirty:d,ctx:n}),a.$set(v)},i(n){o||(se(e.$$.fragment,n),se(a.$$.fragment,n),o=!0)},o(n){ae(e.$$.fragment,n),ae(a.$$.fragment,n),o=!1},d(n){ce(e,n),n&&i(s),ce(a,n)}}}function Hs(t){let e,s,a;return s=new ws({props:{x1:-10,x2:4096+10,y1:0,y2:t[0],$$slots:{default:[Fs]},$$scope:{ctx:t}}}),{c(){e=p("div"),ue(s.$$.fragment),this.h()},l(o){e=f(o,"DIV",{class:!0});var n=c(e);pe(s.$$.fragment,n),n.forEach(i),this.h()},h(){r(e,"class","w-full h-full box-border")},m(o,n){z(o,e,n),fe(s,e,null),a=!0},p(o,[n]){const d={};n&1&&(d.y2=o[0]),n&18&&(d.$$scope={dirty:n,ctx:o}),s.$set(d)},i(o){a||(se(s.$$.fragment,o),a=!0)},o(o){ae(s.$$.fragment,o),a=!1},d(o){o&&i(e),ce(s)}}}function qs(t,e){return t.map((s,a)=>({x:s,y:e[a]}))}function Ls(t,e,s){let{hist:a}=e,o,n=[{x:0,y:0},{x:2e3,y:10}];return t.$$set=d=>{"hist"in d&&s(2,a=d.hist)},t.$$.update=()=>{t.$$.dirty&4&&a&&(s(1,n=qs(a.bin_edges,a.counts)),s(0,o=Math.max(...a.counts)))},[o,n,a]}class Ws extends ut{constructor(e){super();pt(this,e,Ls,Hs,ft,{hist:2})}}function xs(t){let e,s,a;return{c(){e=p("button"),s=g("Channel 0"),this.h()},l(o){e=f(o,"BUTTON",{class:!0});var n=c(e);s=$(n,"Channel 0"),n.forEach(i),this.h()},h(){r(e,"class",a=Ie(st("green",t[12],t[5].image_params.channels[0]))+" svelte-1ex0yha"),F(e,"bg-green-600",t[12])},m(o,n){z(o,e,n),l(e,s)},p(o,n){n&4128&&a!==(a=Ie(st("green",o[12],o[5].image_params.channels[0]))+" svelte-1ex0yha")&&r(e,"class",a),n&4128&&F(e,"bg-green-600",o[12])},d(o){o&&i(e)}}}function Zs(t){let e,s,a;return{c(){e=p("button"),s=g("Channel 1"),this.h()},l(o){e=f(o,"BUTTON",{class:!0});var n=c(e);s=$(n,"Channel 1"),n.forEach(i),this.h()},h(){r(e,"class",a=Ie(st("orange",t[12],t[5].image_params.channels[1]))+" svelte-1ex0yha"),F(e,"bg-orange-500",t[12])},m(o,n){z(o,e,n),l(e,s)},p(o,n){n&4128&&a!==(a=Ie(st("orange",o[12],o[5].image_params.channels[1]))+" svelte-1ex0yha")&&r(e,"class",a),n&4128&&F(e,"bg-orange-500",o[12])},d(o){o&&i(e)}}}function Xs(t){let e,s,a;return{c(){e=p("button"),s=g("Channel 2"),this.h()},l(o){e=f(o,"BUTTON",{class:!0});var n=c(e);s=$(n,"Channel 2"),n.forEach(i),this.h()},h(){r(e,"class",a=Ie(st("rose",t[12],t[5].image_params.channels[2]))+" svelte-1ex0yha"),F(e,"bg-rose-600",t[12])},m(o,n){z(o,e,n),l(e,s)},p(o,n){n&4128&&a!==(a=Ie(st("rose",o[12],o[5].image_params.channels[2]))+" svelte-1ex0yha")&&r(e,"class",a),n&4128&&F(e,"bg-rose-600",o[12])},d(o){o&&i(e)}}}function Gs(t){let e,s,a;return{c(){e=p("button"),s=g("Channel 3"),this.h()},l(o){e=f(o,"BUTTON",{class:!0});var n=c(e);s=$(n,"Channel 3"),n.forEach(i),this.h()},h(){r(e,"class",a=Ie(st("amber",t[12],t[5].image_params.channels[3]))+" svelte-1ex0yha"),F(e,"bg-amber-800",t[12])},m(o,n){z(o,e,n),l(e,s)},p(o,n){n&4128&&a!==(a=Ie(st("amber",o[12],o[5].image_params.channels[3]))+" svelte-1ex0yha")&&r(e,"class",a),n&4128&&F(e,"bg-amber-800",o[12])},d(o){o&&i(e)}}}function Rs(t){let e,s,a,o,n,d,_,v;return e=new Mt({props:{disabled:!t[5].image_params.channels[0],$$slots:{default:[xs,({selected:u})=>({12:u}),({selected:u})=>u?4096:0]},$$scope:{ctx:t}}}),a=new Mt({props:{disabled:!t[5].image_params.channels[1],$$slots:{default:[Zs,({selected:u})=>({12:u}),({selected:u})=>u?4096:0]},$$scope:{ctx:t}}}),n=new Mt({props:{disabled:!t[5].image_params.channels[2],$$slots:{default:[Xs,({selected:u})=>({12:u}),({selected:u})=>u?4096:0]},$$scope:{ctx:t}}}),_=new Mt({props:{disabled:!t[5].image_params.channels[3],$$slots:{default:[Gs,({selected:u})=>({12:u}),({selected:u})=>u?4096:0]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment),s=T(),ue(a.$$.fragment),o=T(),ue(n.$$.fragment),d=T(),ue(_.$$.fragment)},l(u){pe(e.$$.fragment,u),s=O(u),pe(a.$$.fragment,u),o=O(u),pe(n.$$.fragment,u),d=O(u),pe(_.$$.fragment,u)},m(u,w){fe(e,u,w),z(u,s,w),fe(a,u,w),z(u,o,w),fe(n,u,w),z(u,d,w),fe(_,u,w),v=!0},p(u,w){const P={};w&32&&(P.disabled=!u[5].image_params.channels[0]),w&12320&&(P.$$scope={dirty:w,ctx:u}),e.$set(P);const k={};w&32&&(k.disabled=!u[5].image_params.channels[1]),w&12320&&(k.$$scope={dirty:w,ctx:u}),a.$set(k);const E={};w&32&&(E.disabled=!u[5].image_params.channels[2]),w&12320&&(E.$$scope={dirty:w,ctx:u}),n.$set(E);const N={};w&32&&(N.disabled=!u[5].image_params.channels[3]),w&12320&&(N.$$scope={dirty:w,ctx:u}),_.$set(N)},i(u){v||(se(e.$$.fragment,u),se(a.$$.fragment,u),se(n.$$.fragment,u),se(_.$$.fragment,u),v=!0)},o(u){ae(e.$$.fragment,u),ae(a.$$.fragment,u),ae(n.$$.fragment,u),ae(_.$$.fragment,u),v=!1},d(u){ce(e,u),u&&i(s),ce(a,u),u&&i(o),ce(n,u),u&&i(d),ce(_,u)}}}function Ys(t){let e,s;return e=new Os({props:{class:"p-1 bg-white shadow grid grid-cols-4 space-x-1 rounded-xl opacity-90 ",$$slots:{default:[Rs]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},l(a){pe(e.$$.fragment,a)},m(a,o){fe(e,a,o),s=!0},p(a,o){const n={};o&8224&&(n.$$scope={dirty:o,ctx:a}),e.$set(n)},i(a){s||(se(e.$$.fragment,a),s=!0)},o(a){ae(e.$$.fragment,a),s=!1},d(a){ce(e,a)}}}function Qs(t){var h;let e,s,a,o,n,d,_,v,u,w,P,k,E,N,m,C;return n=new Ps({props:{$$slots:{default:[Ys]},$$scope:{ctx:t}}}),n.$on("change",t[7]),E=new Ws({props:{hist:(h=t[1])==null?void 0:h.hist[t[0]]}}),{c(){e=p("div"),s=p("canvas"),a=T(),o=p("div"),ue(n.$$.fragment),d=T(),_=p("div"),v=p("span"),u=p("input"),w=g(`
      Show Histogram`),P=T(),k=p("div"),ue(E.$$.fragment),this.h()},l(I){e=f(I,"DIV",{id:!0,class:!0});var b=c(e);s=f(b,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),c(s).forEach(i),a=O(b),o=f(b,"DIV",{class:!0});var y=c(o);pe(n.$$.fragment,y),y.forEach(i),d=O(b),_=f(b,"DIV",{class:!0});var A=c(_);v=f(A,"SPAN",{class:!0});var U=c(v);u=f(U,"INPUT",{type:!0,class:!0}),w=$(U,`
      Show Histogram`),U.forEach(i),A.forEach(i),P=O(b),k=f(b,"DIV",{id:!0,class:!0});var L=c(k);pe(E.$$.fragment,L),L.forEach(i),b.forEach(i),this.h()},h(){r(s,"id","canvas"),r(s,"width",1024),r(s,"height",128),r(s,"class","svelte-1ex0yha"),r(o,"class","absolute z-40 w-2/5 h-10 top-4 left-4"),r(u,"type","checkbox"),r(u,"class","mr-1 text-blue-500 rounded focus:ring-blue-300"),r(v,"class","mx-4 font-medium cursor-pointer"),r(_,"class","absolute z-40 inline-flex items-center h-12 bg-white border rounded-lg shadow-lg top-4 right-8 opacity-90"),r(k,"id","histogram"),r(k,"class","absolute z-30 p-6 pb-3 bg-white rounded-lg shadow-lg shadow-gray-500 bottom-8 right-8 opacity-90 w-[400px] h-[300px]"),F(k,"hidden",!t[4]),r(e,"id","frame"),r(e,"class","relative z-10 w-11/12 mx-auto mt-4 border border-gray-300 rounded-md resize-y min-h-[40vh] svelte-1ex0yha")},m(I,b){z(I,e,b),l(e,s),t[6](s),l(e,a),l(e,o),fe(n,o,null),l(e,d),l(e,_),l(_,v),l(v,u),u.checked=t[4],l(v,w),l(e,P),l(e,k),fe(E,k,null),N=!0,m||(C=[ie(s,"wheel",function(){Ns(t[3].zoomWithWheel)&&t[3].zoomWithWheel.apply(this,arguments)}),ie(u,"change",t[8]),ie(v,"click",t[9])],m=!0)},p(I,[b]){var U;t=I;const y={};b&8224&&(y.$$scope={dirty:b,ctx:t}),n.$set(y),b&16&&(u.checked=t[4]);const A={};b&3&&(A.hist=(U=t[1])==null?void 0:U.hist[t[0]]),E.$set(A),b&16&&F(k,"hidden",!t[4])},i(I){N||(se(n.$$.fragment,I),se(E.$$.fragment,I),N=!0)},o(I){ae(n.$$.fragment,I),ae(E.$$.fragment,I),N=!1},d(I){I&&i(e),t[6](null),ce(n),ce(E),m=!1,It(C)}}}function st(t,e,s){return`tab-button ${e?"text-white":`${s?`text-gray-700 hover:text-black bg-white hover:bg-${t}-300`:"text-gray-400"}`}`}function Js(t,e,s){let a,o;Xe(t,xt,m=>s(1,a=m)),Xe(t,xe,m=>s(5,o=m));let n,d,_,v,u=!0,w=0;Is(()=>{v=n.getContext("2d"),s(3,_=Ts(n,{maxZoom:5}))}),d=new Image,d.onload=()=>v==null?void 0:v.drawImage(d,0,0);function P(m){$t[m?"unshift":"push"](()=>{n=m,s(2,n)})}const k=m=>s(0,w=m.detail);function E(){u=this.checked,s(4,u)}const N=()=>s(4,u=!u);return t.$$.update=()=>{t.$$.dirty&3&&(d.src=a==null?void 0:a.img[w])},[w,a,n,_,u,o,P,k,E,N]}class Ks extends ut{constructor(e){super();pt(this,e,Js,Qs,ft,{})}}var Zt=(t,e,s)=>{t.setAttribute("aria-label",e),t.title="";const a=Cs(t,Lt({content:e},s));return{update:o=>a.setProps(Lt({content:e},o)),destroy:()=>a.destroy()}};function ea(t){let e,s,a,o;return{c(){e=Ve("svg"),s=Ve("path"),a=Ve("path"),o=g(`
          Capture`),this.h()},l(n){e=Me(n,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var d=c(e);s=Me(d,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(s).forEach(i),a=Me(d,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(a).forEach(i),d.forEach(i),o=$(n,`
          Capture`),this.h()},h(){r(s,"stroke-linecap","round"),r(s,"stroke-linejoin","round"),r(s,"stroke-width","2"),r(s,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),r(a,"stroke-linecap","round"),r(a,"stroke-linejoin","round"),r(a,"stroke-width","2"),r(a,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"class","w-6 h-6 -ml-0.5 mr-1 -translate-y-[0.25px]"),r(e,"fill","none"),r(e,"viewBox","0 0 24 24"),r(e,"stroke","currentColor")},m(n,d){z(n,e,d),l(e,s),l(e,a),z(n,o,d)},d(n){n&&i(e),n&&i(o)}}}function ta(t){let e,s,a,o,n,d;return{c(){e=Ve("svg"),s=Ve("path"),a=Ve("path"),o=T(),n=p("p"),d=g("Stop"),this.h()},l(_){e=Me(_,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var v=c(e);s=Me(v,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(s).forEach(i),a=Me(v,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(a).forEach(i),v.forEach(i),o=O(_),n=f(_,"P",{class:!0});var u=c(n);d=$(u,"Stop"),u.forEach(i),this.h()},h(){r(s,"stroke-linecap","round"),r(s,"stroke-linejoin","round"),r(s,"stroke-width","2"),r(s,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),r(a,"stroke-linecap","round"),r(a,"stroke-linejoin","round"),r(a,"stroke-width","2"),r(a,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"class","w-6 h-6 mr-1"),r(e,"fill","none"),r(e,"viewBox","0 0 24 24"),r(e,"stroke","currentColor"),r(n,"class","flex-grow")},m(_,v){z(_,e,v),l(e,s),l(e,a),z(_,o,v),z(_,n,v),l(n,d)},d(_){_&&i(e),_&&i(o),_&&i(n)}}}function sa(t){let e,s,a,o,n,d,_,v,u,w,P,k,E,N,m,C,h,I,b,y,A=t[4]*t[3]+"",U,L,D,H,re,oe=t[1].toFixed(3)+"",me,G,K,M,V,W=t[0].toFixed(3)+"",ee,we,Y,Q,le,de,Te,je,ze,X,S,j,te=(t[2].image_params.z_n?t[2].image_params.z_n:1)+"",ve,Fe,ke,R,_e,Ee=t[4]*t[3]/10+"",Oe,at,Ce,qe,ye,lt,He;function Ae(q,x){return q[2].block?ta:ea}let Ge=Ae(t),ne=Ge(t);return{c(){e=p("span"),s=p("div"),a=p("button"),o=p("div"),ne.c(),n=T(),d=p("button"),_=p("div"),v=Ve("svg"),u=Ve("path"),w=g(`
        Preview`),k=T(),E=p("content"),N=p("div"),m=p("section"),C=p("span"),h=p("span"),I=g(fs),b=g(`
          /
          `),y=p("span"),U=g(A),L=T(),D=p("section"),H=p("span"),re=g("Width "),me=g(oe),G=g(" mm"),K=T(),M=p("span"),V=g("Height "),ee=g(W),we=g(" mm"),Y=T(),Q=p("section"),le=p("span"),de=g(t[3]),Te=g(" Columns of "),je=g(t[4]),ze=g(" Bundles"),X=T(),S=p("span"),j=g("Z-Stack depth of "),ve=g(te),Fe=T(),ke=p("section"),R=p("span"),_e=g("Total time: "),Oe=g(Ee),at=g(" s"),Ce=g(`

    
    Bundles taken
    `),qe=p("div"),ye=p("progress"),this.h()},l(q){e=f(q,"SPAN",{class:!0});var x=c(e);s=f(x,"DIV",{class:!0});var Re=c(s);a=f(Re,"BUTTON",{type:!0,class:!0});var Ye=c(a);o=f(Ye,"DIV",{class:!0});var ct=c(o);ne.l(ct),ct.forEach(i),Ye.forEach(i),n=O(Re),d=f(Re,"BUTTON",{type:!0,id:!0,class:!0});var dt=c(d);_=f(dt,"DIV",{class:!0});var Le=c(_);v=Me(Le,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var _t=c(v);u=Me(_t,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(u).forEach(i),_t.forEach(i),w=$(Le,`
        Preview`),Le.forEach(i),dt.forEach(i),Re.forEach(i),k=O(x),E=f(x,"CONTENT",{class:!0});var J=c(E);N=f(J,"DIV",{class:!0});var he=c(N);m=f(he,"SECTION",{class:!0});var ht=c(m);C=f(ht,"SPAN",{class:!0});var Qe=c(C);h=f(Qe,"SPAN",{class:!0});var Se=c(h);I=$(Se,fs),Se.forEach(i),b=$(Qe,`
          /
          `),y=f(Qe,"SPAN",{class:!0});var nt=c(y);U=$(nt,A),nt.forEach(i),Qe.forEach(i),ht.forEach(i),L=O(he),D=f(he,"SECTION",{class:!0});var Je=c(D);H=f(Je,"SPAN",{});var Pe=c(H);re=$(Pe,"Width "),me=$(Pe,oe),G=$(Pe," mm"),Pe.forEach(i),K=O(Je),M=f(Je,"SPAN",{});var Ke=c(M);V=$(Ke,"Height "),ee=$(Ke,W),we=$(Ke," mm"),Ke.forEach(i),Je.forEach(i),Y=O(he),Q=f(he,"SECTION",{class:!0});var et=c(Q);le=f(et,"SPAN",{});var be=c(le);de=$(be,t[3]),Te=$(be," Columns of "),je=$(be,t[4]),ze=$(be," Bundles"),be.forEach(i),X=O(et),S=f(et,"SPAN",{});var tt=c(S);j=$(tt,"Z-Stack depth of "),ve=$(tt,te),tt.forEach(i),et.forEach(i),Fe=O(he),ke=f(he,"SECTION",{class:!0});var mt=c(ke);R=f(mt,"SPAN",{class:!0});var Ne=c(R);_e=$(Ne,"Total time: "),Oe=$(Ne,Ee),at=$(Ne," s"),Ne.forEach(i),mt.forEach(i),he.forEach(i),Ce=$(J,`

    
    Bundles taken
    `),qe=f(J,"DIV",{class:!0});var vt=c(qe);ye=f(vt,"PROGRESS",{class:!0}),c(ye).forEach(i),vt.forEach(i),J.forEach(i),x.forEach(i),this.h()},h(){r(o,"class","flex items-center h-12 text-lg"),r(a,"type","button"),r(a,"class","text-lg text-white focus:ring-4 focus:ring-blue-300 shadow-lg font-medium rounded-lg px-5 py-2.5 text-center mr-2 mb-2 svelte-4f7jci"),F(a,"start",!t[2].block),F(a,"stop",t[2].block),r(u,"stroke-linecap","round"),r(u,"stroke-linejoin","round"),r(u,"stroke-width","2"),r(u,"d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),r(v,"xmlns","http://www.w3.org/2000/svg"),r(v,"class","w-6 h-6 mr-1"),r(v,"fill","none"),r(v,"viewBox","0 0 24 24"),r(v,"stroke","currentColor"),r(_,"class","flex items-center"),r(d,"type","button"),r(d,"id","preview"),r(d,"class","text-lg mt-2 text-white focus:ring-4 focus:ring-sky-300 font-medium rounded-lg shadow px-4 py-2.5 text-center inline-flex items-center mr-2 svelte-4f7jci"),d.disabled=P=Boolean(t[2].block),r(s,"class","grid grid-flow-row w-36"),r(h,"class","font-mono"),r(y,"class","w-32 px-2 font-mono text-4xl font-bold "),r(C,"class","text-4xl font-bold"),r(m,"class","flex items-center"),r(D,"class","flex flex-col tabular-nums"),r(Q,"class","flex flex-col"),r(R,"class","text-lg font-medium"),r(ke,"class","flex items-center"),r(N,"class","grid max-w-4xl grid-cols-4 mt-1"),r(ye,"class","relative w-full h-2 overflow-hidden rounded-lg shadow appearance-none svelte-4f7jci"),ye.value=t[6],r(qe,"class","mt-1"),r(E,"class","flex-grow px-4 py-2 border rounded-lg border-base-300"),r(e,"class","z-40 flex w-full space-x-2")},m(q,x){z(q,e,x),l(e,s),l(s,a),l(a,o),ne.m(o,null),l(s,n),l(s,d),l(d,_),l(_,v),l(v,u),l(_,w),l(e,k),l(e,E),l(E,N),l(N,m),l(m,C),l(C,h),l(h,I),l(C,b),l(C,y),l(y,U),l(N,L),l(N,D),l(D,H),l(H,re),l(H,me),l(H,G),l(D,K),l(D,M),l(M,V),l(M,ee),l(M,we),l(N,Y),l(N,Q),l(Q,le),l(le,de),l(le,Te),l(le,je),l(le,ze),l(Q,X),l(Q,S),l(S,j),l(S,ve),l(N,Fe),l(N,ke),l(ke,R),l(R,_e),l(R,Oe),l(R,at),l(E,Ce),l(E,qe),l(qe,ye),lt||(He=[Wt(Zt.call(null,a,"Take image and save.")),ie(a,"click",t[8]),ie(d,"click",t[9])],lt=!0)},p(q,[x]){Ge!==(Ge=Ae(q))&&(ne.d(1),ne=Ge(q),ne&&(ne.c(),ne.m(o,null))),x&4&&F(a,"start",!q[2].block),x&4&&F(a,"stop",q[2].block),x&4&&P!==(P=Boolean(q[2].block))&&(d.disabled=P),x&24&&A!==(A=q[4]*q[3]+"")&&De(U,A),x&2&&oe!==(oe=q[1].toFixed(3)+"")&&De(me,oe),x&1&&W!==(W=q[0].toFixed(3)+"")&&De(ee,W),x&8&&De(de,q[3]),x&16&&De(je,q[4]),x&4&&te!==(te=(q[2].image_params.z_n?q[2].image_params.z_n:1)+"")&&De(ve,te),x&24&&Ee!==(Ee=q[4]*q[3]/10+"")&&De(Oe,Ee),x&64&&(ye.value=q[6])},i:kt,o:kt,d(q){q&&i(e),ne.d(),lt=!1,It(He)}}}let fs="  --";function aa(t,e,s){let a,o,n,d;Xe(t,xe,m=>s(2,a=m)),Xe(t,xt,m=>s(10,o=m)),Xe(t,Ut,m=>s(5,n=m));let _=0,v=0,u=1,w=1;const P=Ut.subscribe(m=>{fetch(`http://${window.location.hostname}:8000/img`).then(C=>C.json()).then(C=>{it(xt,o=C,o)}),it(xe,a.block="",a)}),k=Ss(0,{duration:400,easing:As});Xe(t,k,m=>s(6,d=m)),zs(P);const E=()=>{it(xe,a.block="capturing",a),it(Ut,n="capture",n)},N=()=>{it(xe,a.block="previewing",a),it(Ut,n="preview",n)};return t.$$.update=()=>{t.$$.dirty&4&&s(0,_=Math.max(a.image_params.xy1[1],a.image_params.xy0[1])-Math.min(a.image_params.xy1[1],a.image_params.xy0[1])),t.$$.dirty&4&&s(1,v=Math.max(a.image_params.xy1[0],a.image_params.xy0[0])-Math.min(a.image_params.xy1[0],a.image_params.xy0[0])),t.$$.dirty&2&&s(3,u=Math.ceil(v/.768)),t.$$.dirty&1&&s(4,w=Math.ceil(_/.048))},[_,v,a,u,w,n,d,k,E,N]}class la extends ut{constructor(e){super();pt(this,e,aa,sa,ft,{})}}function na(t){let e;return{c(){e=g("Go")},l(s){e=$(s,"Go")},m(s,a){z(s,e,a)},i:kt,o:kt,d(s){s&&i(e)}}}function ra(t){let e,s,a;return s=new Vs({props:{color:"white"}}),{c(){e=p("div"),ue(s.$$.fragment),this.h()},l(o){e=f(o,"DIV",{class:!0});var n=c(e);pe(s.$$.fragment,n),n.forEach(i),this.h()},h(){r(e,"class","ml-4")},m(o,n){z(o,e,n),fe(s,e,null),a=!0},i(o){a||(se(s.$$.fragment,o),a=!0)},o(o){ae(s.$$.fragment,o),a=!1},d(o){o&&i(e),ce(s)}}}function oa(t){let e,s,a,o,n,d,_,v,u,w,P,k,E,N,m,C,h,I,b,y,A,U,L,D,H,re,oe;const me=[ra,na],G=[];function K(M,V){return M[1].block?1:0}return C=K(t),h=G[C]=me[C](t),{c(){e=p("div"),s=p("div"),a=p("span"),o=g("X"),n=T(),d=p("input"),v=T(),u=p("span"),w=g("Y"),P=T(),k=p("input"),N=T(),m=p("button"),h.c(),b=T(),y=p("button"),A=Ve("svg"),U=Ve("path"),L=g(`
    Current`),this.h()},l(M){e=f(M,"DIV",{class:!0});var V=c(e);s=f(V,"DIV",{class:!0});var W=c(s);a=f(W,"SPAN",{class:!0});var ee=c(a);o=$(ee,"X"),ee.forEach(i),n=O(W),d=f(W,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),v=O(W),u=f(W,"SPAN",{class:!0});var we=c(u);w=$(we,"Y"),we.forEach(i),P=O(W),k=f(W,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),W.forEach(i),N=O(V),m=f(V,"BUTTON",{type:!0,class:!0,tabindex:!0});var Y=c(m);h.l(Y),Y.forEach(i),b=O(V),y=f(V,"BUTTON",{type:!0,class:!0});var Q=c(y);A=Me(Q,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var le=c(A);U=Me(le,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),c(U).forEach(i),le.forEach(i),L=$(Q,`
    Current`),Q.forEach(i),V.forEach(i),this.h()},h(){r(a,"class","flex items-center border-l rounded-l-lg color-group svelte-awp8a4"),F(a,"span-disabled",t[1].block),r(d,"type","number"),r(d,"min","-5"),r(d,"max","30"),r(d,"step","0.01"),r(d,"class","z-10 h-10 text-center rounded-none pretty w-28"),d.disabled=_=t[1].block,r(u,"class","flex items-center color-group svelte-awp8a4"),F(u,"span-disabled",t[1].block),r(k,"type","number"),r(k,"min","-5"),r(k,"max","80"),r(k,"step","0.01"),r(k,"class","z-10 h-10 text-center rounded-l-none rounded-r-lg pretty w-28"),k.disabled=E=t[1].block,r(s,"class","flex font-medium"),r(m,"type","button"),r(m,"class","px-4 py-1 text-sm font-medium text-blue-800 border-blue-300 rounded-lg hover:bg-blue-100 active:bg-blue-200 bg-blue-50 white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),r(m,"tabindex","0"),m.disabled=I=Boolean(t[1].block),r(U,"stroke-linecap","round"),r(U,"stroke-linejoin","round"),r(U,"stroke-width","2"),r(U,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),r(A,"xmlns","http://www.w3.org/2000/svg"),r(A,"class","w-5 h-5 mr-1"),r(A,"fill","none"),r(A,"viewBox","0 0 24 24"),r(A,"stroke","currentColor"),r(y,"type","button"),r(y,"class","px-4 py-1 text-sm font-medium text-gray-900 rounded-lg white-button disabled:bg-gray-50 disabled:hover:bg-gray-50 disabled:active:bg-gray-50 disabled:text-gray-500"),y.disabled=D=t[1].block,r(e,"class","flex gap-x-2")},m(M,V){z(M,e,V),l(e,s),l(s,a),l(a,o),l(s,n),l(s,d),$e(d,t[0][0]),l(s,v),l(s,u),l(u,w),l(s,P),l(s,k),$e(k,t[0][1]),l(e,N),l(e,m),G[C].m(m,null),l(e,b),l(e,y),l(y,A),l(A,U),l(y,L),H=!0,re||(oe=[ie(d,"input",t[3]),ie(k,"input",t[4]),ie(m,"click",t[2])],re=!0)},p(M,[V]){V&2&&F(a,"span-disabled",M[1].block),(!H||V&2&&_!==(_=M[1].block))&&(d.disabled=_),V&1&&Ue(d.value)!==M[0][0]&&$e(d,M[0][0]),V&2&&F(u,"span-disabled",M[1].block),(!H||V&2&&E!==(E=M[1].block))&&(k.disabled=E),V&1&&Ue(k.value)!==M[0][1]&&$e(k,M[0][1]);let W=C;C=K(M),C!==W&&(Bs(),ae(G[W],1,1,()=>{G[W]=null}),Ds(),h=G[C],h||(h=G[C]=me[C](M),h.c()),se(h,1),h.m(m,null)),(!H||V&2&&I!==(I=Boolean(M[1].block)))&&(m.disabled=I),(!H||V&2&&D!==(D=M[1].block))&&(y.disabled=D)},i(M){H||(se(h),H=!0)},o(M){ae(h),H=!1},d(M){M&&i(e),G[C].d(),re=!1,It(oe)}}}function ia(t,e,s){let a;Xe(t,xe,v=>s(1,a=v));let{xy:o=[-1,-1]}=e;function n(){Ms(a.image_params.fc,o[0],o[1]),it(xe,a.block=!0,a)}function d(){o[0]=Ue(this.value),s(0,o)}function _(){o[1]=Ue(this.value),s(0,o)}return t.$$set=v=>{"xy"in v&&s(0,o=v.xy)},[o,a,n,d,_]}class cs extends ut{constructor(e){super();pt(this,e,ia,oa,ft,{xy:0})}}function ua(t){let e,s,a,o,n,d,_,v,u,w,P,k,E,N,m,C;return{c(){e=p("option"),s=g("Open"),a=p("option"),o=g("0.2"),n=p("option"),d=g("0.5"),_=p("option"),v=g("0.6"),u=p("option"),w=g("1.0"),P=p("option"),k=g("2.4"),E=p("option"),N=g("4.0"),m=p("option"),C=g("Closed"),this.h()},l(h){e=f(h,"OPTION",{});var I=c(e);s=$(I,"Open"),I.forEach(i),a=f(h,"OPTION",{});var b=c(a);o=$(b,"0.2"),b.forEach(i),n=f(h,"OPTION",{});var y=c(n);d=$(y,"0.5"),y.forEach(i),_=f(h,"OPTION",{});var A=c(_);v=$(A,"0.6"),A.forEach(i),u=f(h,"OPTION",{});var U=c(u);w=$(U,"1.0"),U.forEach(i),P=f(h,"OPTION",{});var L=c(P);k=$(L,"2.4"),L.forEach(i),E=f(h,"OPTION",{});var D=c(E);N=$(D,"4.0"),D.forEach(i),m=f(h,"OPTION",{});var H=c(m);C=$(H,"Closed"),H.forEach(i),this.h()},h(){e.__value="Open",e.value=e.__value,a.__value="0.2",a.value=a.__value,n.__value="0.5",n.value=n.__value,_.__value="0.6",_.value=_.__value,u.__value="1.0",u.value=u.__value,P.__value="2.4",P.value=P.__value,E.__value="4.0",E.value=E.__value,m.__value="Closed",m.value=m.__value},m(h,I){z(h,e,I),l(e,s),z(h,a,I),l(a,o),z(h,n,I),l(n,d),z(h,_,I),l(_,v),z(h,u,I),l(u,w),z(h,P,I),l(P,k),z(h,E,I),l(E,N),z(h,m,I),l(m,C)},d(h){h&&i(e),h&&i(a),h&&i(n),h&&i(_),h&&i(u),h&&i(P),h&&i(E),h&&i(m)}}}function pa(t){let e,s,a,o,n,d,_,v,u,w,P,k,E,N,m,C;return{c(){e=p("option"),s=g("Open"),a=p("option"),o=g("1.0"),n=p("option"),d=g("2.0"),_=p("option"),v=g("3.5"),u=p("option"),w=g("3.8"),P=p("option"),k=g("4.0"),E=p("option"),N=g("4.5"),m=p("option"),C=g("Closed"),this.h()},l(h){e=f(h,"OPTION",{});var I=c(e);s=$(I,"Open"),I.forEach(i),a=f(h,"OPTION",{});var b=c(a);o=$(b,"1.0"),b.forEach(i),n=f(h,"OPTION",{});var y=c(n);d=$(y,"2.0"),y.forEach(i),_=f(h,"OPTION",{});var A=c(_);v=$(A,"3.5"),A.forEach(i),u=f(h,"OPTION",{});var U=c(u);w=$(U,"3.8"),U.forEach(i),P=f(h,"OPTION",{});var L=c(P);k=$(L,"4.0"),L.forEach(i),E=f(h,"OPTION",{});var D=c(E);N=$(D,"4.5"),D.forEach(i),m=f(h,"OPTION",{});var H=c(m);C=$(H,"Closed"),H.forEach(i),this.h()},h(){e.__value="Open",e.value=e.__value,a.__value="1.0",a.value=a.__value,n.__value="2.0",n.value=n.__value,_.__value="3.5",_.value=_.__value,u.__value="3.8",u.value=u.__value,P.__value="4.0",P.value=P.__value,E.__value="4.5",E.value=E.__value,m.__value="Closed",m.value=m.__value},m(h,I){z(h,e,I),l(e,s),z(h,a,I),l(a,o),z(h,n,I),l(n,d),z(h,_,I),l(_,v),z(h,u,I),l(u,w),z(h,P,I),l(P,k),z(h,E,I),l(E,N),z(h,m,I),l(m,C)},d(h){h&&i(e),h&&i(a),h&&i(n),h&&i(_),h&&i(u),h&&i(P),h&&i(E),h&&i(m)}}}function fa(t){let e,s,a,o,n,d,_,v=(Boolean(t[1])?660:532)+"",u,w,P,k,E,N,m,C,h,I,b,y=2*t[1]+"",A,U,L,D,H,re,oe=2*t[1]+1+"",me,G,K,M,V,W,ee,we,Y=(Number(t[0].od[t[1]]!=-1)*t[0].lasers[t[1]]*Math.pow(10,-t[0].od[t[1]])).toFixed(4)+"",Q,le,de,Te;function je(S,j){return S[1]==0?pa:ua}let ze=je(t),X=ze(t);return{c(){e=p("p"),s=p("span"),a=p("label"),o=p("input"),d=T(),_=p("div"),u=g(v),w=g(" nm"),P=T(),k=p("input"),N=g(`
    mW`),m=T(),C=p("label"),h=p("input"),b=g(`
    Channel `),A=g(y),U=T(),L=p("label"),D=p("input"),re=g(`
    Channel `),me=g(oe),G=T(),K=p("span"),M=g(`Filter OD
    `),V=p("select"),X.c(),W=T(),ee=p("p"),we=g("Effective: "),Q=g(Y),le=g(" mW"),this.h()},l(S){e=f(S,"P",{class:!0});var j=c(e);s=f(j,"SPAN",{});var te=c(s);a=f(te,"LABEL",{});var ve=c(a);o=f(ve,"INPUT",{type:!0,class:!0}),d=O(ve),_=f(ve,"DIV",{class:!0});var Fe=c(_);u=$(Fe,v),w=$(Fe," nm"),Fe.forEach(i),ve.forEach(i),P=O(te),k=f(te,"INPUT",{type:!0,class:!0}),N=$(te,`
    mW`),te.forEach(i),m=O(j),C=f(j,"LABEL",{class:!0});var ke=c(C);h=f(ke,"INPUT",{type:!0,class:!0}),b=$(ke,`
    Channel `),A=$(ke,y),ke.forEach(i),U=O(j),L=f(j,"LABEL",{class:!0});var R=c(L);D=f(R,"INPUT",{type:!0,class:!0}),re=$(R,`
    Channel `),me=$(R,oe),R.forEach(i),G=O(j),K=f(j,"SPAN",{class:!0});var _e=c(K);M=$(_e,`Filter OD
    `),V=f(_e,"SELECT",{class:!0});var Ee=c(V);X.l(Ee),Ee.forEach(i),W=O(_e),ee=f(_e,"P",{class:!0});var Oe=c(ee);we=$(Oe,"Effective: "),Q=$(Oe,Y),le=$(Oe," mW"),Oe.forEach(i),_e.forEach(i),j.forEach(i),this.h()},h(){r(o,"type","checkbox"),r(o,"class",n=Ie(`mr-1 rounded ${t[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o"),r(_,"class","inline"),F(_,"text-green-800",t[0].laser_onoff[t[1]]),r(k,"type","number"),r(k,"class","w-20 h-8 mr-1 pretty"),k.disabled=E=!t[0].laser_onoff[t[1]],F(k,"pretty-disabled",!t[0].laser_onoff[0]),F(s,"text-gray-400",!t[0].laser_onoff[t[1]]),r(h,"type","checkbox"),r(h,"class",I=Ie(`mr-1 rounded ${t[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o"),r(C,"class","rounded-lg channel ring-red-500 svelte-6ipz4o"),F(C,"text-gray-400",!t[0].channels[2*t[1]]),r(D,"type","checkbox"),r(D,"class",H=Ie(`mr-1 rounded ${t[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o"),r(L,"class","channel svelte-6ipz4o"),F(L,"text-gray-400",!t[0].channels[2*t[1]+1]),r(V,"class","py-1 text-sm border-gray-400 rounded disabled:border-gray-300"),r(ee,"class","text-sm font-medium ml-3"),r(K,"class","ml-8 font-normal opacity-85"),r(e,"class","flex flex-col")},m(S,j){z(S,e,j),l(e,s),l(s,a),l(a,o),o.checked=t[0].laser_onoff[t[1]],l(a,d),l(a,_),l(_,u),l(_,w),l(s,P),l(s,k),$e(k,t[0].lasers[t[1]]),l(s,N),l(e,m),l(e,C),l(C,h),h.checked=t[0].channels[2*t[1]],l(C,b),l(C,A),l(e,U),l(e,L),l(L,D),D.checked=t[0].channels[2*t[1]+1],l(L,re),l(L,me),l(e,G),l(e,K),l(K,M),l(K,V),X.m(V,null),l(K,W),l(K,ee),l(ee,we),l(ee,Q),l(ee,le),de||(Te=[ie(o,"change",t[3]),ie(k,"input",t[4]),ie(h,"change",t[5]),ie(D,"change",t[6]),ie(V,"change",t[2])],de=!0)},p(S,[j]){j&2&&n!==(n=Ie(`mr-1 rounded ${S[1]?"text-red-600 rounded focus:ring-red-300":"text-lime-500 focus:ring-lime-300"}`)+" svelte-6ipz4o")&&r(o,"class",n),j&3&&(o.checked=S[0].laser_onoff[S[1]]),j&2&&v!==(v=(Boolean(S[1])?660:532)+"")&&De(u,v),j&3&&F(_,"text-green-800",S[0].laser_onoff[S[1]]),j&3&&E!==(E=!S[0].laser_onoff[S[1]])&&(k.disabled=E),j&3&&Ue(k.value)!==S[0].lasers[S[1]]&&$e(k,S[0].lasers[S[1]]),j&1&&F(k,"pretty-disabled",!S[0].laser_onoff[0]),j&3&&F(s,"text-gray-400",!S[0].laser_onoff[S[1]]),j&2&&I!==(I=Ie(`mr-1 rounded ${S[1]?"text-rose-700 focus:ring-rose-500":"text-green-500 focus:ring-green-300"}`)+" svelte-6ipz4o")&&r(h,"class",I),j&3&&(h.checked=S[0].channels[2*S[1]]),j&2&&y!==(y=2*S[1]+"")&&De(A,y),j&3&&F(C,"text-gray-400",!S[0].channels[2*S[1]]),j&2&&H!==(H=Ie(`mr-1 rounded ${S[1]?"text-amber-900 focus:ring-amber-700":"text-orange-600 rounded focus:ring-orange-300"}`)+" svelte-6ipz4o")&&r(D,"class",H),j&3&&(D.checked=S[0].channels[2*S[1]+1]),j&2&&oe!==(oe=2*S[1]+1+"")&&De(me,oe),j&3&&F(L,"text-gray-400",!S[0].channels[2*S[1]+1]),ze!==(ze=je(S))&&(X.d(1),X=ze(S),X&&(X.c(),X.m(V,null))),j&3&&Y!==(Y=(Number(S[0].od[S[1]]!=-1)*S[0].lasers[S[1]]*Math.pow(10,-S[0].od[S[1]])).toFixed(4)+"")&&De(Q,Y)},i:kt,o:kt,d(S){S&&i(e),X.d(),de=!1,It(Te)}}}function ca(t,e,s){let{params:a}=e,{i:o}=e;function n(w){let P;switch(w.currentTarget.value){case"Open":P=0;break;case"Closed":P=-1;break;default:P=Number(w.currentTarget.value)}s(0,a.od[o]=P,a)}function d(){a.laser_onoff[o]=this.checked,s(0,a)}function _(){a.lasers[o]=Ue(this.value),s(0,a)}function v(){a.channels[2*o]=this.checked,s(0,a)}function u(){a.channels[2*o+1]=this.checked,s(0,a)}return t.$$set=w=>{"params"in w&&s(0,a=w.params),"i"in w&&s(1,o=w.i)},[a,o,n,d,_,v,u]}class ds extends ut{constructor(e){super();pt(this,e,ca,fa,ft,{params:0,i:1})}}function _s(t){let e,s,a,o,n,d;return{c(){e=p("p"),s=g("Image Path"),a=T(),o=p("input"),this.h()},l(_){e=f(_,"P",{class:!0});var v=c(e);s=$(v,"Image Path"),v.forEach(i),a=O(_),o=f(_,"INPUT",{type:!0,class:!0}),this.h()},h(){r(e,"class","text-lg"),r(o,"type","text"),r(o,"class","max-w-md mt-1 mb-4 pretty")},m(_,v){z(_,e,v),l(e,s),z(_,a,v),z(_,o,v),$e(o,t[0].path),n||(d=ie(o,"input",t[4]),n=!0)},p(_,v){v&1&&o.value!==_[0].path&&$e(o,_[0].path)},d(_){_&&i(e),_&&i(a),_&&i(o),n=!1,d()}}}function da(t){let e,s,a,o,n,d,_,v,u,w,P,k,E,N,m,C,h,I,b,y,A,U,L,D,H,re,oe,me,G,K,M,V,W,ee,we,Y,Q,le,de,Te,je,ze,X,S,j,te,ve,Fe,ke,R,_e,Ee,Oe,at,Ce,qe,ye,lt,He,Ae,Ge,ne,q,x,Re,Ye,ct,dt,Le,_t,J,he,ht,Qe,Se,nt,Je,Pe,Ke,et,be,tt,mt,Ne,vt,jt,We,Tt,rt,Ft,Xt,ge=t[1]&&_s(t);function hs(B){t[5](B)}let Gt={i:0};t[0]!==void 0&&(Gt.params=t[0]),N=new ds({props:Gt}),$t.push(()=>Pt(N,"params",hs));function ms(B){t[6](B)}let Rt={i:1};t[0]!==void 0&&(Rt.params=t[0]),h=new ds({props:Rt}),$t.push(()=>Pt(h,"params",ms));function vs(B){t[7](B)}let Yt={};t[0].xy0!==void 0&&(Yt.xy=t[0].xy0),G=new cs({props:Yt}),$t.push(()=>Pt(G,"xy",vs));function bs(B){t[8](B)}let Qt={};return t[0].xy1!==void 0&&(Qt.xy=t[0].xy1),Y=new cs({props:Qt}),$t.push(()=>Pt(Y,"xy",bs)),{c(){e=p("div"),s=p("section"),a=p("p"),o=g("Name"),n=T(),d=p("input"),_=T(),ge&&ge.c(),v=T(),u=p("section"),w=p("h2"),P=g("Laser and Channels"),k=T(),E=p("div"),ue(N.$$.fragment),C=T(),ue(h.$$.fragment),b=T(),y=p("section"),A=p("h2"),U=g("Positions"),L=T(),D=p("div"),H=p("div"),re=p("p"),oe=g("\u{1F4CC} Corner 1"),me=T(),ue(G.$$.fragment),M=T(),V=p("div"),W=p("p"),ee=g("\u{1F4CD} Corner 2"),we=T(),ue(Y.$$.fragment),le=T(),de=p("div"),Te=p("p"),je=g("X-Overlap"),ze=T(),X=p("input"),S=g(`
        (0-1)`),j=T(),te=p("section"),ve=p("h2"),Fe=g("Focus"),ke=T(),R=p("div"),_e=p("div"),Ee=p("p"),Oe=g("Z Tilt"),at=T(),Ce=p("input"),qe=T(),ye=p("div"),lt=g(`Z Objective
        `),He=p("span"),Ae=p("input"),Ge=T(),ne=p("button"),q=Ve("svg"),x=Ve("path"),Re=T(),Ye=p("span"),ct=g("Autofocus"),dt=T(),Le=p("div"),_t=g(`Z-Stack
        `),J=p("div"),he=p("span"),ht=g("Spacing"),Qe=T(),Se=p("input"),Je=T(),Pe=p("span"),Ke=g("From"),et=T(),be=p("input"),mt=T(),Ne=p("span"),vt=g("To"),jt=T(),We=p("input"),this.h()},l(B){e=f(B,"DIV",{id:!0,class:!0});var Z=c(e);s=f(Z,"SECTION",{class:!0});var Ze=c(s);a=f(Ze,"P",{class:!0});var wt=c(a);o=$(wt,"Name"),wt.forEach(i),n=O(Ze),d=f(Ze,"INPUT",{type:!0,class:!0}),_=O(Ze),ge&&ge.l(Ze),Ze.forEach(i),v=O(Z),u=f(Z,"SECTION",{class:!0});var ot=c(u);w=f(ot,"H2",{class:!0});var Et=c(w);P=$(Et,"Laser and Channels"),Et.forEach(i),k=O(ot),E=f(ot,"DIV",{class:!0});var Ot=c(E);pe(N.$$.fragment,Ot),C=O(Ot),pe(h.$$.fragment,Ot),Ot.forEach(i),ot.forEach(i),b=O(Z),y=f(Z,"SECTION",{class:!0});var Ct=c(y);A=f(Ct,"H2",{class:!0});var Jt=c(A);U=$(Jt,"Positions"),Jt.forEach(i),L=O(Ct),D=f(Ct,"DIV",{class:!0});var bt=c(D);H=f(bt,"DIV",{});var St=c(H);re=f(St,"P",{class:!0});var Kt=c(re);oe=$(Kt,"\u{1F4CC} Corner 1"),Kt.forEach(i),me=O(St),pe(G.$$.fragment,St),St.forEach(i),M=O(bt),V=f(bt,"DIV",{});var zt=c(V);W=f(zt,"P",{class:!0});var es=c(W);ee=$(es,"\u{1F4CD} Corner 2"),es.forEach(i),we=O(zt),pe(Y.$$.fragment,zt),zt.forEach(i),le=O(bt),de=f(bt,"DIV",{});var yt=c(de);Te=f(yt,"P",{class:!0});var ts=c(Te);je=$(ts,"X-Overlap"),ts.forEach(i),ze=O(yt),X=f(yt,"INPUT",{type:!0,class:!0,step:!0,min:!0,max:!0}),S=$(yt,`
        (0-1)`),yt.forEach(i),bt.forEach(i),Ct.forEach(i),j=O(Z),te=f(Z,"SECTION",{class:!0});var At=c(te);ve=f(At,"H2",{class:!0});var ss=c(ve);Fe=$(ss,"Focus"),ss.forEach(i),ke=O(At),R=f(At,"DIV",{class:!0});var gt=c(R);_e=f(gt,"DIV",{});var Bt=c(_e);Ee=f(Bt,"P",{});var as=c(Ee);Oe=$(as,"Z Tilt"),as.forEach(i),at=O(Bt),Ce=f(Bt,"INPUT",{type:!0,class:!0}),Bt.forEach(i),qe=O(gt),ye=f(gt,"DIV",{});var Ht=c(ye);lt=$(Ht,`Z Objective
        `),He=f(Ht,"SPAN",{class:!0});var Dt=c(He);Ae=f(Dt,"INPUT",{type:!0,class:!0}),Ge=O(Dt),ne=f(Dt,"BUTTON",{type:!0,class:!0});var Vt=c(ne);q=Me(Vt,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var ls=c(q);x=Me(ls,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),c(x).forEach(i),ls.forEach(i),Re=O(Vt),Ye=f(Vt,"SPAN",{});var ns=c(Ye);ct=$(ns,"Autofocus"),ns.forEach(i),Vt.forEach(i),Dt.forEach(i),Ht.forEach(i),dt=O(gt),Le=f(gt,"DIV",{});var qt=c(Le);_t=$(qt,`Z-Stack
        `),J=f(qt,"DIV",{class:!0});var Be=c(J);he=f(Be,"SPAN",{class:!0});var rs=c(he);ht=$(rs,"Spacing"),rs.forEach(i),Qe=O(Be),Se=f(Be,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Je=O(Be),Pe=f(Be,"SPAN",{class:!0});var os=c(Pe);Ke=$(os,"From"),os.forEach(i),et=O(Be),be=f(Be,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),mt=O(Be),Ne=f(Be,"SPAN",{class:!0});var is=c(Ne);vt=$(is,"To"),is.forEach(i),jt=O(Be),We=f(Be,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Be.forEach(i),qt.forEach(i),gt.forEach(i),At.forEach(i),Z.forEach(i),this.h()},h(){r(a,"class","text-lg"),r(d,"type","text"),r(d,"class","max-w-md mt-1 mb-4 pretty"),r(s,"class","flex flex-col text-lg font-medium"),r(w,"class"," svelte-1in5h2s"),r(E,"class","grid grid-cols-2"),F(E,"opacity-70",t[2].block),r(u,"class","font-medium leading-10 "),r(A,"class","svelte-1in5h2s"),r(re,"class","mb-1"),r(W,"class","mb-1"),r(Te,"class","mb-1"),r(X,"type","number"),r(X,"class","w-20 pretty pr-2"),r(X,"step","0.01"),r(X,"min","0"),r(X,"max","0.99"),r(D,"class","-mt-1 space-y-2"),r(y,"class","flex flex-col gap-2"),r(ve,"class","svelte-1in5h2s"),r(Ce,"type","number"),r(Ce,"class","w-28 pretty"),r(Ae,"type","number"),r(Ae,"class","w-28 pretty"),r(x,"fill-rule","evenodd"),r(x,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),r(x,"clip-rule","evenodd"),r(q,"xmlns","http://www.w3.org/2000/svg"),r(q,"class","w-5 h-5 mr-1"),r(q,"viewBox","0 0 20 20"),r(q,"fill","currentColor"),r(ne,"type","button"),r(ne,"class","px-4 py-1 font-medium text-gray-900 rounded-lg h-11 w-36 white-button"),r(He,"class","flex gap-2"),r(he,"class","flex items-center border-l rounded-l-lg color-group"),F(he,"span-disabled",t[2].block),r(Se,"type","number"),r(Se,"min","1"),r(Se,"max","60000"),r(Se,"step","0.01"),r(Se,"class","z-10 h-10 text-center rounded-none pretty w-28"),Se.disabled=nt=t[2].block,r(Pe,"class","flex items-center color-group"),F(Pe,"span-disabled",t[2].block),r(be,"type","number"),r(be,"min","-100"),r(be,"max","100"),r(be,"step","0.01"),r(be,"class","z-10 h-10 text-center rounded-none pretty w-28 "),be.disabled=tt=t[2].block,r(Ne,"class","flex items-center color-group"),F(Ne,"span-disabled",t[2].block),r(We,"type","number"),r(We,"min","-100"),r(We,"max","100"),r(We,"step","0.01"),r(We,"class","z-10 w-20 h-10 text-center rounded-l-none rounded-r-lg pretty"),We.disabled=Tt=t[2].block,r(J,"class","flex font-medium"),r(R,"class","-mt-1 space-y-2"),r(te,"class","flex flex-col gap-2"),r(e,"id","control"),r(e,"class","grid grid-cols-2 gap-y-6 gap-x-4")},m(B,Z){z(B,e,Z),l(e,s),l(s,a),l(a,o),l(s,n),l(s,d),$e(d,t[0].name),l(s,_),ge&&ge.m(s,null),l(e,v),l(e,u),l(u,w),l(w,P),l(u,k),l(u,E),fe(N,E,null),l(E,C),fe(h,E,null),l(e,b),l(e,y),l(y,A),l(A,U),l(y,L),l(y,D),l(D,H),l(H,re),l(re,oe),l(H,me),fe(G,H,null),l(D,M),l(D,V),l(V,W),l(W,ee),l(V,we),fe(Y,V,null),l(D,le),l(D,de),l(de,Te),l(Te,je),l(de,ze),l(de,X),$e(X,t[0].overlap),l(de,S),l(e,j),l(e,te),l(te,ve),l(ve,Fe),l(te,ke),l(te,R),l(R,_e),l(_e,Ee),l(Ee,Oe),l(_e,at),l(_e,Ce),$e(Ce,t[0].z_tilt),l(R,qe),l(R,ye),l(ye,lt),l(ye,He),l(He,Ae),$e(Ae,t[0].z_obj),l(He,Ge),l(He,ne),l(ne,q),l(q,x),l(ne,Re),l(ne,Ye),l(Ye,ct),l(R,dt),l(R,Le),l(Le,_t),l(Le,J),l(J,he),l(he,ht),l(J,Qe),l(J,Se),l(J,Je),l(J,Pe),l(Pe,Ke),l(J,et),l(J,be),l(J,mt),l(J,Ne),l(Ne,vt),l(J,jt),l(J,We),rt=!0,Ft||(Xt=[ie(d,"input",t[3]),ie(X,"input",t[9]),ie(Ce,"input",t[10]),ie(Ae,"input",t[11]),Wt(Zt.call(null,Pe,"Multiple of Spacing")),Wt(Zt.call(null,Ne,"Multiple of Spacing"))],Ft=!0)},p(B,[Z]){Z&1&&d.value!==B[0].name&&$e(d,B[0].name),B[1]?ge?ge.p(B,Z):(ge=_s(B),ge.c(),ge.m(s,null)):ge&&(ge.d(1),ge=null);const Ze={};!m&&Z&1&&(m=!0,Ze.params=B[0],Nt(()=>m=!1)),N.$set(Ze);const wt={};!I&&Z&1&&(I=!0,wt.params=B[0],Nt(()=>I=!1)),h.$set(wt),Z&4&&F(E,"opacity-70",B[2].block);const ot={};!K&&Z&1&&(K=!0,ot.xy=B[0].xy0,Nt(()=>K=!1)),G.$set(ot);const Et={};!Q&&Z&1&&(Q=!0,Et.xy=B[0].xy1,Nt(()=>Q=!1)),Y.$set(Et),Z&1&&Ue(X.value)!==B[0].overlap&&$e(X,B[0].overlap),Z&1&&Ue(Ce.value)!==B[0].z_tilt&&$e(Ce,B[0].z_tilt),Z&1&&Ue(Ae.value)!==B[0].z_obj&&$e(Ae,B[0].z_obj),Z&4&&F(he,"span-disabled",B[2].block),(!rt||Z&4&&nt!==(nt=B[2].block))&&(Se.disabled=nt),Z&4&&F(Pe,"span-disabled",B[2].block),(!rt||Z&4&&tt!==(tt=B[2].block))&&(be.disabled=tt),Z&4&&F(Ne,"span-disabled",B[2].block),(!rt||Z&4&&Tt!==(Tt=B[2].block))&&(We.disabled=Tt)},i(B){rt||(se(N.$$.fragment,B),se(h.$$.fragment,B),se(G.$$.fragment,B),se(Y.$$.fragment,B),rt=!0)},o(B){ae(N.$$.fragment,B),ae(h.$$.fragment,B),ae(G.$$.fragment,B),ae(Y.$$.fragment,B),rt=!1},d(B){B&&i(e),ge&&ge.d(),ce(N),ce(h),ce(G),ce(Y),Ft=!1,It(Xt)}}}function _a(t,e){t&&(t.querySelectorAll("input").forEach(s=>s.disabled=e),t.querySelectorAll("select").forEach(s=>s.disabled=e),t.querySelectorAll("button").forEach(s=>s.disabled=e))}function ha(t,e,s){let a;Xe(t,xe,m=>s(2,a=m));let{showPath:o=!0}=e,{params:n}=e;function d(){n.name=this.value,s(0,n)}function _(){n.path=this.value,s(0,n)}function v(m){n=m,s(0,n)}function u(m){n=m,s(0,n)}function w(m){t.$$.not_equal(n.xy0,m)&&(n.xy0=m,s(0,n))}function P(m){t.$$.not_equal(n.xy1,m)&&(n.xy1=m,s(0,n))}function k(){n.overlap=Ue(this.value),s(0,n)}function E(){n.z_tilt=Ue(this.value),s(0,n)}function N(){n.z_obj=Ue(this.value),s(0,n)}return t.$$set=m=>{"showPath"in m&&s(1,o=m.showPath),"params"in m&&s(0,n=m.params)},t.$$.update=()=>{t.$$.dirty&4&&_a(document.getElementById("control"),a.block)},[n,o,a,d,_,v,u,w,P,k,E,N]}class ma extends ut{constructor(e){super();pt(this,e,ha,da,ft,{showPath:1,params:0})}}function va(t){let e,s,a,o,n,d,_,v,u,w,P,k,E,N,m,C;o=new la({});function h(b){t[1](b)}let I={};return t[0].image_params!==void 0&&(I.params=t[0].image_params),u=new ma({props:I}),$t.push(()=>Pt(u,"params",h)),m=new Ks({}),{c(){e=p("div"),s=p("div"),a=T(),ue(o.$$.fragment),n=T(),d=p("p"),_=g("Capture Parameters"),v=T(),ue(u.$$.fragment),P=T(),k=p("p"),E=g("Preview"),N=T(),ue(m.$$.fragment),this.h()},l(b){e=f(b,"DIV",{class:!0});var y=c(e);s=f(y,"DIV",{class:!0}),c(s).forEach(i),a=O(y),pe(o.$$.fragment,y),y.forEach(i),n=O(b),d=f(b,"P",{class:!0});var A=c(d);_=$(A,"Capture Parameters"),A.forEach(i),v=O(b),pe(u.$$.fragment,b),P=O(b),k=f(b,"P",{class:!0});var U=c(k);E=$(U,"Preview"),U.forEach(i),N=O(b),pe(m.$$.fragment,b),this.h()},h(){r(s,"class","w-full h-4"),r(e,"class","box-border sticky z-40 -mx-10 px-10 pb-6 shadow-md bg-white/[0.95] border-b top-16 "),r(d,"class","mt-6 title"),r(k,"class","title")},m(b,y){z(b,e,y),l(e,s),l(e,a),fe(o,e,null),z(b,n,y),z(b,d,y),l(d,_),z(b,v,y),fe(u,b,y),z(b,P,y),z(b,k,y),l(k,E),z(b,N,y),fe(m,b,y),C=!0},p(b,[y]){const A={};!w&&y&1&&(w=!0,A.params=b[0].image_params,Nt(()=>w=!1)),u.$set(A)},i(b){C||(se(o.$$.fragment,b),se(u.$$.fragment,b),se(m.$$.fragment,b),C=!0)},o(b){ae(o.$$.fragment,b),ae(u.$$.fragment,b),ae(m.$$.fragment,b),C=!1},d(b){b&&i(e),ce(o),b&&i(n),b&&i(d),b&&i(v),ce(u,b),b&&i(P),b&&i(k),b&&i(N),ce(m,b)}}}function ba(t,e){t&&(t.querySelectorAll("input").forEach(s=>s.disabled=e),t.querySelectorAll("select").forEach(s=>s.disabled=e),t.querySelectorAll("button").forEach(s=>s.disabled=e))}function ga(t,e,s){let a;Xe(t,xe,n=>s(0,a=n));function o(n){t.$$.not_equal(a.image_params,n)&&(a.image_params=n,xe.set(a))}return t.$$.update=()=>{t.$$.dirty&1&&ba(document.getElementById("control"),a.block)},[a,o]}class Na extends ut{constructor(e){super();pt(this,e,ga,va,ft,{})}}export{Na as default};
