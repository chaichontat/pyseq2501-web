import{S as Se,i as we,s as Te,e as u,c as d,a as h,d as c,b as o,K as Ne,f as re,F as s,L as F,J,M as le,u as Je,P as Ke,N as Le,O as Qe,t as b,j as y,g as E,l as S,Q as Re,h as Ie,R as We,T as Ze,U as K,v as je,E as Xe,w as qe,x as Fe,p as Me,n as He,A as Ge}from"../chunks/vendor-88195046.js";import{i as C,u as Pe}from"../chunks/store-9884f86a.js";function Ye(n){let l,t,a,r,i;return{c(){l=u("div"),t=u("canvas"),this.h()},l(e){l=d(e,"DIV",{class:!0,style:!0});var f=h(l);t=d(f,"CANVAS",{id:!0,width:!0,height:!0,style:!0}),h(t).forEach(c),f.forEach(c),this.h()},h(){o(t,"id","canvas"),o(t,"width",2048),o(t,"height",a=128*n[1].n),Ne(t,"border","2px solid #000000"),Ne(t,"background-color","gray"),o(l,"class","mt-4 center shadow border border-gray-400"),Ne(l,"height","75vh")},m(e,f){re(e,l,f),s(l,t),n[6](t),r||(i=F(l,"wheel",function(){Le(n[2].zoomWithWheel)&&n[2].zoomWithWheel.apply(this,arguments)}),r=!0)},p(e,[f]){n=e,f&2&&a!==(a=128*n[1].n)&&o(t,"height",a)},i:J,o:J,d(e){e&&c(l),n[6](null),r=!1,i()}}}function $e(n,l,t){let a,r;le(n,C,p=>t(5,a=p)),le(n,Pe,p=>t(1,r=p));let i,e,f,g;Je(()=>{t(4,g=i.getContext("2d")),t(2,f=Ke(i,{maxZoom:5}))});function w(p){Qe[p?"unshift":"push"](()=>{i=p,t(0,i)})}return n.$$.update=()=>{n.$$.dirty&59&&i&&a&&("cmd"in a||(console.log(a),a.n==1&&g.clearRect(0,0,i.width,i.height),console.log(a),t(3,e=new Image),t(3,e.onload=()=>g.drawImage(e,0,256*(r.n-a.n)),e),t(3,e.src=a.img,e)))},[i,r,f,e,g,a,w]}class et extends Se{constructor(l){super();we(this,l,$e,Ye,Te,{})}}function tt(n){let l,t,a,r,i,e,f,g,w,p,N,V,M,m,I,z,L,oe,k,ce,P,O,ie,H=n[4].toFixed(3)+"",Q,ue,de,U,fe,G=n[4]/2+"",Z,he,pe,D,B,me,_e,R,ve,x,ge,W,be,Ee,j,T,X,Y,ke,De;return{c(){l=u("span"),t=u("content"),a=u("button"),r=b("Start"),i=y(),e=u("button"),f=b("Autofocus"),g=y(),w=u("div"),p=u("div"),N=u("div"),V=u("button"),M=y(),m=u("div"),I=u("span"),z=u("span"),L=b(n[3]),oe=b(`
          /
          `),k=u("input"),ce=y(),P=u("div"),O=u("span"),ie=b("Height "),Q=b(H),ue=b(" mm"),de=y(),U=u("span"),fe=b("Total time: "),Z=b(G),he=b(" s"),pe=y(),D=u("div"),B=u("button"),me=b("Take Dark"),_e=y(),R=u("span"),ve=b("Dark Corrected"),x=u("input"),ge=y(),W=u("div"),be=b("Bundles taken"),Ee=y(),j=u("div"),T=u("progress"),this.h()},l(_){l=d(_,"SPAN",{class:!0});var v=h(l);t=d(v,"CONTENT",{class:!0});var $=h(t);a=d($,"BUTTON",{class:!0});var xe=h(a);r=E(xe,"Start"),xe.forEach(c),i=S($),e=d($,"BUTTON",{class:!0});var Ae=h(e);f=E(Ae,"Autofocus"),Ae.forEach(c),$.forEach(c),g=S(v),w=d(v,"DIV",{class:!0});var Ve=h(w);p=d(Ve,"DIV",{class:!0});var A=h(p);N=d(A,"DIV",{class:!0});var Oe=h(N);V=d(Oe,"BUTTON",{class:!0}),h(V).forEach(c),Oe.forEach(c),M=S(A),m=d(A,"DIV",{class:!0});var q=h(m);I=d(q,"SPAN",{class:!0});var ee=h(I);z=d(ee,"SPAN",{class:!0});var Ue=h(z);L=E(Ue,n[3]),Ue.forEach(c),oe=E(ee,`
          /
          `),k=d(ee,"INPUT",{type:!0,class:!0,min:!0,max:!0,placeholder:!0}),ee.forEach(c),ce=S(q),P=d(q,"DIV",{class:!0});var te=h(P);O=d(te,"SPAN",{});var se=h(O);ie=E(se,"Height "),Q=E(se,H),ue=E(se," mm"),se.forEach(c),de=S(te),U=d(te,"SPAN",{});var ae=h(U);fe=E(ae,"Total time: "),Z=E(ae,G),he=E(ae," s"),ae.forEach(c),te.forEach(c),pe=S(q),D=d(q,"DIV",{class:!0});var ne=h(D);B=d(ne,"BUTTON",{class:!0});var Be=h(B);me=E(Be,"Take Dark"),Be.forEach(c),_e=S(ne),R=d(ne,"SPAN",{});var ye=h(R);ve=E(ye,"Dark Corrected"),x=d(ye,"INPUT",{type:!0,class:!0}),ye.forEach(c),ne.forEach(c),q.forEach(c),ge=S(A),W=d(A,"DIV",{class:!0});var Ce=h(W);be=E(Ce,"Bundles taken"),Ce.forEach(c),Ee=S(A),j=d(A,"DIV",{class:!0});var ze=h(j);T=d(ze,"PROGRESS",{max:!0,class:!0}),h(T).forEach(c),ze.forEach(c),A.forEach(c),Ve.forEach(c),v.forEach(c),this.h()},h(){o(a,"class","_btn btn--primary svelte-10c5x4u"),o(e,"class","_btn btn--secondary svelte-10c5x4u"),o(t,"class","grid grid-row-2 gap-y-2 w-32"),o(V,"class","btn loading btn-circle btn-lg bg-base-200 btn-ghost"),o(N,"class","stat-figure text-primary"),o(z,"class","font-mono"),o(k,"type","number"),o(k,"class","input stat-value w-36 text-right px-2"),o(k,"min","1"),o(k,"max","999"),o(k,"placeholder","1"),o(I,"class","stat-value"),o(P,"class","flex flex-col ml-4 opacity-75"),o(B,"class","btn btn-sm btn--secondary svelte-10c5x4u"),o(x,"type","checkbox"),o(x,"class","toggle toggle-sm ml-4 mt-2"),o(D,"class","flex flex-col ml-4"),o(m,"class","flex"),o(W,"class","stat-title"),T.value=X=n[2].n,o(T,"max",Y=n[1].n),o(T,"class","progress progress-secondary transition-all"),o(j,"class","stat-desc"),o(p,"class","stat"),o(w,"class","border stats border-base-300 flex-grow"),o(l,"class","flex flex-row gap-x-3 w-full")},m(_,v){re(_,l,v),s(l,t),s(t,a),s(a,r),s(t,i),s(t,e),s(e,f),s(l,g),s(l,w),s(w,p),s(p,N),s(N,V),s(p,M),s(p,m),s(m,I),s(I,z),s(z,L),s(I,oe),s(I,k),Re(k,n[1].n),s(m,ce),s(m,P),s(P,O),s(O,ie),s(O,Q),s(O,ue),s(P,de),s(P,U),s(U,fe),s(U,Z),s(U,he),s(m,pe),s(m,D),s(D,B),s(B,me),s(D,_e),s(D,R),s(R,ve),s(R,x),x.checked=n[0],s(p,ge),s(p,W),s(W,be),s(p,Ee),s(p,j),s(j,T),ke||(De=[F(a,"click",n[5]),F(e,"click",n[7]),F(k,"input",n[8]),F(B,"click",n[9]),F(x,"change",n[10])],ke=!0)},p(_,[v]){v&8&&Ie(L,_[3]),v&2&&We(k.value)!==_[1].n&&Re(k,_[1].n),v&16&&H!==(H=_[4].toFixed(3)+"")&&Ie(Q,H),v&16&&G!==(G=_[4]/2+"")&&Ie(Z,G),v&1&&(x.checked=_[0]),v&4&&X!==(X=_[2].n)&&(T.value=X),v&2&&Y!==(Y=_[1].n)&&o(T,"max",Y)},i:J,o:J,d(_){_&&c(l),ke=!1,Ze(De)}}}function st(n,l,t){let a,r;le(n,Pe,m=>t(1,a=m)),le(n,C,m=>t(2,r=m));let i,e="  --",f=0,g=!1;function w(){0<a.n&&a.n<1e3?K(C,r={cmd:"take",n:a.n},r):alert("Invalid number of bundles.")}const p=()=>K(C,r={cmd:"autofocus",n:a.n},r);function N(){a.n=We(this.value),Pe.set(a)}const V=()=>K(C,r={cmd:"dark",n:a.n},r);function M(){g=this.checked,t(0,g)}return n.$$.update=()=>{n.$$.dirty&2&&t(4,f=a.n*128*.375/1e3),n.$$.dirty&3&&(g?K(C,r={cmd:"corr",n:a.n},r):K(C,r={cmd:"uncorr",n:a.n},r)),n.$$.dirty&68&&r&&("cmd"in r||(t(6,i=r?r.n:-1),t(3,e=i==-1?"--":i)))},[g,a,r,e,f,w,i,p,N,V,M]}class at extends Se{constructor(l){super();we(this,l,st,tt,Te,{})}}function nt(n){let l,t,a,r,i;return t=new at({}),r=new et({}),{c(){l=y(),je(t.$$.fragment),a=y(),je(r.$$.fragment),this.h()},l(e){Xe('[data-svelte="svelte-1g6iwu5"]',document.head).forEach(c),l=S(e),qe(t.$$.fragment,e),a=S(e),qe(r.$$.fragment,e),this.h()},h(){document.title="PySeq 2501"},m(e,f){re(e,l,f),Fe(t,e,f),re(e,a,f),Fe(r,e,f),i=!0},p:J,i(e){i||(Me(t.$$.fragment,e),Me(r.$$.fragment,e),i=!0)},o(e){He(t.$$.fragment,e),He(r.$$.fragment,e),i=!1},d(e){e&&c(l),Ge(t,e),e&&c(a),Ge(r,e)}}}class ot extends Se{constructor(l){super();we(this,l,null,nt,Te,{})}}export{ot as default};
